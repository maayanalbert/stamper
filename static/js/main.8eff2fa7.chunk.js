(window.webpackJsonpStamper=window.webpackJsonpStamper||[]).push([[0],{1166:function(e,t,n){e.exports=n.p+"static/media/globe.50d70b6d.svg"},1167:function(e,t,n){e.exports=n.p+"static/media/message-square.42f61b6c.svg"},1168:function(e,t,n){},1170:function(e,t,n){"use strict";n.r(t);var i,s,o,a,r,d,c,l,h,p,u,m=n(0),f=n.n(m),g=n(10),v=n.n(g),y=n(14),b=n(15),S=n(17),x=n(16),k=n(18),w=(n(142),n(62)),C=n.n(w),_=n(9),H=n(23),z=n(19),E=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=60,M=60,D=10,j=z.a.div(i||(i=E(["\n  ","\n position: fixed;\n  display: inline-flex;\n  flex-direction: column;\n  background: white;\n  min-width: ","px;\n  min-height: ","px;\n  user-select: none;\n"],["\n  ","\n  position: fixed;\n  display: inline-flex;\n  flex-direction: column;\n  background: white;\n  min-width: ","px;\n  min-height: ","px;\n  user-select: none;\n"])),(function(e){return e.isActive?"\n      \n    ":"opacity: 1;"}),O,M),W=z.a.div(s||(s=E(["\n  height: 30px;\n  border-bottom: 1px solid rgb(215,215,215);\n  cursor: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: ","px;\n"],["\n  height: 30px;\n  border-bottom: 1px solid #ccc;\n  cursor: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: ","px;\n"])),(function(e){return e.isDraggable?"-webkit-grab":"default"}),D),R=z.a.div(o||(o=E(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n"],["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n"]))),L=z.a.div(u||(u=E(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  cursor: nesw-resize;\n"],["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n"]))),I=z.a.div(a||(a=E([" \n  padding: ","px;\n"],["\n  padding: ","px;\n"])),D),F=(z.a.img(r||(r=E(["\n  position: relative;\n  width: 15px;\n  height: 15px;\n margin-left:12px;\n  opacity: 0.3;\n  cursor: auto;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before, &:after {\n    position: absolute;\n    right: 60px;\n    content: ' ';\n    height: 21px;\n    width: 2px;\n    background-color: #333;\n  }\n\n  &:before {\n    transform: rotate(45deg);\n  }\n\n  &:after {\n    transform: rotate(-45deg);\n  }\n"],["\n  position: relative;\n  width: 20px;\n  height: 20px;\n  opacity: 0.3;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before, &:after {\n    position: absolute;\n    right: 30px;\n    content: ' ';\n    height: 21px;\n    width: 2px;\n    background-color: #333;\n  }\n\n  &:before {\n    transform: rotate(45deg);\n  }\n\n  &:after {\n    transform: rotate(-45deg);\n  }\n"]))),z.a.img(h||(h=E(["\n  position: relative;\n  width: 17px;\n  height: 17px;\n  opacity: 0.3;\n  cursor: auto;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before, &:after {\n    position: absolute;\n    right: 40px;\n    content: ' ';\n    height: 21px;\n    width: 2px;\n    background-color: #FF0000;\n  }\n\n  &:before {\n    transform: rotate(45deg);\n  }\n\n  &:after {\n    transform: rotate(-45deg);\n  }\n"],["\n  position: relative;\n  width: 20px;\n  height: 20px;\n  opacity: 0.3;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before, &:after {\n    position: absolute;\n    right: 40px;\n    content: ' ';\n    height: 21px;\n    width: 2px;\n    background-color: #333;\n  }\n\n  &:before {\n    transform: rotate(45deg);\n  }\n\n  &:after {\n    transform: rotate(-45deg);\n  }\n"]))),z.a.div(d||(d=E(["\n  white-space: nowrap;\n  max-width: calc(100% - 25px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  white-space: nowrap;\n  max-width: calc(100% - 25px);\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),z.a.div(c||(c=E(["\n  width: 20px;\n  height: calc(100% - 50px);\n  position: absolute;\n  bottom: 20px;\n  right: 0;\n  cursor: ew-resize;\n"],["\n  width: 20px;\n  height: calc(100% - 50px);\n  position: absolute;\n  bottom: 20px;\n  right: 0;\n  cursor: ew-resize;\n"])))),B=z.a.div(p||(p=E(["\n  width: 20px;\n  height: calc(100% - 50px);\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n  cursor: ew-resize;\n"],["\n  width: 20px;\n  height: calc(100% - 50px);\n  position: absolute;\n  bottom: 20px;\n  right: 0;\n  cursor: ew-resize;\n"]))),A=z.a.div(l||(l=E(["\n  width: calc(100% - 40px);\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  left: 20px;\n  cursor: ns-resize;\n"],["\n  width: calc(100% - 40px);\n  height: 20px;\n  position: absolute;\n  bottom: 0;\n  left: 20px;\n  cursor: ns-resize;\n"]))),T=function(e){return"string"===typeof e},X={width:O,height:M},P=function(e,t){void 0===t&&(t=X);var n=e.x,i=e.y,s=t.width,o=t.height,a=window.innerWidth,r=window.innerHeight,d=a-(s||0)-D,c=r-(o||0)-D;return{x:Math.min(Math.max(n,D),d),y:Math.min(Math.max(i,D),c)}},Y=function(e,t){void 0===t&&(t=X);var n=window.innerWidth,i=window.innerHeight,s=n/2-t.width/2,o=i/2-t.height/2;switch(e){case"top-left":default:return{x:10,y:10};case"top-center":return{x:s,y:10};case"bottom-center":return{x:s,y:1/0};case"top-right":return{x:1/0,y:10};case"bottom-left":return{x:10,y:1/0};case"bottom-right":return{x:1/0,y:1/0};case"center":return{x:s,y:o}}},N=function(){function e(){}return e.getNextIndex=function(t){return t===e.maxIndex?t:(e.maxIndex++,e.maxIndex)},e.maxIndex=100,e}(),q=n(351),G=n.n(q),U=n(352),K=n.n(U),J=n(353),V=n.n(J),Z=n(354),Q=n.n(Z),$=n(356),ee=n.n($),te=n(6),ne=n.n(te),ie={defaultEditorWidth:225,defaultVarEditorHeight:200,defaultEditorHeight:200,defaultIframeWidth:200,iframeMargin:8,headerHeight:30,brHeight:25,codeSize:14,buttonTextSize:12,bigCodeSize:28,fnTitleHeight:90,copyOffset:17,iconOpacity:.5,iconSize:15,iconTransition:"all .3s ease",borderTransition:"border .3s ease-out",specialFns:{draw:!0,preload:!0,setup:!0,windowResized:!1,deviceMoved:!1,deviceTurned:!1,deviceShaken:!1,keyPressed:!1,keyReleased:!1,keyTyped:!1,mouseMoved:!1,mouseDragged:!1,mousePressed:!1,mouseReleased:!1,mouseClicked:!1,doubleClicked:!1,mouseWheel:!1},fnStampWidth:557,fnStampHeight:318},se=["abs()","acos()","alpha(color)","ambient(color)","ambientLight(r,g,b)","append(array,value)","applyMatrix(n00,n01,n02,n03,n10,n11,n12,n13,n20,n21,n22,n23,n30,n31,n32,n33)","arc(x,y,width,start,stop)","arrayCopy(src,dst,(length))","asin()","atan()","atan2()","background(color)","beginCamera()","beginContour()","beginRaw(renderer,filename)","beginRecord(renderer,filename)","beginShape()","bezier(x1,y1,x2,y2,x3,y3,x4,y4)","bezierDetail(detail)","bezierPoint(a,b,c,d,t)","bezierTangent(a,b,c,d,t)","bezierVertex(x2,y2,x3,y3,x4,y4)","binary(value,(digits))","blend(sx,sy,sw,sh,dx,dy,dw,dh,mode)","blendMode(mode)","blue(color)","boolean(value)","box(size)","brightness(color)","byte(value)","camera(eyeX,eyeY,eyeZ,centerX,centerY,centerZ,upX,upY,upZ)","ceil()","char(value)","clear()","color(color)","colorMode(mode)","concat(a,b)","constrain()","copy(sx,sy,sw,sh,dx,dy,dw,dh)","cos()","createFont(name,size)","createGraphics(w,h)","createImage(w,h,format)","createInput(filename)","createOutput(filename)","createReader(filename)","createShape(kind,parameters)","createWriter(filename)","cursor(img)","curve(x1,y1,x2,y2,x3,y3,x4,y4)","curveDetail(detail)","curvePoint(a,b,c,d,t)","curveTangent(a,b,c,d,t)","curveTightness(tightness)","curveVertex(x,y)","day()","degrees()","directionalLight(r,g,b,nx,ny,nz)","displayDensity()","dist()","ellipse(x,y,width,height)","ellipseMode(mode)","emissive(color)","endCamera()","endContour()","endRaw()","endRecord()","endShape()","exp()","expand(list,(newSize))","fill(color)","filter(shader)","float(value)","floor()","frameRate(fps)","frustum(left,right,bottom,top,near,far)","fullScreen(renderer)","get(x,y)","green(color)","hex(value,(digits))","hour()","hue(color)","image(image,x,y)","imageMode(mode)","int(value)","join(list,seperator)","launch(args)","lerp()","lerpColor(color1,color2,amount)","lightFalloff(constant,linear,quadratic)","lights()","lightSpecular(r,g,b)","line(x1,y1,x2,y2)","loadBytes(filename)","loadFont(filename)","loadImage(filename)","loadPixels()","loadShader(fragFilename,(vertFilename))","loadShape(filename)","loadStrings(filename)","loadTable(filename,(options))","loadXML(filename)","log()","mag()","map()","match(string,regexp)","matchAll(string,regexp)","max()","millis()","min()","minute()","modelX(x,y,z)","modelY(x,y,z)","modelZ(x,y,z)","month()","nf(num,digits)","nfc(num,(right))","nfp(num,(digits))","nfs(num,digits)","noCursor()","noCursor()","noFill()","noise()","noiseDetail()","noiseSeed()","noLights()","norm()","normal(nx,ny,nz)","noSmooth()","noStroke()","noTint()","ortho(left,right,bottom,top)","parseXML(string,(options))","perspective(fovy,aspect,zNear,zFar)","pixelDensity(density)","point(x,y)","pointLight(r,g,b,x,y,z)","popMatrix()","pow()","print(variables)","printArray(array)","printCamera()","println(variables)","printMatrix()","printProjection()","pushMatrix()","quad(x,y,x2,y2,x3,y3,x4,y4)","quadraticVertex(x,y,x2,y2)","radians()","random()","randomGaussian()","randomSeed()","rect(x,y,width,height)","rectMode(mode)","red(color)","requestImage(filename)","resetMatrix()","resetShader()","reverse(list)","rotate(angle)","rotateX(angle)","rotateY(angle)","rotateZ(angle)","round()","saturation(color)","save(filename)","saveBytes(filename,data)","saveFrame(filename####)","saveStream(target,source)","saveStrings(filename,data)","saveTable(table,filename,(options))","saveXML(xml,filename,(options))","scale(s)","screenX(x,y)","screenY(x,y)","screenZ(x,y)","second()","selectFolder(prompt,callback)","selectInput(prompt,callback)","selectOutput(prompt,callback)","set(x,y,color)","shader(shader)","shape(shape,x,y)","shapeMode(mode)","shearX(angle)","shearY(angle)","shininess(shine)","shorten(list)","sin()","size(width,height,renderer)","smooth()","sort(list,(count))","specular(color)","sphere(radius)","sphereDetail(res)","splice(list,value,index)","split(value,digits)","splitTokes(value,(delim))","spotLight(r,g,b,x,y,z,nx,ny,nz,angle,concentration)","sq()","sqrt()","string(value)","stroke(color)","strokeCap(cap)","strokeJoin(join)","strokeWeight(weight)","subset(list,start,(count))","tan()","text(string,x,y)","textAlign(alignX,(alignY))","textAscent()","textDescent()","textFont(font,(size))","textLeading(leading)","textMode(mode)","textSize(size)","texture(image)","textureMode(mode)","textureWrap(wrap)","textWidth(string)","tint(color)","translate(x,y)","triangle(x1,y1,x2,y2,x3,y3)","trim(string)","unbinary(value)","unhex(value)","updatePixels()","vertex(x,y)","year()","HALF_PI","PI","QUARTER_PI","TAU","TWO_PI","frameCount","deltaTime","focused","displayWidth","displayHeight","windowWidth","windowHeight","width","height","disableFriendlyErrors","p5.Element","VIDEO","AUDIO","p5.MediaElement","p5.File","p5.Graphics","p5.TypedDict","p5.NumberDict","deviceOrientation","accelerationX","accelerationY","accelerationZ","pAccelerationX","pAccelerationY","pAccelerationZ","rotationX","rotationY","rotationZ","pRotationX","pRotationY","pRotationZ","turnAxis","keyIsPressed","key","keyCode","movedX","movedY","mouseX","mouseY","pmouseX","pmouseY","winMouseX","winMouseY","pwinMouseX","pwinMouseY","mouseButton","mouseIsPressed","DEGREES","RADIANS","CORNER","CORNERS","CENTER","RADIUS","exitPointerLock()","angleMode(mode)","touches","touchStarted(fxn)","touchMoved(fxn)","touchEnded(fxn)","saveCanvas(selectedCanvas, [filename], [extension])","saveCanvas([filename], [extension])","saveFrames(filename, extension, duration, framerate, [callback])","pixels","loadJSON(path, [jsonpOptions], [datatype], [callback], [errorCallback])","loadJSON(path, datatype, [callback], [errorCallback])","loadJSON(path, callback, [errorCallback])","httpGet(path, [datatype], [data], [callback], [errorCallback])","httpGet(path, data, [callback], [errorCallback])","httpGet(path, callback, [errorCallback])","httpPost(path, [datatype], [data], [callback], [errorCallback])","httpPost(path, data, [callback], [errorCallback])","httpPost(path, callback, [errorCallback])","httpDo(path, [method], [datatype], [data], [callback], [errorCallback])","httpDo(path, options, [callback], [errorCallback])","saveJSON(json, filename, [optimize])","createVector([x], [y], [z])","textStyle(theStyle)","orbitControl([sensitivityX], [sensitivityY], [sensitivityZ])","debugMode()","debugMode(mode)","debugMode(mode, [gridSize], [gridDivisions], [xOff], [yOff], [zOff])","debugMode(mode, [axesSize], [xOff], [yOff], [zOff])","debugMode([gridSize], [gridDivisions], [gridXOff], [gridYOff], [gridZOff], [axesSize], [axesXOff], [axesYOff], [axesZOff])","noDebugMode()","specularColor(v1, v2, v3)","specularColor(value)","specularColor(gray)","specularColor(values)","specularColor(color)","createShader(vertSrc, fragSrc)","normalMaterial()","ambientMaterial(v1, [v2], [v3], [a])","ambientMaterial(color)","emissiveMaterial(v1, [v2], [v3], [a])","emissiveMaterial(color)","specularMaterial(v1, [v2], [v3], [a])","specularMaterial(color)","createCamera()","setCamera(cam)"];var oe=n(206),ae=n(208);if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var re=window.require("electron").ipcRenderer;else re=!1;var de=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={x:D,y:D,isDragging:!1,isResizingX:!1,isResizingY:!1,isResizingXLeft:!1,zIndex:N.getNextIndex(),downKey:-1,isMoving:!1,originalHeight:null},t.opt=18,t.cmd=91,t.ctrl=17,t.plus=187,t.minus=189,t.zero=48,t.onWindowResize=function(){var e=t.state,n=e.x,i=e.y,s=e.width,o=e.height,a=P({x:n,y:i},s&&o?{width:s,height:o}:void 0),r=a.x,d=a.y;t.setState({x:r,y:d})},t.saveWrapperRef=function(e){if(t.childrenElement=e,t.childrenElement){var n,i,s=t.props.initialSize;if(s){var o=t.childrenElement.getBoundingClientRect();n=s.width?s.width:o.width,i=s.height?s.height:o.height}else{n=(o=t.childrenElement.getBoundingClientRect()).width,i=o.height}t.setState({width:n,height:i,originalHeight:i}),t.setInitialPosition({width:n,height:i})}},t.setInitialPosition=function(e){var n,i=t.props.initialPosition;i&&(n=T(i)?Y(i,e):i,t.setState({x:n.x,y:n.y}))},t.saveHeaderRef=function(e){t.headerElement=e},t.onKeyDown=function(e){t.state.downKey===t.cmd||t.state.downKey===t.ctrl?e.keyCode===t.zero?e.preventDefault():e.keyCode===t.plus?e.preventDefault():e.keyCode===t.minus&&e.preventDefault():t.setState({downKey:e.keyCode})},t.onKeyUp=function(e){e.keyCode===t.state.downKey&&t.setState({downKey:-1})},t.onMouseDown=function(){t.props.isDraggable&&t.setState({isDragging:!0})},t.manualResize=function(e,n){var i=t.state.width;t.state.height,t.state.originalHeight;t.setState({width:i+e})},t.onWheel=function(e){e.ctrlKey&&e.preventDefault()},t.onMouseMove=function(e){var n=t.isResizing,i=t.props.getScale(),s=t.state,o=s.isDragging,a=s.x,r=s.y,d=s.width,c=s.height,l=e.movementX,h=e.movementY,p=(window.innerWidth,window.innerHeight,a+l/i),u=r+h/i;if(o){re&&re.send("edited");var m=P({x:p,y:u},d&&c?{width:d,height:c}:void 0);m.x,m.y;t.setState({x:p,y:u},t.onStartMove)}else n&&(re&&re.send("edited"),t.resizeCristal(e))},t.resizeCristal=function(e){t.isResizing;var n=t.props.getScale(),i=t.state,s=(i.isDragging,i.x),o=(i.y,i.width),a=i.height,r=e.movementX/n,d=e.movementY/n,c=(window.innerWidth,window.innerHeight,t.state),l=c.isResizingX,h=c.isResizingY,p=c.isResizingXLeft,u=a,m=o,f=s;if(l){var g=(o||0)+r;m=Math.max(g,O)}if(p)g=(o||0)-r,m=Math.max(g,O),f=s+r;if(h){var v=(a||0)+d;u=Math.max(v,M)}t.notifyResize(m,u,f)},t.onStoppedMove=function(){this.state.isMoving&&t.notifyStopMove(),t.setState({isMoving:!1})},t.onStartMove=function(){t.notifyMove(),!1===t.state.isMoving&&t.state.downKey===t.opt&&t.notifyOptMove(),t.setState({isMoving:!0})},t.notifyMove=function(){var e=t.props.onMove;e&&e(t.state)},t.notifyResize=function(e,n,i){var s=t.props.onResize,o=n-t.state.height,a=e-t.state.width,r=!1;if(s)r=s(a,o,t.state.x);r||t.setState({height:n,width:e,x:i})},t.notifyStartMove=function(){var e=t.props.onStartMove;e&&e(t.state)},t.notifyStopMove=function(){var e=t.props.onStopMove;e&&e(t.state)},t.notifyOptMove=function(){var e=t.props.onOptMove;e&&e(t.state)},t.notifyStartResize=function(){var e=t.props.onStartResize;e&&e(t.state)},t.notifyStopResize=function(){var e=t.props.onStopResize;e&&e(t.state)},t.onMouseUp=function(){t.onStoppedMove(),(t.state.isResizingY||t.state.isResizingX||t.state.isResizingXLeft)&&t.notifyStopResize(),t.setState({isDragging:!1,isResizingX:!1,isResizingXLeft:!1,isResizingY:!1,mouseIsDown:!1})},t.startFullResize=function(){t.notifyStartResize(),t.setState({isResizingX:!0,isResizingY:!0})},t.startFullLeftResize=function(){t.notifyStartResize(),t.setState({isResizingXLeft:!0,isResizingY:!0})},t.startXResize=function(){return t.notifyStartResize(),t.setState({isResizingX:!0})},t.startXLeftResize=function(){return t.notifyStartResize(),t.setState({isResizingXLeft:!0})},t.startYResize=function(){return t.notifyStartResize(),t.setState({isResizingY:!0})},t.renderResizeHandles=function(){if(t.props.isResizable){var e=t.props.getScale(),n=t.state.height,i=t.state.width,s="transparent";return[m.createElement(F,{key:"right-resize",onMouseDown:t.startXResize,style:{background:s,right:-2.5,width:5/e,bottom:5/e,height:n-30-5/e}}),m.createElement(B,{key:"left-resize",onMouseDown:t.startXLeftResize,style:{background:s,left:-2.5,width:5/e,bottom:5/e,height:n-30-5/e}}),m.createElement(R,{key:"bottom-right-resize",onMouseDown:t.startFullResize,style:{background:s,right:-2.5,bottom:-2.5,width:5/e,height:5/e}}),m.createElement(L,{key:"bottom-left-resize",onMouseDown:t.startFullLeftResize,style:{background:s,left:-2.5,bottom:-2.5,width:5/e,height:5/e}}),m.createElement(A,{key:"bottom-resize",onMouseDown:t.startYResize,style:{background:s,bottom:-2.5,height:5/e,left:5/e,width:i-10/e}})]}},t.changeZIndex=function(){var e=t.state.zIndex;t.setState({zIndex:N.getNextIndex(e)})},t}function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0;if(n)return null;var a=i+e.props.parentID.toString(),r=function(){ne()("."+a).css({opacity:"1"})},d=function(){ne()("."+a).css({opacity:ie.iconOpacity})},c=ie.iconOpacity;s||(r=function(){},d=function(){},c=ie.iconOpacity);var l=m.createElement("img",{onClick:s,style:{opacity:c,height:ie.iconSize,width:ie.iconSize},className:"text-greyIcon m-1 "+a,onMouseOver:r,onMouseOut:d,src:t});return o?m.createElement("div",{onMouseOver:r,onMouseOut:d},m.createElement(oe.a,{trigger:"hover",placement:"top",overlay:m.createElement(ae.a,{id:"alert",className:"picker",style:{fontSize:12}},o)},l)):l}return de(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.onGlobalMouseDown),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("wheel",this.onWheel,{passive:!1})},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onGlobalMouseDown),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("wheel",this.onWheel)},Object.defineProperty(t.prototype,"isResizing",{get:function(){var e=this.state,t=e.isResizingX,n=e.isResizingY,i=e.isResizingXLeft;return t||n||i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){var e=this.props,t=(e.title,e.isDraggable),i=e.onClose,s=e.closeHidden,o=e.onCopy,a=e.copyHidden,r=n(this,G.a,s,"mouseOnClose",i,"delete stamp"),d=n(this,K.a,a,"mouseOnCopy",o,"copy stamp"),c=n(this,V.a,!e.showClear,"mousOnClear",e.onClear,"clear console");if(e.onMinimize)var l=n(this,ee.a,null===e.onMinimize,"mouseOnMinimize",e.onMinimize);var h=null;if(this.props.icon)h=n(this,this.props.icon);var p=n(this,Q.a,!e.showMakeBig,"mouseOnBig",e.onMakeBig,"toggle text size"),u=m.createElement("div",{class:"row mt-1",style:{position:"absolute",cursor:"auto",right:18,top:0}},p,d,r,c,l);return m.createElement(W,{className:"bg-white rounded-top",isDraggable:t,ref:this.saveHeaderRef,onMouseDown:this.onMouseDown},h,u)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){var e=this.props.children;return m.createElement(I,{},e)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.isResizing,t=this.state,n=t.x,i=t.y,s=t.width,o=t.height,a=t.isDragging,r=t.zIndex,d=this.props.className,c=a||e,l={left:n,top:i,width:s,height:o,zIndex:r,position:"absolute",border:this.props.border,outline:this.props.outline},h=this.header,p=this.content;return this.props.headerHidden&&(h=null),m.createElement(j,{style:l,ref:this.saveWrapperRef,isActive:c,className:d+" rounded "+this.props.wrapperName,onMouseDown:this.changeZIndex},m.createElement("div",null,h),p,this.renderResizeHandles())},t.defaultProps={children:null,isResizable:!0,isDraggable:!0},t}(m.Component),le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),he=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}le(t,e),t.prototype.render=function(){return m.createElement("div",null,"Custom Content")}}(m.Component),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),pe=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}he(t,e),t.prototype.render=function(){return m.createElement("div",null,"Custom header")}}(m.Component),n(209)),ue=(n(143),n(47)),me=n.n(ue),fe=n(138),ge=n.n(fe),ve=n(358),ye=n.n(ve),be=n(359),Se=n.n(be),xe=n(210),ke=n.n(xe),we=n(139),Ce=n.n(we),_e=(n(790),n(792),n(144),n(145),n(146),n(147),n(148),n(76));if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var He=window.require("electron").ipcRenderer;else He=!1;var ze=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).state={code:n.props.starterCode,name:n.props.starterName,args:n.props.starterArgs,iframeDisabled:n.props.iframeDisabled,iframeWidth:n.props.starterIframeWidth,iframeHeight:0,editorHeight:n.props.starterEditorHeight,editorWidth:n.props.starterEditorWidth,isSpecialFn:!1,editorScrolling:!1,errorLines:n.props.errorLines,iframeCode:"",editsMade:!1,runningBorder:!1,resizingIframe:!1,x:n.props.initialPosition.x,y:n.props.initialPosition.y,hidden:n.props.initialHidden,looping:!1,loopingTransition:""},n.cristalRef=f.a.createRef(),n.editorRef=f.a.createRef(),n.updateLooping=n.updateLooping.bind(Object(H.a)(n)),n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"toggleHide",value:function(e){var t=this;He&&He.send("edited"),this.state.hidden?this.setState({hidden:!1,savedIframeHeight:this.state.iframeHeight,iframeHeight:0},(function(){return t.setState({iframeHeight:t.state.savedIframeHeight},e)})):this.setState({hidden:!0},e)}},{key:"updateLooping",value:function(e){"loop"==e.data.type&&e.data.id==this.props.id&&("start"===e.data.message?this.setState({looping:!0,loopingTransition:""}):"stop"===e.data.message&&this.setState({looping:!1,loopingTransition:"all 1s ease-in"}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({iframeHeight:this.props.starterIframeHeight},(function(){return e.props.requestCompile(e.props.id)})),this.checkName(),window.addEventListener("message",this.updateLooping)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.updateLooping)}},{key:"checkName",value:function(){var e=this.state.name in ie.specialFns;this.setState({isSpecialFn:e})}},{key:"addErrorLine",value:function(e){var t=this.state.errorLines;t[e]="",this.setState({errorLines:t})}},{key:"clearErrorsAndUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.state.errorLines;n={};this.setState({errorLines:n},(function(){e.setState({iframeCode:e.props.getHTML(e.props.id),looping:!0,loopingTransition:""});for(var n=0;n<t.length;n++)e.addErrorLine(t[n])}))}},{key:"loadp5Lib",value:function(){this.editorRef.current&&this.editorRef.current.editor.completers.push({getCompletions:function(e,t,n,i,s){var o=[];se.forEach((function(e){o.push({value:e,meta:"p5.js"})})),s(null,o)}})}},{key:"updateIframeDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;He&&He.send("edited");var n=this.state.iframeWidth+e,i=this.state.iframeHeight+t;n<30&&(e=0,n=30),i<30&&(t=0,i=30),this.setState({iframeWidth:n,iframeHeight:i}),this.cristalRef.current.manualResize(e,t)}},{key:"setEditorScrolling",value:function(e){e&&0==this.state.editorScrolling?(this.setState({editorScrolling:!0}),this.props.disablePan(!0)):!1===e&&this.state.editorScrolling&&(this.setState({editorScrolling:!1}),this.props.disablePan(!1))}},{key:"renderEditor",value:function(){var e=this,t=[];for(var n in this.state.errorLines)0!=n&&t.push({startRow:n-1,endRow:n,type:"background",className:"bg-warningOrange marker"});var i="p5",s="javascript";return(this.props.isHtml||this.props.isCss)&&(i="solarized_light"),this.props.isCss?s="css":this.props.isHtml&&(s="html"),f.a.createElement("div",{onMouseOut:function(){e.setEditorScrolling(!1)}},f.a.createElement("br",null),f.a.createElement(me.a,{markers:t,style:{width:this.state.editorWidth,height:this.state.editorHeight,background:"transparent",fontFamily:"Inconsolata"},mode:s,theme:i,onChange:function(t){e.setState({code:t,editsMade:!0}),He&&He.send("edited")},name:"name"+this.props.id.toString(),fontSize:ie.codeSize,showPrintMargin:!1,wrapEnabled:!0,showGutter:!1,highlightActiveLine:!1,value:this.state.code,ref:this.editorRef,onScroll:function(){return e.setEditorScrolling(!0)},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2,hasCssTransforms:!0}}))}},{key:"compileCallback",value:function(){var e=this;this.state.editsMade&&(this.props.requestCompile(this.props.id),this.setState({editsMade:!1,runningBorder:!0},(function(){return setTimeout((function(){e.setState({runningBorder:!1})}),300)})))}},{key:"renderFunctionName",value:function(){var e=this;if(this.state.name!=this.props.starterName)this.state.Name;var t="blue";this.state.isSpecialFn?t="pink":(this.props.isHtml||this.props.isCss)&&(t="htmlCssName");return f.a.createElement("div",null,f.a.createElement("input",{placeholder:"function name...",disabled:this.props.isHtml||this.props.isCss,onChange:function(t){e.setState({name:t.target.value,editsMade:!0},(function(){return e.checkName()})),He&&He.send("edited")},style:{background:"transparent"},value:this.state.name,class:"text-"+t+" name"}),f.a.createElement("br",null),f.a.createElement("input",{placeholder:"arguments...",disabled:this.props.isHtml||this.props.isCss,onChange:function(t){e.setState({args:t.target.value,editsMade:!0}),He&&He.send("edited")},style:{background:"transparent"},value:this.state.args,class:"text-greyText args"}))}},{key:"renderIframe",value:function(){var e=this,t=0;return this.state.looping&&(t=.5),f.a.createElement("div",{hidden:this.props.isCss},f.a.createElement("div",{hidden:!this.state.resizingIframe,style:{position:"absolute",fontSize:ie.codeSize,opacity:.5,top:80,right:25},class:"text-greyText "},"W:"+Math.floor(this.state.iframeWidth)+" H:"+Math.floor(this.state.iframeHeight)),f.a.createElement("div",{style:{transition:this.state.loopingTransition,position:"absolute",fontSize:ie.codeSize,opacity:t,top:80,left:25+this.state.editorWidth},class:"text-greyText "},"active"),f.a.createElement(_e.Resizable,{className:"ml-1 bg-white shadow",onResize:function(t){e.updateIframeDimensions(t.movementX/e.props.getScale(),t.movementY/e.props.getScale())},onResizeStart:function(){e.props.onStartMove(),e.setState({resizingIframe:!0})},onResizeStop:function(t){e.props.onStopMove(),e.setState({resizingIframe:!1})},width:this.state.iframeHeight,height:this.state.iframeWidth,style:{overflow:"hidden",zIndex:5}},f.a.createElement("div",{onMouseOver:this.compileCallback.bind(this)},f.a.createElement("div",{style:{position:"absolute",width:this.state.iframeWidth,height:this.state.iframeHeight},hidden:!this.state.iframeDisabled}," "),f.a.createElement("iframe",{ref:function(t){t&&e.props.addNewIframeConsole(t.contentWindow.console)},id:"iframe"+this.props.id,scrolling:"no",style:{border:"none",height:this.state.iframeHeight+ie.iframeMargin,width:this.state.iframeWidth+2*ie.iframeMargin,margin:"-"+ie.iframeMargin.toString()+"px"},srcdoc:this.state.iframeCode,sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups  allow-same-origin allow-scripts",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media"}))))}},{key:"setIframeDisabled",value:function(e){this.setState({iframeDisabled:e})}},{key:"copyAndOpt",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.props.isCss&&!this.props.isHtml){var n=this.getData(),i=!1,s=!1,o=!1;t?o=!0:(i=!0,s=!0);var a=function(){return null};t&&(a=function(){return e.cristalRef.current.changeZIndex()});var r=this.props.addStamp(n,i,s,o,a);t&&this.setState({name:r},(function(){return e.checkName()}))}}},{key:"getData",value:function(){return{name:this.state.name,code:this.state.code,args:this.state.args,x:this.state.x,y:this.state.y,editorWidth:this.state.editorWidth,editorHeight:this.state.editorHeight,iframeWidth:this.state.iframeWidth,iframeHeight:this.state.iframeHeight,isHtml:this.props.isHtml,isCss:this.props.isCss,hidden:this.state.hidden,exported:!0}}},{key:"resizeEditor",value:function(e,t,n){var i=this.state.editorHeight+t,s=this.state.editorWidth+e;if(i<0||s<0)return!0;this.setState({editorHeight:i,editorWidth:s,x:n}),this.editorRef.current.editor.resize()}},{key:"getIcon",value:function(){var e=ge.a;return this.props.isHtml?e=Se.a:this.props.isCss?e=ye.a:this.state.isSpecialFn&&(e=ie.specialFns[this.state.name]?ke.a:Ce.a),e}},{key:"render",value:function(){var e,t=this,n="bg-white";0 in this.state.errorLines&&(n="bg-warningOrange");var i="border border-borderGrey";Object.keys(this.state.errorLines).length>0&&(i="border border-warningOrange"),this.state.runningBorder&&(i="border border-blue");var s="bg-jsArea";if((this.props.isHtml||this.props.isCss)&&(s="bg-htmlCssArea"),this.state.hidden)return f.a.createElement("div",null);var o=this.state.iframeWidth;return this.props.isCss&&(o=0),f.a.createElement("div",null,f.a.createElement(ce,(e={getScale:this.props.getScale,initialSize:{width:o+this.state.editorWidth+42,height:this.state.editorHeight+150},ref:this.cristalRef,isResizable:!0,onStartResize:this.props.onStartMove.bind(this),onStopResize:this.props.onStopMove.bind(this),onStartMove:this.props.onStartMove,onStopMove:this.props.onStopMove,onClose:function(){return t.props.onDelete(t.props.id)},onCopy:function(){return t.copyAndOpt()},onOptMove:function(){return t.copyAndOpt(!0)},closeHidden:this.props.isHtml||this.props.isCss,copyHidden:this.props.isHtml||this.props.isCss,initialPosition:{x:this.state.x,y:this.state.y},className:"stamp shadow-sm "+s+" "+i+" vertex"+this.props.id,onResize:this.resizeEditor.bind(this)},Object(_.a)(e,"onStartResize",this.props.onStartMove),Object(_.a)(e,"onStopResize",this.props.onStopMove),Object(_.a)(e,"onMove",(function(e){return t.setState({x:e.x,y:e.y})})),Object(_.a)(e,"icon",this.getIcon()),Object(_.a)(e,"parentID",this.props.id),e),f.a.createElement("div",{onMouseLeave:this.compileCallback.bind(this)},f.a.createElement("div",{class:n,style:{position:"absolute",top:ie.headerHeight,left:0,width:"100%",height:ie.fnTitleHeight,color:"transparent"}}," "),f.a.createElement("div",{class:"p-2"},this.renderFunctionName(),f.a.createElement("div",{class:"row m-0 "},this.renderEditor(),this.renderIframe())))))}}]),t}(m.Component),Ee=n(60),Oe=n.n(Ee),Me=n(140),De=n.n(Me),je=n(360),We=n.n(je),Re=n(77),Le=(0,n(863).detect)();if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var Ie=window.require("electron").ipcRenderer;else Ie=!1;var Fe=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).state={modalVisible:!Ie&&Le&&"chrome"!=Le.name,modalHeader:"Use Chrome please!",modalContent:"Right now, the web version of Stamper is only supported in Google Chrome."},n.inputElem=null,n.uploadProject=n.uploadProject.bind(Object(H.a)(n)),n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;Ie&&Ie.on("openFiles",(function(t,n){console.log(n),e.openFiles(n.html,n.js,n.css,n.stamper,n.path)}));var t=document.createElement("input",{id:"projectInput",type:"file",webkitdirectory:"true",multiple:"true"}),n=document.createAttribute("id");n.value="projectInput",t.setAttributeNode(n);var i=document.createAttribute("type");i.value="file",t.setAttributeNode(i);var s=document.createAttribute("multiple");s.value="true",t.setAttributeNode(s);var o=document.createAttribute("webkitdirectory");o.value="true",t.setAttributeNode(o);var a=document.createAttribute("hidden");a.value="true",t.setAttributeNode(a),t.addEventListener("change",this.uploadProject),document.getElementById("root").appendChild(t),this.inputElem=t}},{key:"componentWillUnmout",value:function(){this.inputElem.removeEventListener("change",this.uploadProject)}},{key:"requestUpload",value:function(){document.getElementById("projectInput").click()}},{key:"attemptToReadFile",value:function(e,t,n,i,s){for(var o=0;o<e.length;o++)if(e[o].name===t){var a=new FileReader;a.onload=function(e){i[n]=e.target.result,s()};try{return void a.readAsText(e[o])}catch(r){this.setState({modalVisible:!0,modalHeader:"Oh no! It looks like we had trouble reading one of your files.",modalContent:"Check that your index.html, sketch.js, and style.css are properly configured."})}}}},{key:"uploadProject",value:function(e){var t=this,n=e.target.files,i={};this.attemptToReadFile(n,"sketch.js","js",i,(function(){t.attemptToReadFile(n,"index.html","html",i,(function(){t.attemptToReadFile(n,"style.css","css",i,(function(){t.attemptToReadFile(n,"pls_dont_touch.stamper","stamper",i,(function(){t.openFiles(i.html,i.js,i.css,JSON.parse(i.stamper))}))}))}))}))}},{key:"requestDownload",value:function(){var e=this.props.getFileData(),t=new We.a;t.file("sketch.js",e.js),t.file("index.html",e.html),t.file("style.css",e.css),t.file("pls_dont_touch.stamper",JSON.stringify(e.stamper)),t.generateAsync({type:"blob"}).then((function(e){Object(pe.saveAs)(e,"stamper_project.zip")}))}},{key:"updateStamperJs",value:function(e,t){if(console.log("updating stamper"),void 0===t){var n="";console.log("??")}else{console.log(t.compressedJs);n=De.a.decompress(t.compressedJs,{inputEncoding:"StorageBinaryString"})}if(n===e)return t;try{var i=Oe.a.jsToStamps(e)}catch(s){throw"Syntax error in Javascript"}return i.fns.push({name:"style.css",args:" ",code:"",isCss:!0}),i.fns.push({name:"index.html",args:" ",code:"",isHtml:!0}),i.console={},i.scale=1,i}},{key:"openFiles",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(void 0!==e&&void 0!==t){try{var o=this.updateStamperJs(t,i)}catch(a){return void this.setState({modalVisible:!0,modalHeader:"Oh no! It looks like your sketch file has a few syntax errors.",modalContent:"We can't parse javascript with syntax errors into Stamper land :("})}o.fns.map((function(t){t.isHtml&&(t.code=e)})),o.fns.map((function(e){e.isCss&&(e.code=n)})),this.props.loadStamperFile(o),Ie&&Ie.send("updatePath",{path:s})}else this.setState({modalVisible:!0,modalHeader:"Oh no! It looks like you're missing some files.",modalContent:"Stamper projects must have an 'index.html' file and a 'sketch.js' file."})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(Re.a,{show:this.state.modalVisible,style:{zIndex:2e18},centered:!0,onHide:function(){return e.setState({modalVisible:!1})}},f.a.createElement(Re.a.Header,{closeButton:!0},f.a.createElement(Re.a.Title,{className:"name"},this.state.modalHeader)),f.a.createElement(Re.a.Body,{className:"picker"},this.state.modalContent," ")))}}]),t}(m.Component),Be=n(216),Ae=n(362),Te=n.n(Ae),Xe=n(99);if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var Pe=window.require("electron").ipcRenderer;else Pe=!1;var Ye=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).state={logs:[],consoleHeight:n.props.starterConsoleHeight,consoleWidth:n.props.starterConsoleWidth,lastFreq:0,hidden:n.props.initialHidden,x:n.props.initialPosition.x,y:n.props.initialPosition.y},n.cristalRef=f.a.createRef(),n.limit=100,n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(t){if("error"==t.data.type){e.logToConsole(t.data.message);var n=t.data.lineno,i=(t.data.message,t.data.id);e.props.addErrorLine(n,i)}}))}},{key:"clearConsole",value:function(){this.setState({logs:[],lastFreq:0})}},{key:"getIcon",value:function(){return Te.a}},{key:"toggleHide",value:function(e){var t=this;Pe&&Pe.send("edited"),this.state.hidden?this.setState({hidden:!1,savedIframeHeight:this.state.iframeHeight,iframeHeight:0},(function(){return t.setState({iframeHeight:t.state.savedIframeHeight},e)})):this.setState({hidden:!0},e)}},{key:"setEditorScrolling",value:function(e){this.props.disablePan(e)}},{key:"addNewIframeConsole",value:function(e){var t=this;Object(Be.Hook)(e,(function(e){e.map((function(e){"log"===e.method&&"Did you just try to use p5.js's loop() function? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"!=e.data[0]&&t.checkLastLog(e)}))}))}},{key:"checkLastLog",value:function(e){var t=this.state.logs;if(t.length<1){this.setState({logs:[e],lastFreq:0}),(s=document.getElementById("consoleContainer"))&&(s.scrollTop=s.scrollHeight)}else{var n=t[t.length-1];if(Xe.isEqual(n.data,e.data)){if(this.state.lastFreq>=this.limit)return;this.setState({lastFreq:this.state.lastFreq+1})}else{if(this.state.lastFreq>1){var i=this.state.lastFreq.toString();this.state.lastFreq>=this.limit&&(i+="+"),t.push({method:"command",data:["("+i+")"]})}var s;t.push(e),this.setState({logs:t,lastFreq:1}),(s=document.getElementById("consoleContainer"))&&(s.scrollTop=s.scrollHeight)}}}},{key:"logToConsole",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";this.checkLastLog({method:t,data:[e]})}},{key:"getData",value:function(){return{x:this.state.x,y:this.state.y,consoleWidth:this.state.consoleWidth,consoleHeight:this.state.consoleHeight,hidden:this.state.hidden}}},{key:"resizeConsole",value:function(e,t){var n=this.state.consoleHeight,i=this.state.consoleWidth;this.setState({consoleHeight:n+t,consoleWidth:i+e});var s=document.getElementById("consoleContainer");s&&(s.scrollTop=s.scrollHeight)}},{key:"resizeConsole",value:function(e,t,n){var i=this.state.consoleHeight+t,s=this.state.consoleWidth+e;if(i<0||s<0)return!0;this.setState({consoleHeight:i,consoleWidth:s,x:n})}},{key:"render",value:function(){var e,t=this,n=Xe.cloneDeep(this.state.logs);if(this.state.lastFreq>1){var i=this.state.lastFreq.toString();this.state.lastFreq>=this.limit&&(i+="+"),n.push({method:"command",data:["("+i+")"]});var s=document.getElementById("consoleContainer");s&&(s.scrollTop=s.scrollHeight)}return this.state.hidden?f.a.createElement("div",null):f.a.createElement(ce,(e={getScale:this.props.getScale,parentID:this.props.id,ref:this.cristalRef,closeHidden:!0,copyHidden:!0,onResize:this.resizeConsole.bind(this),initialPosition:{x:this.state.x,y:this.state.y},onMove:function(e){return t.setState({x:e.x,y:e.y})},onStartResize:this.props.onStartMove.bind(this),onStopResize:this.props.onStopMove.bind(this),className:"stamp bg-lightGrey border border-borderGrey shadow-sm",icon:this.getIcon(),showClear:!0,onClear:this.clearConsole.bind(this)},Object(_.a)(e,"onResize",this.resizeConsole.bind(this)),Object(_.a)(e,"initialSize",{width:this.state.consoleWidth+22,height:this.state.consoleHeight+50}),e),f.a.createElement("div",{id:"consoleContainer",onMouseOver:function(){return t.setEditorScrolling(!0)},onMouseOut:function(){return t.setEditorScrolling(!1)},style:{width:this.state.consoleWidth,height:this.state.consoleHeight,overflow:"hidden","overflow-y":"scroll","white-space":"nowrap"}},f.a.createElement(Be.Console,{styles:{LOG_COLOR:"black",LOG_ERROR_BACKGROUND:"rgba(255, 184, 0, .5)",LOG_ERROR_BORDER:"transparent",LOG_ERROR_COLOR:"rgba(102,102,102)",BASE_FONT_FAMILY:"Inconsolata",BASE_FONT_SIZE:10,LOG_COMMAND_COLOR:"rgba(150,150,150)",BASE_BACKGROUND_COLOR:"transparent",LOG_BORDER:"rgb(225,225,225)",LOG_COMMAND_ICON:""},logs:n,variant:"light"})))}}]),t}(m.Component),Ne=n(97),qe=n.n(Ne);if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var Ge=window.require("electron").ipcRenderer;else Ge=!1;var Ue=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).state={code:n.props.starterCode,editorScrolling:!1,editorHeight:n.props.starterEditorHeight,editorWidth:n.props.starterEditorWidth,errorLines:n.props.errorLines,exportableCode:"",editsMade:"",runningBorder:!1,x:n.props.initialPosition.x,y:n.props.initialPosition.y,hidden:n.props.initialHidden,codeSize:n.props.starterCodeSize},n.cristalRef=f.a.createRef(),n.editorRef=f.a.createRef(),n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({exportableCode:""},(function(){return e.props.requestCompile(e.props.id)}))}},{key:"setEditorScrolling",value:function(e){e&&0==this.state.editorScrolling?(this.setState({editorScrolling:!0}),this.props.disablePan(!0)):!1===e&&this.state.editorScrolling&&(this.setState({editorScrolling:!1}),this.props.disablePan(!1))}},{key:"mouseOutCallback",value:function(){var e=this;this.state.editsMade&&(this.props.requestCompile(this.props.id),this.setState({editsMade:!1,runningBorder:!0},(function(){return setTimeout((function(){return e.setState({runningBorder:!1})}),100)})))}},{key:"toggleHide",value:function(e){var t=this;Ge&&Ge.send("edited"),this.state.hidden?this.setState({hidden:!1,savedIframeHeight:this.state.iframeHeight,iframeHeight:0},(function(){t.editorRef.current.editor.resize(),t.setState({iframeHeight:t.state.savedIframeHeight},e)})):this.setState({hidden:!0},e)}},{key:"renderEditor",value:function(){var e=this,t=[];for(var n in this.state.errorLines)0!=n&&t.push({startRow:n-1,endRow:n,type:"background",className:"bg-warningOrange marker"});return f.a.createElement("div",{onMouseOut:function(){e.setEditorScrolling(!1)}},f.a.createElement(me.a,{style:{width:this.state.editorWidth,height:this.state.editorHeight,fontFamily:"Inconsolata"},mode:"javascript",theme:"p5",onChange:function(t){e.setState({code:t}),Ge&&Ge.send("edited"),e.setState({editsMade:!0})},markers:t,name:"name"+this.props.id.toString(),fontSize:this.state.codeSize,showPrintMargin:!1,wrapEnabled:!0,showGutter:!1,onScroll:function(){return e.setEditorScrolling(!0)},highlightActiveLine:!1,value:this.state.code,ref:this.editorRef,className:"bg-jsArea",setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2,hasCssTransforms:!0}}))}},{key:"copyAndOpt",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getData(),i=!1;!1===t&&(i=!0);var s=function(){return null};t&&(s=function(){return e.cristalRef.current.changeZIndex()}),this.props.addStamp(n,i,s)}},{key:"addErrorLine",value:function(e){var t=this.state.errorLines;t[e]="",this.setState({errorLines:t})}},{key:"clearErrorsAndUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.state.errorLines;if(e)i={};this.setState({errorLines:i},(function(){t.setState({exportableCode:t.props.getExportableCode()});for(var e=0;e<n.length;e++)t.addErrorLine(n[e])}))}},{key:"getData",value:function(){return{code:this.state.code,editorWidth:this.state.editorWidth,editorHeight:this.state.editorHeight,x:this.state.x,y:this.state.y,hidden:this.state.hidden,codeSize:this.state.codeSize}}},{key:"resizeEditor",value:function(e,t,n){var i=this.state.editorHeight,s=this.state.editorWidth;this.setState({editorHeight:i+t,editorWidth:s+e,x:n}),this.editorRef.current.editor.resize()}},{key:"getIcon",value:function(){return qe.a}},{key:"loadp5Lib",value:function(){this.editorRef.current&&this.editorRef.current.editor.completers.push({getCompletions:function(e,t,n,i,s){var o=[];se.forEach((function(e){o.push({value:e,meta:"p5.js"})})),s(null,o)}})}},{key:"compileCallback",value:function(){var e=this;this.state.editsMade&&(this.props.requestCompile(this.props.id),this.setState({editsMade:!1,runningBorder:!0},(function(){return setTimeout((function(){e.setState({runningBorder:!1})}),300)})))}},{key:"render",value:function(){var e=this,t="border border-borderGrey";return Object.keys(this.state.errorLines).length>0&&(t="border border-warningOrange"),this.state.runningBorder&&(t="border border-blue"),this.state.hidden?f.a.createElement("div",null):f.a.createElement("div",null,f.a.createElement(ce,{getScale:this.props.getScale,parentID:this.props.id,ref:this.cristalRef,onResize:this.resizeEditor.bind(this),onStartResize:this.props.onStartMove.bind(this),onStopResize:this.props.onStopMove.bind(this),isResizable:!0,onStartMove:this.props.onStartMove,onStopMove:this.props.onStopMove,onClose:function(){return e.props.onDelete(e.props.id)},onCopy:function(){return e.copyAndOpt()},onOptMove:function(){return e.copyAndOpt(!0)},initialPosition:{x:this.state.x,y:this.state.y},onMove:function(t){return e.setState({x:t.x,y:t.y})},initialSize:{width:this.state.editorWidth+22,height:this.state.editorHeight+50},className:"stamp shadow-sm bg-jsArea "+t+" vertex"+this.props.id,title:"Anything",icon:this.getIcon(),showMakeBig:!0,onMakeBig:function(){e.state.codeSize===ie.codeSize?e.setState({codeSize:ie.bigCodeSize}):e.setState({codeSize:ie.codeSize})}},f.a.createElement("div",{class:"row m-0",onMouseLeave:this.compileCallback.bind(this)},this.renderEditor())))}}]),t}(m.Component),Ke=n(211),Je=n(94),Ve=n(212),Ze=n.n(Ve),Qe=n(363),$e=n.n(Qe),et=n(364),tt=n.n(et),nt=n(217),it=n.n(nt),st=n(365),ot=n.n(st),at=n(366),rt=n.n(at),dt=(n(1166),n(1167),[{name:"draw",args:"",code:"colorMode(RGB, 255, 255, 255, 1);\nbackground(0, 0, 0, .01);\nstroke(255);\nstrokeWeight(1)\n\nif (mouseIsPressed) {\n\xa0\xa0line(mouseX, mouseY, pmouseX, pmouseY);\n}"},{name:"setup",args:"",code:"createCanvas(".concat(ie.defaultIframeWidth,",").concat(ie.defaultEditorHeight,")\nbackground(100);")},{name:"preload",args:"",code:""}]),ct="fill(\"black\")\ntextSize(50);\n\n// display last key pressed.\ntext(key + ' ' + keyCode, 20, 70);",lt="fill('black')\n\n// display last clicked location\ntext(mouseX + ', ' + mouseY, mouseX + 10, mouseY - 10)\nrectMode(CENTER)\nrect(mouseX, mouseY, 1, 20)\nrect(mouseX, mouseY, 20, 1)",ht=[{name:"keyPressed",args:"",code:"background('yellow')\n"+ct},{name:"keyReleased",args:"",code:"background('springgreen')\n"+ct},{name:"keyTyped",args:"",code:"background('cyan')\n"+ct},{},{name:"mousePressed",args:"",code:"background('yellow')\n"+lt},{name:"mouseReleased",args:"",code:"background('springgreen')\n"+lt},{name:"mouseClicked",args:"",code:"background('cyan')\n"+lt},{name:"doubleClicked",args:"",code:"background('cyan')\n"+lt},{},{name:"mouseMoved",args:"",code:"background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)"},{name:"mouseDragged",args:"",code:"background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)"},{},{name:"mouseWheel",args:"",code:"background('yellow')\nstrokeWeight(1)\nstroke(\"black\")\nvar y = random(0, height)\nline(0, y, width, y)"}],pt={name:"blueCircle",args:"posX=mouseX, posY=mouseY",code:"strokeWeight(1)\nstroke(\"black\")\nfill('lightblue')\nellipse(posX, posY, 30, 30)"},ut={code:"/*\n  comment here\n*/",codeSize:ie.bigCodeSize},mt={code:"var global1 = 1"};var ft=[{name:"empty",data:{blobs:[],console:{hidden:!0},fns:[{args:" ",code:"\nhtml, body {\n  margin: 0;\n  padding: 0;\n}",hidden:!0,isCss:!0,name:"style.css"},{args:" ",code:'<html>\n  <head>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"><\/script>\n    <link rel="stylesheet" type="text/css" href="style.css">\n  </head>\n  <body>\n    <script src=\'sketch.js\'><\/script>\n  </body>\n</html>\n',hidden:!0,isHtml:!0,name:"index.html"}],originX:0,originY:0,scale:1}},{name:"starter",data:{fns:[{name:"style.css",code:"\nhtml, body {\n  margin: 0;\n  padding: 0;\n}",args:" ",x:1214.0152913777786,y:-177.38952700122098,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!0,hidden:!0,exported:!0},{name:"index.html",code:'<html>\n  <head>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"><\/script>\n    <link rel="stylesheet" type="text/css" href="style.css">\n  </head>\n  <body>\n    <script src=\'sketch.js\'><\/script>\n  </body>\n</html>\n',args:" ",x:717.7235737149142,y:-174.70178004670035,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!0,isCss:!1,hidden:!0,exported:!0},{name:"keyPressed",code:"\nbackground(255)\nfill(117,250,151)\ntextSize(50);\n\n// display last key pressed.\ntext(dotSize + ' ' + keyCode, 20, 70)\n\nif (keyCode == 187) { // keyCode for '+'\n  dotSize++\n} else if (keyCode == 189) { // keyCode for '-'\n  dotSize--\n}\n",args:"",x:2368.480604262091,y:833.4887820007216,editorWidth:367.4416035868834,editorHeight:236.03934381388729,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!0,exported:!0},{name:"draw",code:"\ncolorMode(RGB, 255, 255, 255, 1);\nbackground(151, 97, 246, .01);\nstroke(255);\nstrokeWeight(1)\n\nif (mouseIsPressed) {\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\n",args:"",x:1165.4509496828648,y:742.6970514094569,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"setup",code:"\ncreateCanvas(200, 200)\n",args:"",x:670.8836830009536,y:744.080110275419,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"dotPattern",code:"\nbackground(255, 10)\nfor(var i = 0; i < 10; i++){\n  basicDot(mouseX, i*20 )\n}\n\n",args:"",x:3330.0227123737986,y:834.9322956589234,editorWidth:225,editorHeight:175,iframeWidth:279,iframeHeight:257,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"basicDot",code:"\nnoStroke()\nbackground(255, 10)\nfill(117,250,151)\nellipse(x, y, dotSize, dotSize)\n",args:"x=mouseX, y=mouseY",x:1877.4903434233374,y:837.7006059839921,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"sizeDot",code:"\n// generate a random size\nnoStroke()\nvar size = random(0, 20)\n\n// use it to draw the dot\nfill(86,220,248, size*.05 *255);\nellipse(x,y,size, size);\n",args:"x=mouseX, y=mouseY",x:3895.5198057448943,y:835.3288232987358,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0}],blobs:[{code:"/* and comments!\n \n  click the 'T' to\n  toggle text-size\n  \n*/",editorWidth:348.3514917659609,editorHeight:195.5945895797871,x:2369.39170216625,y:566.2162988773974,hidden:!1,codeSize:28},{code:"/*\n READ ME\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \n  /\\  _\\  _\\ \\ _/\\__ \\    /\\  _`\\ /\\__  _/\\  _  \\  /'\\_/`\\/\\  _`\\ /\\  _`\\ /\\  _`\\     \n  \\ \\ \\/ /\\_` ' \\/_/\\ \\   \\ \\,\\L\\_\\/_/\\ \\\\ \\ \\L\\ \\/\\      \\ \\ \\L\\ \\ \\ \\L\\_\\ \\ \\L\\ \\   \n   \\ \\ \\ \\/_>   <_ \\ \\ \\   \\/_\\__ \\  \\ \\ \\\\ \\  __ \\ \\ \\__\\ \\ \\ ,__/\\ \\  _\\L\\ \\ ,  /   \n    \\ \\ \\_ /\\_, ,_\\ \\_\\ \\    /\\ \\L\\ \\ \\ \\ \\\\ \\ \\/\\ \\ \\ \\_/\\ \\ \\ \\/  \\ \\ \\L\\ \\ \\ \\\\ \\  \n     \\ \\___\\/_/\\_\\/ /\\___\\   \\ `\\____\\ \\ \\_\\\\ \\_\\ \\_\\ \\_\\\\ \\_\\ \\_\\   \\ \\____/\\ \\_\\ \\_\\\n      \\/___/  \\/_/  \\/___/    \\/_____/  \\/_/ \\/_/\\/_/\\/_/ \\/_/\\/_/    \\/___/  \\/_/\\/ / \n\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\n     \n     In Stamper, your code is structured into \"Stamps\", there are 5 types:\n     \n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\n     \n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\n     \n     3. Console for printing messages\n        \n     4. HTML for updating the webpage which holds your sketch\n     \n     5. CSS for updating global style of that webpage\n*/",editorWidth:712,editorHeight:309,x:231.105803149567,y:175.00967117636048,hidden:!1,codeSize:14},{code:'//This is an "Anything" Stamp\n// Which can be used for global variables\n\nvar dotSize = 20;',editorWidth:235.27929098049674,editorHeight:101.6125006152455,x:2090.1232297229144,y:661.2246291643922,hidden:!1,codeSize:14},{code:"/*\n  Stamps can call one another. Try switching out the 'basicDot' for the 'sizeDot'\n*/",editorWidth:276.296346723557,editorHeight:109.39558738280925,x:3577.074740971314,y:656.1956771244991,hidden:!1,codeSize:14},{code:'/*\n  A Stamper project is ~= to one p5 sketch, this means:\n    \n    1. Everything is in global scope and you can call functions freely\n    2. When you\'re export, the Stamp named "draw" will act as the draw() function, if you import this code into the p5 web editor.\n*/',editorWidth:451.14440157092827,editorHeight:151.54048537765823,x:752.0874271415859,y:1086.0441248123698,hidden:!1,codeSize:14},{code:"/*\n\n  Duplicate a Stamp to try a new idea\n  \n  1. Click on Stamp titlebar\n  2. Hold Option (\u2325) and drag to new position\n  3. Release Mouse\n\n*/",editorWidth:225,editorHeight:168.28845558398316,x:3892.7486139641014,y:599.7783058248328,hidden:!1,codeSize:14},{code:"/*Stamps can be hidden by clicking their eye-cons in the layer list\n\n*/",editorWidth:291.0811563031933,editorHeight:200,x:987.2292727588588,y:178.52248092290748,hidden:!1,codeSize:28}],scale:.6854017092287545,console:{x:67.20990314036078,y:559.9352212006518,consoleWidth:225,consoleHeight:200,hidden:!1},originX:209.47972499070545,originY:14.546644181615989,compressedJs:"\u1795\u0818\u2dcc\u4206\u1b7b\u35b5\u4adc\u7473\u1085\u0802\u4404\u0636\u634b\u0dac\u40e8\u6865\u1013\u5509\u640e\u46f0\u5101\u01d1\u5ece\u676c\u3290\u1d19\u2f0e\u42d7\u1b4b\u6994\u1440\u200a\u1517\u428b\u6541\u2205\u122a\u0510\u409a\u450a\u1010\u0817\u6beb\u75f2\u0628\u2318\u0d8c\u08cc\u0c62\u42b1\u60f9\u201c\u6106\u38eb\u4801\u0f2f\u2e10\u0817\u78c0\u45c2\u02f9\u3d71\u3ebe\u205c\u620d\u7146\u0c0b\u420c\u2896\u1064\u4040\u5f20\u620d\u4bc9\u6b8b\u72f6\u02e6\u2883\u1c11\u4757\u6227\u170b\u7887\u6602\u0139\u0170\u5f88\u41c4\u0eae\u0817\u058b\u44c5\u62fe\u1c4b\u0a4e\u4cc4\u15e3\u0eb1\u4718\u411c\u3047\u1402\u2d8c\u10c5\u2be3\u0631\u0a07\u6202\u0101\u7390\u0159\u4758\u17af\u79c0\u1778\u512c\u28ae\u1441\u3840\u5c5f\u6323\u080b\u0bf8\u574e\u2007\u3315\u2458\u2020\u17e3\u55f1\u653c\u400b\u0161\xb3\u0861\u4534\u7300\u4231\u45d9\u158e\u2005\u3318\u5f90\u092f\u7780\u2e31\u2778\u557c\u33ff\u1803\u5cbf\u6601\u0872#\u5883\u060c\u205e\u1599\u38bf\u4432\u643a\u7303\u3908\u0c56\u5630\u5319\u2fc8\xf0\u2faf\u711e\u05f8\u706c\u2876\u1c2b\u1435\u4579\u6382\u3243\u3a08\u0e40\u04c1+\u0cb2\u416e\u1020\u5c9d\u0c4d\u7726\u216a\u3dc9\u52ca\u6e74\u32b2\u0814\u0e4d\u7677\u130b\u35b5\u52dc\u6720\u22b7\u1d9a\u2e4d\u7e40\u1679\u0199\u5ee5\u6502\u63b8\u0d4b\u4d4e\u3204\u634b\u09c9\u42e4\u792e\u6323\u7181\u492d\u6205\u1ba3\u05b5\u60ca\u722c\u103c\u5bdd\u2e44\u0636\u7b23\u1481\u52e6\u2073\u3a39\u1d58\u6e8e\u5726\u2b21\u01a5\u5ce8\u6f20\u1162\u49dc\u6445\u4c45\u0b93\u1481\u42e4\u6520\u1a90\u1d1e\u2e0c\u5733\u5662\u44c4\u5c40\u4675\u3731\u5d1a\u2ded\u6c57\u7a9b\u15d1\u6ae0\u2829\u1610\u111c\u4c2e\u7c40\u435b\u15e5\u20e4\u6573\u39b2\u5931\u01d8\u4744\u330b\u5b10\u6788\u0f65\u3a31\u7b40\u13e6\u22e2\u020b\u39e5\u68d1\u6400\u6c62\u1399\u2ecc\u572c\u387b\u15b1\u66ca\u3a20\u23b6\u1bd8\u4c2d\u4205\u330b\u49a5\u42c4\u6c65\u3996\u0810\u7ce0\u3cb2\u0143\u31a5\u56ca\u2074\u3434\u5cc8\u0ded\u6652\u4961\u010d\u58c2\u7373\u6211\u7419\u4665\u6204\u1b7b\u39cd\u5ed8\u65c5\u32b8\u1c9a\u2dce\u4c46\u1b6b\u15cd\u66c2\u6765\u39e3\u09b2\u25e6\u42e2\u0242\u5135\u198a\u2c75\u3832\u1871\u259c\u4016\u3bbb\u1589\u60c2\u6765\u103b\u5a1a\u2c6d\u0206\u437b\u3191\u67cc\u0155\u39b5\u595d\u0c6d\u0cc7\u19a9\u3881\u06a6\u53ce\u21b3\u7980\u198e\u3747\u4b63\u1481\u5ecc\u2074\u3430\u5d32\u0a9c\u5046\u697a\u5390\u019a\u6973\u1030\u5b88\u045d\x11\u4117\u1807\u0214\u2f2f\u102b\u715e\u0c6c\u16e2\u0313\u1481\u6ae6\u6564\u62b0\u31d5\u6edd\x12\u1850\u29d9\u42e4\u2064\u37ba\u14da\u2f4c\u5203\u6901\u48c0\u77ca\u04c8\u6324\u1cf1\u280c\u3616\u6367\u1004\u6c40\u616e\u37f2|\u05c4\u0547\u13c9\u01cd\u6ed2\u7463\u623a\u081b\u6eae\u4e60\u2903\u0985\u66d2\u6344\u37ba\u09fa\u204d\u427e\u2028\u7f10\u25d0\u0520\u1020\u7196\u4cbc\u4015\u537b\u2995\u46e9\u6400\u61bf\u0f48\u0e8d\u7c56\u1b81\u579c\u0241\u6402\u2db4\u5cc8\u0dac\u5616\u7738\u0953\u0a0a\u312e\u1022\u7a80\u3efc\u4010\u0b77\u2404\u56c6\u6f70\u7200\u2919\u1c80\u167e\u5005\u659b\u4e05\u0173\u1033\u1c99\u2cad\u479c\u2a39\u48b8\u40ae\u6865\u3762\u0a89\u6e4c\u5206\u2bc3\u41bd\u64e9\u4473\u32f3'\u640d\u6616\u6b2b\u1080\u44c8\u7261\u3b91\u081d\u6d2d\u46c2\u030b\u0dd0\u40c2\u73c5\u11e2\u058a\u0539\u15a2\u6103\u259b\u0ae8\u696d\u6223\u7980\u173c\u6033\u5f20\u0cb7\u0864\u7035\u7200\u6f08\u0cac\u4697\u237b\u48bb\u4e02\u0d0a\u1010\u111d\u2e0d\u4696\u1b0b\u5194\u40c3\u4779\u6218\u5c9e\u240c\u1206\u732b\u5c81\u52c8\u6561\u7203\u1779\u201f\u043e\u2834\u25bf\u4e07\u2420\u3a34\u5d1b\u0cac\u2617\u1057\u1403\u1c90\u6f6c\u3210\u13dc\u1ca0\u36a2\u4714\u3294\u53ca\u0109\u3239\u1859\u788a\u2c44\u6383\u3dcd\u5388\u1f0a\u7281\u38d4\u4cad\u4656\u0b9b\u1481\u1ade\u7573\u3285\u3980\u123d\u301f\u1b13\u1481\u50d2\u6464\u32b7\u0818\u4f3c\u6070\u1738\u0b5d\u52e4\u2065\u3cb2\u4b58\u7c80\u1506\u4b76\u1048\u40d8\u6179\u32b9\u081b\u0d2e\u374c\u2a47\u2004\u2dda\u03dc\u3d85\u0298\u4c2c\u36b6\u3b93\u3dd5\u5cc8\u2832\u1a9a\u4a42\u4ccd\u16c6\u6141\u44c4\u6e58\u3235\u1816\u0c4d\u2625\u10ae\u203a\u4390\u050e\u2835\u1814\u4ec2\u5c80\u2c46\u234b\u4dc1\u58c2\u7920\u3630\u5cdd\u188a\u0207\u0632\u44bb\u0a58\u28e8\u015b\u4ac8\u04e4\u0272\u015e\u1089\u06de\u6465\u1610\u0c8c\u0584\u0373\u0148\u2829\u52cc\u2028\u638b\u080f\u27a4\u0313\u41b9\u2481\u7640\u2f2f\u6415\u7940\u5524\u72b2\u3851\u03a0\u0608\u2b2b\u053e\u7941\u09fc\u401d\u2e71\u70e7\u2878\u2dcb\u1e16\u4b42\u4fa1\u20a7\u6f50\u040f\u4c04\u297b\u0505\u18db\u6d8d\u7724\u6b7b\u1194\u50a4\u4742\u1610\u0c8d\u26b9\u4053\u0949\u6fb0\u023e\u3135\u1896\u080e\u26e5\u4203\u11a1\u58b0\u405c\u30c4\u0fb9\u5d1c\u4ded\u365e\u2809\u6b20\u1aae\u6569\u33b4\u1d0a\u063c\u700e\u3b6f\u1007\u1492\u73e7\xb9\u4a48\u0f61\u2202\u0363\u25b9\u4b8c\u1958\u1610\u3142\u0b25\u4207\u0640\u4718\u12b2\u293b\u7780\u2d9c\u7cc0\u5a6e\u2005\u5dc9\u4ac2\u7465\u21b0\u5b9d\u4c2e\u3283\u1181\u4390\u02b5\u6401\u2be5\u4b59\u0dee\u4506\u0ba3\u5195\u64dd\u7301\u7316\u080c\u2605\u10a6\u337b\u48a3\u4808\u6669\u101e\u480c\u0764\u0692\u01e1\xc7\u0810\u2b2b\u14f2)\u3d00\u436e\u4805\u25a4\u5464\u3020\u14f2%\u398d\u1c92\u3bc1\u7720\u52f3\u460a\u2ce2\u1e5b\u4dea\u3e60\u0919\u27d8\u0109\u7102\u3732\u5b1b\u0d2e\u0736\u2943\u60b0\u40f2\u2ce8\xe1\u3242\u3dc0\u0e5e\u3826\u1b5d\u765e\u2f20\u33b2\u5b99\u2e5c\u603c\u3b93\u05b9\u48de\u6dc5\u19f6%\u3c80\u101c\u20a1\xf7\u0e44\u28e5\xa7\u0a71\u27ee\u5e40\u137b\u5390\u0755\u6402\u1973\u0119\u0dee\u4e60\u05a9\u60d8\u5864\u3230\u1619\u0d0e\u0598\u5412\u5171\u40d4\u4055\u6602\u04f51\u0f25\u4c41\u6631\u0b90\u067a\u7d0a\u8002\u8001"}},{name:"particles",data:{fns:[{name:"style.css",code:"\nhtml, body {\n  margin: 0;\n  padding: 0;\n}",args:" ",x:2487.723154997192,y:454.1828386163433,editorWidth:155.2851590781397,editorHeight:108.88644457518404,iframeWidth:225,iframeHeight:200,isHtml:!1,isCss:!0,hidden:!0,exported:!0},{name:"index.html",code:'<html>\n  <head>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"><\/script>\n    <link rel="stylesheet" type="text/css" href="style.css">\n  </head>\n  <body>\n    <script src=\'sketch.js\'><\/script>\n  </body>\n</html>\n',args:" ",x:2926.0613195853425,y:460.660255253893,editorWidth:331.9915568373324,editorHeight:267.30348833629085,iframeWidth:225,iframeHeight:200,isHtml:!0,isCss:!1,hidden:!0,exported:!0},{name:"setup",code:"// nothing much to see here\ncreateCanvas(300,300) // this won't alter the window size\nbackground(backgroundFade)\nnoStroke()",args:"",x:1922.4727804881593,y:-28.839556505847952,editorWidth:300,editorHeight:95.77622017221594,iframeWidth:229.2823664771775,iframeHeight:125.05858664939339,isHtml:!1,isCss:!1,hidden:!0,exported:!0},{name:"basicDot",code:"fill(255);\nellipse(x, y, 10, 10)",args:"x=mouseX, y=mouseY",x:-59.00091994708015,y:619.609814794894,editorWidth:181.2419711791158,editorHeight:111.52588114745845,iframeWidth:134.907702273812,iframeHeight:130.38322448430927,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"speedColorDot",code:"if(!speed){\n  speed = random(0, .01)\n}\n\n// set the opacity and color based on the speed the dots are moving\nvar opacity = max(100, speed *100 * 255)\nvar colorOff = speed *100\nfill(150 - colorOff*40, 100+ colorOff*80, 255, opacity);\nellipse(x,y,5, 5);\n",args:"x = mouseX, y=mouseY",x:329.9599253794122,y:976.0473944121347,editorWidth:296.7340422149467,editorHeight:176.59932474664424,iframeWidth:169.71609003165736,iframeHeight:195.90489555790055,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"getPosition",code:"\n if(angle === 0){\n  lastFaderX = faderX\n  faderX = faderX*.97 + .03* mouseX / width;\n  speed = abs(faderX - lastFaderX)\n  randomSeed(actRandomSeed); \n }\n var randomX = random(0,width);\n  var randomY = random(0,height);\n  var circleX = width / 2 + cos(angle) * 100;\n  var circleY = height / 2 + sin(angle) * 100;\n  var x = lerp(randomX,circleX,faderX);\n  var y = lerp(randomY,circleY,faderX);\n  if(mouseIsPressed){\n     background(backgroundFade, 10)\n  var angle = map(mouseX, 0, width, 0,7)\n  var circleX = width / 2 + cos(angle) * 100;\n  var circleY = height / 2 + sin(angle) * 100;\n  basicDot(circleX, circleY) \n  }\n\n  \n  return {x:x, y:y}\n  ",args:"angle",x:1307.5816569518977,y:677.5063472275517,editorWidth:379.21463817319534,editorHeight:376.8484971084752,iframeWidth:289.3981629416132,iframeHeight:292.2735384641079,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"drawFadedParticles",code:"background(backgroundFade, 20);\n\nfor (var i = 0; i < count; i++) {\n  var angle = i*360/count\n  \n  // mix and match dot functions here!\n  pos = getPosition(angle)\n  basicDot(pos.x, pos.y)\n}",args:"",x:655.2944910006604,y:-49.9258150353464,editorWidth:309.7943589626219,editorHeight:146.47663811577075,iframeWidth:297.3456070084918,iframeHeight:298.4895813984271,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"speedDot",code:"\nif(!speed){\n  speed = random(0, .01)\n}\n\n// set the opacity based on the speed the dots are moving\nvar opacity = max(100, speed *100 * 255)\nfill(150, 100, 255,opacity);\nellipse(x,y,10, 10);\n\n",args:"x = mouseX, y=mouseY",x:-159.95756973196586,y:906.1192916260952,editorWidth:308.7544796011597,editorHeight:185.16405770099925,iframeWidth:116.75259491582909,iframeHeight:204.18278884948927,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"sizeDot",code:"// generate a random size\nnoStroke()\nvar size = random(0, 10)\n\n// use it to draw the dot\nfill(86,186,255, size*.1 *255);\nellipse(x,y,size, size);",args:"x = mouseX, y=mouseY",x:327.8196574329079,y:620.3268102451857,editorWidth:199.66994116856335,editorHeight:179.9979040763115,iframeWidth:91.90910563176772,iframeHeight:206.14265666314918,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"drawParticles",code:"\nbackground(40);\n\nfor (var i = 0; i < count; i++) {\n  var angle = i*360/count\n  pos = getPosition(angle)\n  \n  // mix and match dot functions here!\n  sizeDot(pos.x, pos.y)\n  speedColorDot(pos.x, pos.y)\n}",args:"",x:-6.737551201596916,y:-46.19936428968789,editorWidth:300,editorHeight:193.4799063003186,iframeWidth:303.3009633960733,iframeHeight:302.15825303488214,isHtml:!1,isCss:!1,hidden:!1,exported:!0}],blobs:[{code:"// globals\n\nvar actRandomSeed = 0;\nvar count = 300;\nvar faderX = 0\nvar backgroundFade = 40\nvar lastFaderX\nvar speed\nvar angleUnit = (360 / count);",editorWidth:200,editorHeight:201.84709943153263,x:1670.5811271907414,y:-31.050619448774135,hidden:!0,codeSize:12},{code:"// a helper function to get the particle pattern, mouse over the canvas while pressing your mouse down to visualize what it does",editorWidth:864.7567589687693,editorHeight:56.38414040982718,x:1082.4240330014338,y:553.2565203857729,hidden:!1,codeSize:24},{code:"// setup stuff",editorWidth:355.59623103433,editorHeight:37.85493935071861,x:1753.6850108693698,y:-135.0995569860125,hidden:!0,codeSize:24},{code:"// the particle pattern",editorWidth:612.8513837941782,editorHeight:38.73195511379262,x:-155.73357031076716,y:-150.3640165446208,hidden:!1,codeSize:24},{code:"// different types of dots, mouse over the canvases to see them",editorWidth:850.4735375344712,editorHeight:34.487326158190314,x:-327.7333275664664,y:509.4890524416247,hidden:!1,codeSize:24}],scale:.48753207296132967,console:{x:2406.431838044327,y:726.7041236433164,consoleWidth:398.5547609288658,consoleHeight:312.41625580738497,hidden:!0},originX:435.55907755431997,originY:175.31588208790083,compressedJs:"\u1797\u4819\u6d8d\u7626\u0b63\u4c28\u14ec\u6172\u1030\u58dd\u0a4c\u16e6\u237b\u354d\u4aca\u6420\u1e90\u0c0e\u78a2\u7636\u7bab\u39d0\u407a\u2033\u1863\u4459\u4c2c\u4657\u12c6\u1087\u0a1e\u6261\u31b5\u59dc\u4dee\u56e6\u2233\u0591\u4a40\u3d20\u1a63\u061b\u0c2e\u374c\u2093\u4963\u0a1e\u7370\u32b2\u5931\u4d0d\u6676\u632a\u55b9\u5388\u5528\u199b\u0c08\u05f8\u6642\u49d8\u2828\u5e5e\u2061\u1034\u195b\u0e0c\u5722\u0333\u55b9\u46e8\u696f\u3710\u1d1b\u640c\u7657\u2103\u51a1\u4a40\u7061\u393a\u1a58\u6d98\u4097\u23a3\u15c9\u5c58\u206d\u37ba\u5cd9\u240d\u7766\u2b96\u1485\u46c2\u6e76\u30b9\u481d\u6d0d\u1c42\u2b93\u15cd\u66d2\u6e67\u103c\u5bdd\u2e58\u72a6\u237b\u5f15\u24ec\u6973\u3ab0\u5b1a\u2f4c\u5207\u3b43\u05d0\u40d2\u7420\u3237\u595c\u7ca0\u0827\u1b2b\u51d5\u6040\u7374\u3ab3\u19b1\u221a\u479c\u28cb\u11a5\u4ccc\u6572\u32b7\u1d08\u0e8f\u1706\u2b99\u01bd\u4c40\u646f\u3a39\u7dc0\u12ac\u573c\u23c3\u4d95\u4b88\u146d\u0505\u3a40\u1c18\u5702\u414b\u6f11\u26dc\u6f74\u3472,\u4dae\u5636\u4641\u3da1\u4ae4\u650a\u31b9\u1958\u2e8c\u543c\u2a51\u20cc\u6060\u2c33\u1818\u0a48\u1ca0\u09e6\u4b99\u01dd\u5edc\u2774\u1030\u5b1d\u18ee\u2776\u4b73\u11bd\u6e40\u7369\u3d32\u42ba\u4034\u128c\u505f\u1006\u3452\u0a6e\u37a9\u5d1c\u4ded\u3652\u4148\u29f7\u5601\u1162\u30b9\u5a58\u688d\u7742\u43c1\u7794\u0194\u582c\u103c\u7182\u4b25\u17b0\u5333\u25b1\u5850\u3235\u1a94\u4ec2\u4cad\u46c6\u4b83\u4d94\u50f0\u2c20\u3c96\u080c\u2618\u404c\u725f\u1407\u6e86\u6f6c\u37b9\u3154\u0407\u5e60\u08e6\u3949\u52cc\u2821\u6294\u4a5e\u6144\u0c63\u1901\u7481\u65ca\u028d\u1418\u0b08\u05c6\u031c\u2ab7\u1806\u39ca\xe1\u37b8\u1858\u6d2e\u4792\u030b\u3990\u40c7\u445f\u7200\u2d59\u2c84\u0e40\u117b\u2197\u0e89\u440a\u7200\u6448\u0c2e\u2652\u036b\u3dd9\u52dc\u67e5\u0141\u320f\u27a4\u06d6\u0bc1\u20c4\u6060\u2cc7\u1895\u0c4c\u0604\u02a2\u0720\u0377\u0a53\u455a\u27b3\u1988\u07b9\u321e\u3008\u04c4\u6a60\u202d\u6490\u4a8d\u1ca0\u0fc3\u015e\u2848\u7060\u2cc4\u2496\u321b\u5da0\u12f7\u4961\u54b0\u41c8\u0142\u7680\u4b59\u6cae\u4506\u7b9b\u2710\u1851\u6503\u1314\u5ec2\u4144\u0696\u3630\u3480\u7a7a\u3d20\u1872\u4048\u7d40\u35c2\u01ef\u1c0e\u2014\u20c7\u04e4\u448a\u45c7\u1372\u0159\xb8\u6066\u2ae7\xba\u480b\u640e\u7696\u23a3\u20ef\u5602\u6661\u3139\u4a31\u6725\u5cb5\u4148\u2883\u4e03\u01e4\u0207\u0a3b\u2083\u4293\u5900\u2881\u7a14\u20e4\x91\u3189\u188e\u5c60\u5141\u40b3\u0ac6\u29c4\u3265\u0856\u3984\u1686\u2b4b\u1da3\u4807\u6fc6\u1131\u5a5c\u4c6d\u465c\u221e\u14e8\u405e\u2032\u1072R\u0e7c\u7010\u2101\u2b90\u02b5\u4e2e\u6228\u3191\u78e5\u7736\u4f40\u04cf\u1c5f\u6402\u3936\u195c\u4e05\u0c67\u72c1\u331d\u5c59\u6600\u7a74\u4021\u3c80\u20dc\u5942\u671c\u50b3\u4c28\u34b3\u0a39\u2029\u0497\u1a87\u1011\u33ce\u02af\u1010\u3ac1\u207d\u7036\u1730\u0c43\u0cc5\u6701\u6210\u1b58\u2e18\u6475\u4161\xc0\u59cc\xf4\u6205\u0df2\u053f\u7011\u07f8\u0443\u7602\u10e9\u01eb\u71d8\u4599\u03d2\u4900\u2880\u40fa\u0a0a\u1062\u021c\u4cae\u4757\u1371\u01ed\u7075\u6403\u6b1d\u1e5f\u3882\u7ec0\u1533\u11c9\u42ef\u6400\u6eb2\u1439\u60a2\u473e\u2025\u73ec\u0208\u3230\u7201\u3a59\u4dee\u2202\u4720\u02c9\u53ca\u065c\u1034\u480f\u1cc0\u5f83\u5903\u24ac\u5652\u20e4\xa6\u3b00\u250d\u12a3\u19b1\u40bf\u0a45\u6600\u4c97\u4bc8\u0dad\u178e\u281f\u49b5\u42e8\u6368\u7201\u76fa\u20c4\u573e\u2829\u1884\u1440\u2070\u37b9\u480f\u3e60\u34be\u6008\u05c1\u5ee6\u2e78\u1662\u0acb\u4f3c\u4045\u5788\u12cb\u7609\u2dff\u0257\u3f41\u15df\u704a\u27f8\u1293\u6409\u24e8\u0245\u3941\u0f9c\u6046\u7fb0\u11bb\u4e0b\u1b3b\u0577\u011c\u3c80\u620f\u5807\u2f90\u1044\u656e\u32b9\u185d\u0ca4\u061e\u3807\u0b14\u69d8\u0639\u7283\u7779\xe9\u0ec0\u0827\u100b\u6f88\u3fe4\u0383\u5a5d\u1c80\u6c9e\u2011\u5ba0\u01db\u6600\u5c1c\u0d8b\u0627\u0362\u6728\u1493\u0882\u2a2e\u1890\u0abc\xcb\u0792\u6620\u6f18\u4252\u3bf1\u0144\u3b40\u507d\u4028\u21a7\u7c09\u69fe\u0274\u7281\u1d3e\u6049\u2ff0\u147f\u2c0a\u1fd0\u0163\u7701\u1cf9\u6047\u0e90\u38ce\u387b\u4805\u1100\u8000"}}],gt=(n(99),n(149),n(349),function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).editorRef=f.a.createRef(),n.minPickerHeight=30,n.minJsImporterHeight=30,n.topBarHeight=60,n.minWidth=150,n.minNonSideBarWidth=30,n.editorRef=f.a.createRef(),n.importButtonHeight=50,n.state={jsImporterHeight:110,sideBarWidth:200,pickerHeight:window.innerHeight-(n.topBarHeight+n.importButtonHeight+110),pickerScrollEnabled:!0,codeHasError:!1,code:"\n// import unstructured Javascript code or individual functions\n\n// like the below, feel free to delete: \nfunction noiseWave() {\n\xa0\xa0let noiseScale=0.02;\n\xa0\xa0background(0);\n\xa0\xa0for (let x=0; x < width; x++) {\n\xa0\xa0\xa0\xa0let noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\n\xa0\xa0\xa0\xa0stroke(noiseVal*255);\n\xa0\xa0\xa0\xa0line(x, mouseY+noiseVal*80, x, height);\n\xa0\xa0}\n}"},n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.updateControlBarDimensions(this.state.sideBarWidth,this.topBarHeight),window.addEventListener("resize",this.onWindowResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(e){this.setState({pickerHeight:window.innerHeight-(this.topBarHeight+this.importButtonHeight+this.state.jsImporterHeight)}),this.state.sideBarWidth>window.innerWidth-this.minNonSideBarWidth&&this.setState({sideBarWidth:window.innerWidth-this.minNonSideBarWidth})}},{key:"renderSideBar",value:function(){var e=this;return f.a.createElement("div",{class:"bg-white border border-borderGrey shadow-sm",onMouseOver:function(){e.props.disablePan(!0),e.props.disableZoom(!0)},onMouseOut:function(){e.props.disablePan(!1),e.props.disableZoom(!1)},style:{position:"absolute",top:this.topBarHeight,left:0,height:window.innerHeight-this.topBarHeight,zIndex:1e18}},f.a.createElement(_e.Resizable,{width:this.state.sideBarWidth,onResize:function(t){var n=e.state.sideBarWidth+t.movementX;n>e.minWidth&&n<=window.innerWidth-e.minNonSideBarWidth&&e.setState({sideBarWidth:n},(function(){return e.editorRef.current.editor.resize()}))},onResizeStop:function(t){return e.props.updateControlBarDimensions(e.state.sideBarWidth,e.topBarHeight)},height:window.innerHeight-this.topBarHeight,axis:"x",handle:this.renderSideBarResizeHandle()},f.a.createElement("div",null,this.renderLayerPicker(),this.renderJsImporter(),this.renderImportButton())))}},{key:"parseCode",value:function(){var e=this;try{var t=Oe.a.jsToStamps(this.state.code);t.fns.map((function(t){e.props.addFnStamp(t)})),t.blobs.map((function(t){e.props.addBlobStamp(t)})),this.setState({code:""})}catch(n){this.setState({codeHasError:!0})}}},{key:"renderJsImporter",value:function(){var e=this;return f.a.createElement("div",{class:"bg-jsArea",style:{width:this.state.sideBarWidth,height:window.innerHeight-(this.state.pickerHeight+this.topBarHeight)}},f.a.createElement(me.a,{style:{width:this.state.sideBarWidth,height:window.innerHeight-(this.state.pickerHeight+this.topBarHeight+this.importButtonHeight),background:"transparent",fontFamily:"Inconsolata"},mode:"javascript",theme:"p5",onChange:function(t){return e.setState({code:t,codeHasError:!1})},name:"jsImporter",fontSize:ie.codeSize,showPrintMargin:!1,wrapEnabled:!0,showGutter:!1,highlightActiveLine:!1,onMouseOver:function(){return e.props.disablePan(!0)},onMouseOut:function(){return e.props.disablePan(!1)},value:this.state.code,ref:this.editorRef,setOptions:{tabSize:2,hasCssTransforms:!0}}))}},{key:"renderImportButton",value:function(){var e="import javascript",t="grey";return this.state.codeHasError&&(e="syntax error",t="warningOrangeDark"),f.a.createElement("div",{class:"p-2",style:{position:"absolute",bottom:-2,left:-5,width:"100%"}},f.a.createElement("button",{class:"btn btn-block shadow-sm m-1 bg-"+t+" border-borderGrey",style:{fontSize:ie.buttonTextSize},onClick:this.parseCode.bind(this),disabled:this.state.codeHasError},e))}},{key:"renderLayerPicker",value:function(){var e=this,t=[];this.props.pickerData.map((function(n){if(n.status)var i=$e.a,s=function(){return a(e.state.sideBarWidth,e.topBarHeight)};else i=tt.a,s=null;var o=1,a=n.centerCallback;!1===n.status&&(o=.5,a=function(){return null}),n.name?t.push(f.a.createElement("div",{class:"border-bottom border-borderGrey"},f.a.createElement("div",{style:{opacity:o},class:"d-flex justify-content-between p-1 pl-2 pr-3"},f.a.createElement("div",{clas:"row border-bottom",style:{overflow:"hidden"},onClick:function(){return a(e.state.sideBarWidth,e.topBarHeight)}},e.createIcon("type"+n.id.toString(),n.icon,s,n.name)),e.createIcon("hide"+n.id.toString(),i,n.hideCallback)))):t.push(f.a.createElement("br",null))}));var n="hidden";return this.state.pickerScrollEnabled&&(n="scroll"),f.a.createElement(_e.Resizable,{width:this.state.sideBarWidth,onResize:function(t){var n=e.state.pickerHeight+t.movementY;n>e.minPickerHeight&&n<window.innerHeight-(e.topBarHeight+e.minJsImporterHeight+ +e.importButtonHeight)&&e.setState({pickerHeight:e.state.pickerHeight+t.movementY,jsImporterHeight:e.state.jsImporterHeight-t.movementY},(function(){return e.editorRef.current.editor.resize()}))},onResizeStart:function(){return e.setState({pickerScrollEnabled:!1})},onResizeStop:function(){return e.setState({pickerScrollEnabled:!0})},height:this.state.pickerHeight,axis:"y",handle:this.renderPickerResizeHandle()},f.a.createElement("div",null,f.a.createElement("div",{className:" bg-white",style:{overflow:"hidden","overflow-y":n,width:this.state.sideBarWidth,height:this.state.pickerHeight}},t)))}},{key:"createIcon",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,s=function(){ne()("."+e+"Icon").css({opacity:"1"}),ne()("."+e+"Text").removeClass("text-greyText").addClass("text-greyIcon")},o=function(){ne()("."+e+"Icon").css({opacity:ie.iconOpacity}),ne()("."+e+"Text").addClass("text-greyText").removeClass("text-greyIcon")};return n||(s=function(){},o=function(){}),i?f.a.createElement("div",{onMouseOver:s,onMouseOut:o},f.a.createElement("img",{style:{height:ie.iconSize,opacity:ie.iconOpacity,width:ie.iconSize},className:" m-1 text-greyIcon "+e+"Icon",onClick:n,src:t}),f.a.createElement("b",{class:"text-greyText picker ml-1 "+e+"Text"},i)):f.a.createElement("img",{style:{height:ie.iconSize,opacity:ie.iconOpacity,width:ie.iconSize},className:" m-1 text-greyIcon "+e+"Icon",onClick:n,onMouseOver:s,onMouseOut:o,src:t})}},{key:"renderSideBarResizeHandle",value:function(){return f.a.createElement("div",{style:{width:10,cursor:"ew-resize",height:"100%",right:0,top:0,position:"absolute",background:"transparent",color:"transparent"}},"hi")}},{key:"renderPickerResizeHandle",value:function(){return f.a.createElement("div",{className:"border-bottom border-borderGrey border-top bg-grey",style:{width:"100%",cursor:"ns-resize",height:15,right:0,bottom:0,position:"absolute",background:"transparent",color:"transparent"}},"hi")}},{key:"renderTopBar",value:function(){var e=this;return f.a.createElement("div",{class:"bg-white border border-borderGrey shadow-sm row justify-content-between",style:{position:"absolute",top:0,left:15,height:this.topBarHeight+2,width:"100%",zIndex:1e18}},f.a.createElement(vt,{iconType:ot.a,uniqueClass:"download",iconCallback:function(){e.props.modalManagerRef.current.requestDownload()},tooltipText:"download javascript",alignLeft:!0}),f.a.createElement("div",{class:"row"},f.a.createElement(vt,{iconType:ge.a,uniqueClass:"basic",iconCallback:function(){return e.props.addFnStamp(pt)},dropDownData:dt.map((function(t){return{name:t.name,callback:function(){return e.props.addFnStamp(t)}}})),tooltipText:"function"}),f.a.createElement("span",{style:{width:50}}),f.a.createElement(vt,{iconType:Ce.a,uniqueClass:"listenerFns",iconCallback:null,dropDownData:ht.map((function(t){return{name:t.name,callback:function(){return e.props.addFnStamp(t)}}})),tooltipText:"listener"}),f.a.createElement("span",{style:{width:50}}),f.a.createElement(vt,{iconType:qe.a,uniqueClass:"varStamp",iconCallback:function(){return e.props.addBlobStamp(mt)},tooltipText:"global variable"}),f.a.createElement("span",{style:{width:50}}),f.a.createElement(vt,{iconType:qe.a,uniqueClass:"commentStamp",iconCallback:function(){return e.props.addBlobStamp(ut)},tooltipText:"comment"})),f.a.createElement(vt,{iconType:rt.a,uniqueClass:"worlds",iconCallback:null,dropDownData:ft.map((function(t){return{name:t.name,callback:function(){return e.props.loadStamperFile(t.data)}}})),tooltipText:"overwrite with example",alignRight:!0}))}},{key:"render",value:function(){return f.a.createElement("div",null,this.renderSideBar(),this.renderTopBar())}}]),t}(m.Component)),vt=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(S.a)(this,Object(x.a)(t).call(this,e))).state={down:!1,mouseOverDropDown:!1},n}return Object(k.a)(t,e),Object(b.a)(t,[{key:"onMouseDown",value:function(){!1===this.state.mouseOverDropDown&&this.setState({down:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onMouseDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onMouseDown)}},{key:"createIcon",value:function(e,t,n,i){var s=this,o=n;return t||(t=function(){return s.setState({down:!s.state.down})},o+="expand"),f.a.createElement("img",{style:{opacity:ie.iconOpacity,height:i,width:i},className:" text-greyIcon "+o,onClick:t,onMouseOver:function(){s.setState({mouseOverDropDown:!0},(function(){return ne()("."+o).css({opacity:"1"})}))},onMouseOut:function(){s.setState({mouseOverDropDown:!1},(function(){(!1===s.state.down||e!=it.a&&s.props.iconCallback)&&ne()("."+o).css({opacity:ie.iconOpacity})}))},src:e})}},{key:"renderDropDowns",value:function(){var e=this;if(!1===this.state.down)return null;var t=this.props.dropDownData.map((function(t){return f.a.createElement("div",{class:e.props.uniqueClass+t.name+" picker text-greyText p-2 pl-3 pr-3",onMouseOver:function(){t.name&&(e.setState({mouseOverDropDown:!0}),ne()("."+e.props.uniqueClass+t.name).css({background:"rgb(240, 240, 240)"}))},onMouseOut:function(){t.name&&(e.setState({mouseOverDropDown:!1}),ne()("."+e.props.uniqueClass+t.name).css({background:"transparent"}))},onClick:function(){t.name&&(t.callback(),e.setState({down:!1}))}},t.name)})),n="default";return this.props.alignRight&&(n=0),f.a.createElement("div",{class:"bg-white border border-borderGrey rounded mt-2",style:{position:"absolute",right:n}},t)}},{key:"renderTooltip",value:function(){if(this.props.alignRight)return f.a.createElement("div",{class:"picker text-greyText tooltip"+this.props.uniqueClass,style:{opacity:"1",position:"absolute",right:15,top:5,transition:"all .2s ease-out"}},this.props.tooltipText);if(this.props.alignLeft)return f.a.createElement("div",{class:"picker text-greyText tooltip"+this.props.uniqueClass,style:{opacity:"1",position:"absolute",left:15,top:5,transition:"all .2s ease-out"}},this.props.tooltipText);var e="-138px";if(this.props.dropDownData)e="-133px";return f.a.createElement("div",{style:{position:"absolute",top:5}},f.a.createElement("div",{style:{position:"absolute",width:300,left:e}},f.a.createElement("div",{class:"picker text-greyText tooltip"+this.props.uniqueClass,style:{opacity:"1",textAlign:"center",transition:"all .2s ease-out"}},this.props.tooltipText)))}},{key:"render",value:function(){var e=this;this.state.down?ne()("."+this.props.uniqueClass+"expand").css({opacity:"1"}):ne()("."+this.props.uniqueClass+"expand").css({opacity:".5"});var t=null;return this.props.dropDownData&&(t=this.createIcon(it.a,(function(){return e.setState({down:!e.state.down})}),this.props.uniqueClass+"expand",16)),f.a.createElement("div",{class:"m-3 mt-4"},this.renderTooltip(),f.a.createElement("div",null,this.createIcon(this.props.iconType,this.props.iconCallback,this.props.uniqueClass,20),t),this.renderDropDowns())}}]),t}(m.Component);n(99),n(149);if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)var yt=window.require("electron").ipcRenderer;else yt=!1;var bt=n(349),St=function(e){function t(e){var n,i;return Object(y.a)(this,t),(i=Object(S.a)(this,Object(x.a)(t).call(this,e))).state=(n={fnStamps:{},scale:1,counter:0,blobStamps:{},htmlID:-1,cssID:-1,consoleStamp:null,setupExists:!0,htmlAsksForCss:!0,htmlAsksForJs:!0,lines:[],lineData:[],traversalGraph:{},consoleId:-1,numToggles:0,originX:0,originY:0},Object(_.a)(n,"scale",1),Object(_.a)(n,"pickerData",[]),Object(_.a)(n,"sideBarWidth",0),Object(_.a)(n,"topBarHeight",0),Object(_.a)(n,"zoomDisabled",!1),Object(_.a)(n,"mouseWheelTimeout",null),Object(_.a)(n,"mouseIsDown",!1),Object(_.a)(n,"downKey",-1),Object(_.a)(n,"panDisabled",!1),n),i.counterMutex=new Ke.Mutex,i.modalManagerRef=f.a.createRef(),i.onWheel=i.onWheel.bind(Object(H.a)(i)),i.onKeyDown=i.onKeyDown.bind(Object(H.a)(i)),i.onKeyUp=i.onKeyUp.bind(Object(H.a)(i)),i.onMouseDown=i.onMouseDown.bind(Object(H.a)(i)),i.onMouseUp=i.onMouseUp.bind(Object(H.a)(i)),i.onMouseMove=i.onMouseMove.bind(Object(H.a)(i)),i.newStampMarginVariance=100,i.newStampMargin=20,i.space=32,i.cmd=91,i.ctrl=17,i.plus=187,i.minus=189,i.zero=48,yt&&yt.on("writeToView",(function(e,t){return i.loadStamperFile(t.stamper)})),yt&&yt.on("resetView",(function(e){return i.loadStamperFile(bt.getSetup())})),yt&&yt.on("requestSave",(function(e,t){i.sendSaveData()})),i}return Object(k.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadStamperFile(bt.getSetup()),document.addEventListener("wheel",this.onWheel),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove);var t=window.innerWidth/2+this.state.topBarHeight,n=window.innerHeight/2+this.state.sideBarWidth;yt&&yt.on("zoomIn",(function(){e.zoom(t,window.innerHeight/2,!0)})),yt&&yt.on("zoomOut",(function(){e.zoom(.5*e.state.scale,t,n,!0)})),yt&&yt.on("zoomActual",(function(){e.zoom(1,t,n,!0)}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("wheel",this.onWheel),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onKeyDown",value:function(e){e.keyCode===this.space&&(document.body.style.cursor="grab");var t=window.innerWidth/2+this.state.topBarHeight,n=window.innerHeight/2+this.state.sideBarWidth;this.state.downKey===this.cmd||this.state.downKey===this.ctrl?e.keyCode===this.zero?(e.preventDefault(),this.zoom(1,t,n,!0)):e.keyCode===this.plus?(e.preventDefault(),this.zoom(2*this.state.scale,t,n,!0)):e.keyCode===this.minus&&(e.preventDefault(),this.zoom(.5*this.state.scale,t,n,!0)):this.setState({downKey:e.keyCode})}},{key:"onKeyUp",value:function(e){document.body.style.cursor="auto",e.keyCode===this.state.downKey&&this.setState({downKey:-1})}},{key:"onMouseDown",value:function(){this.setState({mouseIsDown:!0})}},{key:"onMouseUp",value:function(){this.setState({mouseIsDown:!1})}},{key:"onMouseMove",value:function(e){this.state.mouseIsDown&&this.state.downKey==this.space&&this.pan(e.movementX,e.movementY)}},{key:"onWheel",value:function(e){this.state.mouseWheelTimeout?clearTimeout(this.state.mouseWheelTimeout):this.onStartMove();var t=setTimeout(this.onStopMove.bind(this),250);this.setState({mouseWheelTimeout:t}),e.ctrlKey?this.zoom(this.state.scale-.01*e.deltaY,e.clientX,e.clientY):this.pan(-e.deltaX,-e.deltaY)}},{key:"pan",value:function(e,t){if(!this.state.panDisabled){yt&&yt.send("edited");var n=this.state,i=n.originX+e,s=n.originY+t;this.setState({originX:i,originY:s})}}},{key:"zoom",value:function(e,t,n){var i=this;if(!this.state.zoomDisabled){yt&&yt.send("edited");var s=this.state.scale,o=this.state.originX,a=this.state.originY;if(!(e<.1)){var r=t-(t-o)/s*e,d=n-(n-a)/s*e;this.setState({scale:e},(function(){return i.setState({originX:r,originY:d})}))}}}},{key:"updateControlBarDimensions",value:function(e,t){this.setState({sideBarWidth:e,topBarHeight:t})}},{key:"loadStamperFile",value:function(e){var t=this;this.setState({fnStamps:{},blobStamps:{},counter:0,htmlID:-1,cssID:-1,scale:1,consoleStamp:null,consoleId:-1,originX:0,originY:0},(function(){t.setState({scale:e.scale,originX:e.originX,originY:e.originY},(function(){t.addConsoleStamp(e.console),e.fns.map((function(e){return t.addFnStamp(e)})),e.blobs.map((function(e){return t.addBlobStamp(e)}))}))}))}},{key:"getIframeErrorCallBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=JSON.stringify(e);return"\n  // window.addEventListener('error', function(e) { \n  //   console.log(\"addEventListener\")\n  //     logToConsole(e.message, e.lineno)\n  //   }, false);\n\nwindow.onerror = function (message, url, lineno, colno) {\n\n  logToConsole(message, lineno)\n}\n\nfunction logToConsole(message, lineno){\n\n      var adjLineNum = -1\n      var stampId = -1\n      var ranges = ".concat(n,"\n\n      ranges.map(range => {\n        var start = range.start\n        var end = range.end\n        var id = range.id\n        var isFN = range.isFN\n        var isInRange = start + ").concat(t," < lineno + 1 && lineno -1 < end + ").concat(t,"\n\n        \n        if(isInRange){\n          adjLineNum = lineno - start - ").concat(t," + 1\n          stampId = id\n          if(range.isFn){\n            adjLineNum -= 1\n          }\n        }\n      })\n      if(stampId > 0){\n      window.parent.postMessage({type:\"error\", message:message, lineno:adjLineNum, id:stampId}, '*')\n      }\n\n    }")}},{key:"getHTML",value:function(e){if(this.state.htmlID in this.state.fnStamps===!1||this.state.cssID in this.state.fnStamps===!1)return"";if(e===this.state.htmlID||e===this.state.cssID)var t="",n=[];else{var i=this.getRunnableCode(e);t=i.runnableCode,n=i.ranges}var s=this.state.fnStamps[this.state.htmlID],o=this.state.fnStamps[this.state.cssID],a=s.ref.current.state.code,r=Ze.a.load(a,{withStartIndices:!0}),d="<script type='text/javascript'>"+t+"<\/script>",c="<style>"+o.ref.current.state.runnableInnerCode+"</style>",l=r(d),h=r(c),p=r('[href="style.css"]').length>0;!1===p&&!0===this.state.htmlAsksForCss?(this.state.consoleStamp.ref.current.logToConsole("Stamper Error: Your index.html is missing a div for style.css. Make sure you're linking to style.css and not another stylesheet."),this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1),this.setState({htmlAsksForCss:p})):!0===p&&!1===this.state.htmlAsksForCss&&this.setState({htmlAsksForCss:p});var u=r('[src="sketch.js"]').length>0;!1===u&&!0===this.state.htmlAsksForJs?(this.state.consoleStamp.ref.current.logToConsole("Stamper Error: Your index.html is missing a div for sketch.js. Make sure you're linking to sketch.js and not another sketch file."),this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1),this.setState({htmlAsksForJs:u})):!0===u&&!1===this.state.htmlAsksForJs&&this.setState({htmlAsksForJs:u}),r('[href="style.css"]').replaceWith(h),r("head").prepend("<script class='errorListener' >"+this.getIframeErrorCallBack(n)+"<\/script>");for(var m=r.html(),f=0,g=0;g<m.length&&("\n"===m[g]&&(f+=1),"sketch.js"!==m.substr(g,"sketch.js".length));g++);return r(".errorListener").replaceWith("<script class='errorListener' >"+this.getIframeErrorCallBack(n,f)+"<\/script>"),r('[src="sketch.js"]').replaceWith(l),r.html()}},{key:"addErrorLine",value:function(e,t){t in this.state.fnStamps?this.state.fnStamps[t].ref.current.addErrorLine(e):t in this.state.blobStamps&&this.state.blobStamps[t].ref.current.addErrorLine(e)}},{key:"setInitialPosition",value:function(e){return"x"===e?(-this.state.originX+this.state.sideBarWidth)/this.state.scale+50+Math.random()*this.newStampMarginVariance:"y"===e?(-this.state.originY+this.state.topBarHeight)/this.state.scale+50+Math.random()*this.newStampMarginVariance:void 0}},{key:"addConsoleStamp",value:function(e){var t={x:this.setInitialPosition("x"),y:this.setInitialPosition("y"),consoleWidth:ie.defaultEditorWidth,consoleHeight:ie.defaultVarEditorHeight,hidden:!1};Object.keys(t).map((function(n){n in e&&(t[n]=e[n])})),e=t,this.createConsoleStamp(e)}},{key:"createConsoleStamp",value:function(e){var t,n,i,s,o,a,r,d,c;return C.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.x,n=e.y,i=e.consoleWidth,s=e.consoleHeight,l.next=3,C.a.awrap(this.counterMutex.acquire());case 3:o=l.sent,a=this.state.counter,this.setState({counter:a+1},o()),r=f.a.createRef(),d=f.a.createElement(Ye,{ref:r,initialPosition:{x:t,y:n},id:a,onStartMove:this.onStartMove.bind(this),onStopMove:this.onStopMove.bind(this),disablePan:this.disablePan.bind(this),starterConsoleWidth:i,starterConsoleHeight:s,addErrorLine:this.addErrorLine.bind(this),initialHidden:e.hidden,getScale:this.getScale.bind(this)}),c={elem:d,ref:r},this.setState({consoleStamp:c,consoleId:a});case 10:case"end":return l.stop()}}),null,this)}},{key:"addFnStamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return null},o={name:"sketch",code:"rect(50, 50, 50, 50)",args:"x=mouseX, y=mouseY",x:this.setInitialPosition("x"),y:this.setInitialPosition("y"),iframeDisabled:!1,editorWidth:ie.defaultEditorWidth,editorHeight:ie.defaultEditorHeight-ie.brHeight,iframeWidth:ie.defaultIframeWidth,iframeHeight:ie.defaultEditorHeight,isHtml:!1,isCss:!1,hidden:!1};Object.keys(o).map((function(t){t in e&&(o[t]=e[t])})),e=o,n&&(e.x+=2*ie.copyOffset*this.state.scale,e.y+=2*ie.copyOffset*this.state.scale);var a=e.name+(this.state.counter+1).toString();return t&&(e.name=a),e.iframeDisabled=i,this.createFnStamp(e,s),this.refreshBlobStamps(this.state.blobStamps),a}},{key:"createFnStamp",value:function(e,t){var n,i,s,o,a,r,d,c,l,h,p,u,m,g,v,y,b,S;return C.a.async((function(x){for(;;)switch(x.prev=x.next){case 0:return n=e.name,i=e.code,s=e.args,s=e.args,o=e.x,a=e.y,r=e.iframeDisabled,d=e.editorWidth,c=e.editorHeight,l=e.iframeWidth,h=e.iframeHeight,p=e.isHtml,u=e.isCss,m=e.hidden,x.next=3,C.a.awrap(this.counterMutex.acquire());case 3:g=x.sent,v=this.state.counter,this.setState({counter:v+1},g()),y=this.state.fnStamps,b=f.a.createRef(),S=f.a.createElement(ze,{ref:b,isHtml:p,isCss:u,starterCode:i,starterArgs:s,starterName:n,errorLines:{},starterEditorWidth:d,starterEditorHeight:c,initialPosition:{x:o,y:a},id:v,deleteFrame:this.deleteFrame,initialHidden:m,onStartMove:this.onStartMove.bind(this),onStopMove:this.onStopMove.bind(this),addStamp:this.addFnStamp.bind(this),onDelete:this.onDelete.bind(this),starterIframeWidth:l,starterIframeHeight:h,checkAllNames:this.checkAllNames.bind(this),disablePan:this.disablePan.bind(this),iframeDisabled:r,requestCompile:this.requestCompile.bind(this),getHTML:this.getHTML.bind(this),addNewIframeConsole:this.addNewIframeConsole.bind(this),getScale:this.getScale.bind(this)}),y[v]={elem:S,ref:b},this.setState({fnStamps:y},t),p?this.setState({htmlID:v}):u&&this.setState({cssID:v});case 12:case"end":return x.stop()}}),null,this)}},{key:"addNewIframeConsole",value:function(e){null!==this.state.consoleStamp&&this.state.consoleStamp.ref.current.addNewIframeConsole(e)}},{key:"addBlobStamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},i={code:"var z = 10",x:this.setInitialPosition("x"),y:this.setInitialPosition("y"),editorWidth:ie.defaultEditorWidth,editorHeight:ie.defaultVarEditorHeight,hidden:!1,codeSize:ie.codeSize};Object.keys(i).map((function(t){t in e&&(i[t]=e[t])})),e=i,t&&(e.x+=2*ie.copyOffset*this.state.scale,e.y+=2*ie.copyOffset*this.state.scale),this.createBlobStamp(e,n)}},{key:"createBlobStamp",value:function(e,t){var n,i,s,o,a,r,d,c,l,h,p;return C.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.x,i=e.y,s=e.code,o=e.editorWidth,a=e.editorHeight,e.errorLines,r=e.hidden,u.next=3,C.a.awrap(this.counterMutex.acquire());case 3:d=u.sent,c=this.state.counter,this.setState({counter:c+1},d()),l=this.state.blobStamps,h=f.a.createRef(),p=f.a.createElement(Ue,{ref:h,starterCode:s,errorLines:{},initialPosition:{x:n,y:i},id:c,starterCodeSize:e.codeSize,deleteFrame:this.deleteFrame,initialHidden:r,onStartMove:this.onStartMove.bind(this),onStopMove:this.onStopMove.bind(this),addStamp:this.addBlobStamp.bind(this),onDelete:this.onDelete.bind(this),disablePan:this.disablePan.bind(this),starterEditorWidth:o,starterEditorHeight:a,requestCompile:this.requestCompile.bind(this),getExportableCode:this.getExportableCode.bind(this),getScale:this.getScale.bind(this)}),l[c]={elem:p,ref:h},this.setState({blobStamps:l},t);case 11:case"end":return u.stop()}}),null,this)}},{key:"getFileData",value:function(){if(this.state.htmlID in this.state.fnStamps!==!1&&this.state.cssID in this.state.fnStamps!==!1){var e=this.state.fnStamps[this.state.htmlID],t=this.state.fnStamps[this.state.cssID],n={html:e.ref.current.state.code,stamper:this.getAllData(),css:t.ref.current.state.code,js:this.getExportableCode()};return n.stamper.compressedJs=De.a.compress(n.js,{outputEncoding:"StorageBinaryString"}),n}}},{key:"sendSaveData",value:function(){var e=this.getFileData();e&&yt&&yt.send("save",e)}},{key:"checkForSetup",value:function(){for(var e=!1,t=Object.values(this.state.fnStamps),n=0;n<t.length;n++){"setup"===t[n].ref.current.state.name&&(e=!0)}return this.state.setupExists&&!1===e&&this.state.consoleStamp.ref.current.logToConsole("Stamper Error: You don't have a setup. This will constrain your canvas to a default width and height."),this.setState({setupExists:e}),e}},{key:"requestCompile",value:function(e){this.state.consoleStamp.ref.current.logToConsole("Updated code","debug"),this.setLayerPicker();var t=this.checkAllNames();this.checkForSetup(),this.sendSaveData(),Object.values(this.state.fnStamps).map((function(e){var n=e.ref.current;if(n){var i=[];n.props.id in t&&!1===n.props.isCss&&!1===n.props.isHtml&&i.push(0),n.clearErrorsAndUpdate(i)}})),Object.values(this.state.blobStamps).map((function(e){var n=e.ref.current;if(n){var i=[];n.props.id in t&&!1===n.props.isCss&&!1===n.props.isHtml&&i.push(0),n.clearErrorsAndUpdate(i)}}))}},{key:"compileStamp",value:function(e,t,n,i){var s=this;if(!(e in t)){if(t[e]="",e in this.state.fnStamps)var o=this.state.fnStamps[e].ref.current;else{if(!(e in this.state.blobStamps))return;o=this.state.blobStamps[e].ref.current}if(o){var a=[];if(o.props.id in i&&!1===o.props.isCss&&!1===o.props.isHtml&&a.push(0),o.clearErrorsAndUpdate(a),e in n===!1)return;n[e].map((function(e){return s.compileStamp(e,t,n,i)}))}}}},{key:"disablePan",value:function(e){this.setState({panDisabled:e})}},{key:"disableZoom",value:function(e){this.setState({zoomDisabled:e})}},{key:"checkAllNames",value:function(){var e=this,t={};Object.values(this.state.fnStamps).map((function(e){if(e.ref.current){var n=e.ref.current.state.name;n in t||(t[n]=0),t[n]+=1}}));var n={};return Object.values(this.state.fnStamps).map((function(i){if(i.ref.current){i.ref.current;var s=i.ref.current.state.name;t[s]>1&&(n[i.ref.current.props.id]="",e.state.consoleStamp.ref.current.logToConsole("Stamper Error: Multiple functions shouldn't have the same name. Consider channging one of your ".concat(s,"s to something else.")))}})),n}},{key:"getExportableCode",value:function(){var e,t=this,n=[],i=[],s=1;return Object.values(this.state.blobStamps).map((function(o){e=o.ref.current.state.code,s=t.addCodeBlock(e,o.ref.current.props.id,n,i,s,!1)})),Object.values(this.state.fnStamps).map((function(o){if(!1===o.ref.current.props.isCss&&!1===o.ref.current.props.isHtml){var a=o.ref.current.state;e="function ".concat(a.name,"(").concat(a.args,"){\n").concat(a.code,"\n}"),s=t.addCodeBlock(e,o.ref.current.props.id,n,i,s,!0)}})),n.join("\n")}},{key:"getNumLines",value:function(e){for(var t=0,n=0;n<e.length;n++)"\n"===e[n]&&(t+=1);return t}},{key:"addCodeBlock",value:function(e,t,n,i,s,o){e=e.trim()+"\n";var a=s,r=s+this.getNumLines(e)-1;return n.push(e),i.push({start:a,end:r,id:t,isFn:o}),r+1}},{key:"setLines",value:function(){var e=[],t=220-15*this.state.scale,n={borderColor:"rgb(".concat(t,", ").concat(t,", ").concat(t,")"),borderWidth:1};this.state.lineData.map((function(t){e.push(f.a.createElement(Je.SteppedLineTo,Object.assign({},n,{from:"vertex"+t[0],to:"vertex"+t[1],orientation:"v"})))})),this.setState({lines:e})}},{key:"setLineData",value:function(){var e=this,t={},n=[],i=[],s=-1,o={};return Object.keys(this.state.blobStamps).map((function(i){var s=e.state.blobStamps[i].ref.current.state.code,o=Oe.a.getIdentifiers(s);o&&(o.declared.map((function(e){return t[e]=i})),o.undeclared.map((function(e){return n.push([e,i])})))})),Object.keys(this.state.fnStamps).map((function(i){var o=e.state.fnStamps[i].ref.current;"setup"===o.state.name&&(s=i);var a=o.state,r="function ".concat(a.name,"(").concat(a.args,"){\n").concat(a.code,"\n}"),d=Oe.a.getIdentifiers(r);d&&(d.declared.map((function(e){return t[e]=i})),d.undeclared.map((function(e){return n.push([e,i])})))})),n.map((function(e){var n=e[0],s=e[1],a=t[n];a&&s&&(i.push([s,a]),a in o===!1&&(o[a]=[]),o[a].push(s))})),Object.keys(this.state.fnStamps).map((function(t){t!=e.state.htmlID&&t!=e.state.cssID&&t!=s&&(i.push([t,s]),s in o===!1&&(o[s]=[]),o[s].push(t))})),this.setState({lineData:i},(function(){return e.setLines()})),Object.keys(this.state.fnStamps).map((function(t){t!=e.state.htmlID&&t!=e.state.cssID&&(e.state.htmlID in o===!1&&(o[e.state.htmlID]=[]),o[e.state.htmlID].push(t))})),o[this.state.cssID]=[this.state.htmlID],o}},{key:"getRunnableCode",value:function(e){var t,n=this,i=[],s=[],o=1;if(Object.values(this.state.blobStamps).map((function(e){t=e.ref.current.state.code,o=n.addCodeBlock(t,e.ref.current.props.id,i,s,o,!1)})),Object.values(this.state.fnStamps).map((function(a){if("draw"!=a.ref.current.state.name&&!1===a.ref.current.props.isCss&&!1===a.ref.current.props.isHtml&&(!1===n.isListener(a.ref.current.state.name)||!1===n.isListener(n.state.fnStamps[e].ref.current.state.name))){var r=a.ref.current.state;t="function ".concat(r.name,"(").concat(r.args,"){\n").concat(r.code,"\n}"),o=n.addCodeBlock(t,a.ref.current.props.id,i,s,o,!0)}})),e in this.state.fnStamps==0||null===this.state.fnStamps[e].ref.current)return i.join("");var a=this.state.fnStamps[e].ref.current,r=a.state;if("draw"===r.name||this.isListener(r.name)){var d="function ".concat(r.name,"(").concat(r.args,"){\n").concat(r.code,"\n}");o=this.addCodeBlock(d,a.props.id,i,s,o,!0)}else"setup"===r.name||(t="function draw(){\n".concat(r.name,"()\n}"),o=this.addCodeBlock(t,-1,i,s,o,!1));return i=this.setLoopingControl(e,i.join(""),r.name),{ranges:s,runnableCode:i}}},{key:"setLoopingControl",value:function(e,t){var n='\n\nvar _isLooping = true\n\nwindow.parent.postMessage({type:"loop", message:"stop", id:'.concat(e,"}, '*')\nvar _userSetLoop = true\nvar _stopLooping = setTimeout(() => {\n noLoop() \n}, 1000)\n\ndocument.addEventListener('mouseenter', () => {\nclearTimeout(_stopLooping)\nwindow.parent.postMessage({type:\"loop\", message:\"start\", id:").concat(e,"}, '*')\nif(_isLooping){\n\nloop()\n}\n\n});\n\ndocument.addEventListener('mouseleave', () => {\n  window.parent.postMessage({type:\"loop\", message:\"stop\", id:").concat(e,"}, '*')\nstopLooping =setTimeout(() => {\n noLoop() \n}, 1000)\n});\n\n");return t=(t=t.replace("noLoop()","noLoop(); _isLooping = false")).replace("loop()","loop(); _isLooping = true"),t+=n}},{key:"isListener",value:function(e){return e in ie.specialFns&&!1===ie.specialFns[e]}},{key:"onDelete",value:function(e){var t=this.state.fnStamps,n=this.state.blobStamps;e in t?(yt&&yt.send("edited"),delete t[e]):e in n&&(yt&&yt.send("edited"),delete n[e]),this.refreshFnStamps(t),this.refreshBlobStamps(n)}},{key:"refreshConsoleStamp",value:function(e){var t=this,n=e.ref.current.getData();this.setState({consoleStamp:null},(function(){return t.addConsoleStamp(n)}))}},{key:"getAllData",value:function(){var e={fns:[],blobs:[],scale:this.state.scale,console:this.state.consoleStamp.ref.current.getData(),originX:this.state.originX,originY:this.state.originY};return Object.values(this.state.fnStamps).map((function(t){return e.fns.push(t.ref.current.getData())})),Object.values(this.state.blobStamps).map((function(t){return e.blobs.push(t.ref.current.getData())})),e}},{key:"refreshFnStamps",value:function(e){var t=this,n=[];for(var i in e){var s=e[i].ref.current.getData();n.push(s)}this.setState({fnStamps:{}},(function(){return n.map((function(e){return t.addFnStamp(e)}))}))}},{key:"refreshBlobStamps",value:function(e){var t=this,n=[];for(var i in e){var s=e[i].ref.current.getData();n.push(s)}this.setState({blobStamps:{}},(function(){return n.map((function(e){return t.createBlobStamp(e)}))}))}},{key:"onStartMove",value:function(){var e=this.state.fnStamps;for(var t in e){e[t].ref.current.setIframeDisabled(!0)}this.setState({lines:[]})}},{key:"onStopMove",value:function(e){this.setState({mouseWheelTimeout:null});var t=this.state.fnStamps;for(var n in t){t[n].ref.current.setIframeDisabled(!1)}this.setLines()}},{key:"centerOnStamp",value:function(e,t,n){var i;if(e in this.state.fnStamps?i=this.state.fnStamps[e].ref.current:e in this.state.blobStamps?i=this.state.blobStamps[e].ref.current:this.state.consoleStamp.ref.current&&e===this.state.consoleStamp.ref.current.props.id&&(i=this.state.consoleStamp.ref.current),i){var s=i.cristalRef.current;if(s){var o=this.state.originX+s.state.x*this.state.scale,a=this.state.originY+s.state.y*this.state.scale,r=s.state.width,d=s.state.height,c=(window.innerWidth-t)/2+t-r/2*this.state.scale,l=(window.innerHeight-n)/2+n-d/2*this.state.scale;this.manualPan(c-o,l-a),s.changeZIndex()}}}},{key:"manualPan",value:function(e,t){ne()(".allStamps").css({transition:"all .5s ease"}),setTimeout((function(){return ne()(".allStamps").css({transition:""})}),500),yt&&yt.send("edited"),this.setState({originX:this.state.originX+e,originY:this.state.originY+t})}},{key:"toggleHide",value:function(e){var t=this;e.toggleHide((function(){return t.setLayerPicker()}))}},{key:"getFirstLine",value:function(e){for(var t=e.length,n=0;n<e.length;n++)if("\n"===e[n]){if(0===n)return" ";t===e.length&&(t=n)}return e.substr(0,Math.min(t,15))}},{key:"getScale",value:function(){return this.state.scale}},{key:"setLayerPicker",value:function(){var e=this,t=[];if(this.state.consoleStamp&&this.state.consoleStamp.ref.current){var n=this.state.consoleStamp.ref.current;t.push({name:"console",status:!n.state.hidden,icon:n.getIcon(),centerCallback:function(t,i){return e.centerOnStamp(n.props.id,t,i)},hideCallback:function(){return e.toggleHide(n)},id:n.props.id})}var i=Object.keys(this.state.fnStamps),s=Object.keys(this.state.blobStamps);i.concat(s).map((function(n){if(n in e.state.fnStamps){if(!(s=e.state.fnStamps[n].ref.current))return;var i=s.state.name}else if(n in e.state.blobStamps){var s;if(!(s=e.state.blobStamps[n].ref.current))return;i=e.getFirstLine(s.state.code)}t.push({name:i,icon:s.getIcon(),status:!s.state.hidden,centerCallback:function(t,n){return e.centerOnStamp(s.props.id,t,n)},hideCallback:function(){return e.toggleHide(s)},id:s.props.id})})),this.setState({pickerData:t})}},{key:"render",value:function(){if(this.state.consoleStamp)var e=this.state.consoleStamp.elem;else e=null;var t=[];return Object.values(this.state.fnStamps).map((function(e){return t.push(e.elem)})),Object.values(this.state.blobStamps).map((function(e){return t.push(e.elem)})),f.a.createElement("div",null,f.a.createElement("div",{class:"row bg-grey",style:{height:"100vh"}},f.a.createElement("div",{className:"allStamps",style:{position:"absolute",left:this.state.originX,top:this.state.originY,transform:"scale("+this.state.scale+")"}},t,e,this.state.lines)),f.a.createElement(gt,{pickerData:this.state.pickerData,addBlobStamp:this.addBlobStamp.bind(this),addFnStamp:this.addFnStamp.bind(this),disablePan:this.disablePan.bind(this),disableZoom:this.disableZoom.bind(this),loadStamperFile:this.loadStamperFile.bind(this),updateControlBarDimensions:this.updateControlBarDimensions.bind(this),modalManagerRef:this.modalManagerRef}),f.a.createElement(Fe,{loadStamperFile:this.loadStamperFile.bind(this),getFileData:this.getFileData.bind(this),ref:this.modalManagerRef}))}}]),t}(m.Component),xt=function(e){function t(){return Object(y.a)(this,t),Object(S.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(St,null))}}]),t}(m.Component);n(1168);v.a.render(f.a.createElement(xt,null),document.getElementById("root"))},138:function(e,t,n){e.exports=n.p+"static/media/box.310d8273.svg"},139:function(e,t,n){e.exports=n.p+"static/media/bell.86facacc.svg"},142:function(e,t,n){},210:function(e,t,n){e.exports=n.p+"static/media/tool.d68b9b61.svg"},217:function(e,t,n){e.exports=n.p+"static/media/chevron-down.c66b213d.svg"},349:function(e,t){var n={fns:[{name:"style.css",code:"\nhtml, body {\n  margin: 0;\n  padding: 0;\n}",args:" ",x:1214.0152913777786,y:-177.38952700122098,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!0,hidden:!0,exported:!0},{name:"index.html",code:'<html>\n  <head>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js"><\/script>\n    <link rel="stylesheet" type="text/css" href="style.css">\n  </head>\n  <body>\n    <script src=\'sketch.js\'><\/script>\n  </body>\n</html>\n',args:" ",x:717.7235737149142,y:-174.70178004670035,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!0,isCss:!1,hidden:!0,exported:!0},{name:"keyPressed",code:"\nbackground(255)\nfill(117,250,151)\ntextSize(50);\n\n// display last key pressed.\ntext(dotSize + ' ' + keyCode, 20, 70)\n\nif (keyCode == 187) { // keyCode for '+'\n  dotSize++\n} else if (keyCode == 189) { // keyCode for '-'\n  dotSize--\n}\n",args:"",x:2368.480604262091,y:833.4887820007216,editorWidth:367.4416035868834,editorHeight:236.03934381388729,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!0,exported:!0},{name:"draw",code:"\ncolorMode(RGB, 255, 255, 255, 1);\nbackground(151, 97, 246, .01);\nstroke(255);\nstrokeWeight(1)\n\nif (mouseIsPressed) {\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}\n",args:"",x:1165.4509496828648,y:742.6970514094569,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"setup",code:"\ncreateCanvas(200, 200)\n",args:"",x:670.8836830009536,y:744.080110275419,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"dotPattern",code:"\nbackground(255, 10)\nfor(var i = 0; i < 10; i++){\n  basicDot(mouseX, i*20 )\n}\n\n",args:"",x:3330.0227123737986,y:834.9322956589234,editorWidth:225,editorHeight:175,iframeWidth:279,iframeHeight:257,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"basicDot",code:"\nnoStroke()\nbackground(255, 10)\nfill(117,250,151)\nellipse(x, y, dotSize, dotSize)\n",args:"x=mouseX, y=mouseY",x:1877.4903434233374,y:837.7006059839921,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0},{name:"sizeDot",code:"\n// generate a random size\nnoStroke()\nvar size = random(0, 20)\n\n// use it to draw the dot\nfill(86,220,248, size*.05 *255);\nellipse(x,y,size, size);\n",args:"x=mouseX, y=mouseY",x:3895.5198057448943,y:835.3288232987358,editorWidth:225,editorHeight:175,iframeWidth:200,iframeHeight:200,isHtml:!1,isCss:!1,hidden:!1,exported:!0}],blobs:[{code:"/* and comments!\n \n  click the 'T' to\n  toggle text-size\n  \n*/",editorWidth:348.3514917659609,editorHeight:195.5945895797871,x:2369.39170216625,y:566.2162988773974,hidden:!1,codeSize:28},{code:"/*\n READ ME\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \n  /\\  _\\  _\\ \\ _/\\__ \\    /\\  _`\\ /\\__  _/\\  _  \\  /'\\_/`\\/\\  _`\\ /\\  _`\\ /\\  _`\\     \n  \\ \\ \\/ /\\_` ' \\/_/\\ \\   \\ \\,\\L\\_\\/_/\\ \\\\ \\ \\L\\ \\/\\      \\ \\ \\L\\ \\ \\ \\L\\_\\ \\ \\L\\ \\   \n   \\ \\ \\ \\/_>   <_ \\ \\ \\   \\/_\\__ \\  \\ \\ \\\\ \\  __ \\ \\ \\__\\ \\ \\ ,__/\\ \\  _\\L\\ \\ ,  /   \n    \\ \\ \\_ /\\_, ,_\\ \\_\\ \\    /\\ \\L\\ \\ \\ \\ \\\\ \\ \\/\\ \\ \\ \\_/\\ \\ \\ \\/  \\ \\ \\L\\ \\ \\ \\\\ \\  \n     \\ \\___\\/_/\\_\\/ /\\___\\   \\ `\\____\\ \\ \\_\\\\ \\_\\ \\_\\ \\_\\\\ \\_\\ \\_\\   \\ \\____/\\ \\_\\ \\_\\\n      \\/___/  \\/_/  \\/___/    \\/_____/  \\/_/ \\/_/\\/_/\\/_/ \\/_/\\/_/    \\/___/  \\/_/\\/ / \n\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\n     \n     In Stamper, your code is structured into \"Stamps\", there are 5 types:\n     \n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\n     \n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\n     \n     3. Console for printing messages\n        \n     4. HTML for updating the webpage which holds your sketch\n     \n     5. CSS for updating global style of that webpage\n*/",editorWidth:712,editorHeight:309,x:231.105803149567,y:175.00967117636048,hidden:!1,codeSize:14},{code:'//This is an "Anything" Stamp\n// Which can be used for global variables\n\nvar dotSize = 20;',editorWidth:235.27929098049674,editorHeight:101.6125006152455,x:2090.1232297229144,y:661.2246291643922,hidden:!1,codeSize:14},{code:"/*\n  Stamps can call one another. Try switching out the 'basicDot' for the 'sizeDot'\n*/",editorWidth:276.296346723557,editorHeight:109.39558738280925,x:3577.074740971314,y:656.1956771244991,hidden:!1,codeSize:14},{code:'/*\n  A Stamper project is ~= to one p5 sketch, this means:\n    \n    1. Everything is in global scope and you can call functions freely\n    2. When you\'re export, the Stamp named "draw" will act as the draw() function, if you import this code into the p5 web editor.\n*/',editorWidth:451.14440157092827,editorHeight:151.54048537765823,x:752.0874271415859,y:1086.0441248123698,hidden:!1,codeSize:14},{code:"/*\n\n  Duplicate a Stamp to try a new idea\n  \n  1. Click on Stamp titlebar\n  2. Hold Option (\u2325) and drag to new position\n  3. Release Mouse\n\n*/",editorWidth:225,editorHeight:168.28845558398316,x:3892.7486139641014,y:599.7783058248328,hidden:!1,codeSize:14},{code:"/*Stamps can be hidden by clicking their eye-cons in the layer list\n\n*/",editorWidth:291.0811563031933,editorHeight:200,x:987.2292727588588,y:178.52248092290748,hidden:!1,codeSize:28}],scale:.6854017092287545,console:{x:67.20990314036078,y:559.9352212006518,consoleWidth:225,consoleHeight:200,hidden:!1},originX:209.47972499070545,originY:14.546644181615989,compressedJs:"\u1795\u0818\u2dcc\u4206\u1b7b\u35b5\u4adc\u7473\u1085\u0802\u4404\u0636\u634b\u0dac\u40e8\u6865\u1013\u5509\u640e\u46f0\u5101\u01d1\u5ece\u676c\u3290\u1d19\u2f0e\u42d7\u1b4b\u6994\u1440\u200a\u1517\u428b\u6541\u2205\u122a\u0510\u409a\u450a\u1010\u0817\u6beb\u75f2\u0628\u2318\u0d8c\u08cc\u0c62\u42b1\u60f9\u201c\u6106\u38eb\u4801\u0f2f\u2e10\u0817\u78c0\u45c2\u02f9\u3d71\u3ebe\u205c\u620d\u7146\u0c0b\u420c\u2896\u1064\u4040\u5f20\u620d\u4bc9\u6b8b\u72f6\u02e6\u2883\u1c11\u4757\u6227\u170b\u7887\u6602\u0139\u0170\u5f88\u41c4\u0eae\u0817\u058b\u44c5\u62fe\u1c4b\u0a4e\u4cc4\u15e3\u0eb1\u4718\u411c\u3047\u1402\u2d8c\u10c5\u2be3\u0631\u0a07\u6202\u0101\u7390\u0159\u4758\u17af\u79c0\u1778\u512c\u28ae\u1441\u3840\u5c5f\u6323\u080b\u0bf8\u574e\u2007\u3315\u2458\u2020\u17e3\u55f1\u653c\u400b\u0161\xb3\u0861\u4534\u7300\u4231\u45d9\u158e\u2005\u3318\u5f90\u092f\u7780\u2e31\u2778\u557c\u33ff\u1803\u5cbf\u6601\u0872#\u5883\u060c\u205e\u1599\u38bf\u4432\u643a\u7303\u3908\u0c56\u5630\u5319\u2fc8\xf0\u2faf\u711e\u05f8\u706c\u2876\u1c2b\u1435\u4579\u6382\u3243\u3a08\u0e40\u04c1+\u0cb2\u416e\u1020\u5c9d\u0c4d\u7726\u216a\u3dc9\u52ca\u6e74\u32b2\u0814\u0e4d\u7677\u130b\u35b5\u52dc\u6720\u22b7\u1d9a\u2e4d\u7e40\u1679\u0199\u5ee5\u6502\u63b8\u0d4b\u4d4e\u3204\u634b\u09c9\u42e4\u792e\u6323\u7181\u492d\u6205\u1ba3\u05b5\u60ca\u722c\u103c\u5bdd\u2e44\u0636\u7b23\u1481\u52e6\u2073\u3a39\u1d58\u6e8e\u5726\u2b21\u01a5\u5ce8\u6f20\u1162\u49dc\u6445\u4c45\u0b93\u1481\u42e4\u6520\u1a90\u1d1e\u2e0c\u5733\u5662\u44c4\u5c40\u4675\u3731\u5d1a\u2ded\u6c57\u7a9b\u15d1\u6ae0\u2829\u1610\u111c\u4c2e\u7c40\u435b\u15e5\u20e4\u6573\u39b2\u5931\u01d8\u4744\u330b\u5b10\u6788\u0f65\u3a31\u7b40\u13e6\u22e2\u020b\u39e5\u68d1\u6400\u6c62\u1399\u2ecc\u572c\u387b\u15b1\u66ca\u3a20\u23b6\u1bd8\u4c2d\u4205\u330b\u49a5\u42c4\u6c65\u3996\u0810\u7ce0\u3cb2\u0143\u31a5\u56ca\u2074\u3434\u5cc8\u0ded\u6652\u4961\u010d\u58c2\u7373\u6211\u7419\u4665\u6204\u1b7b\u39cd\u5ed8\u65c5\u32b8\u1c9a\u2dce\u4c46\u1b6b\u15cd\u66c2\u6765\u39e3\u09b2\u25e6\u42e2\u0242\u5135\u198a\u2c75\u3832\u1871\u259c\u4016\u3bbb\u1589\u60c2\u6765\u103b\u5a1a\u2c6d\u0206\u437b\u3191\u67cc\u0155\u39b5\u595d\u0c6d\u0cc7\u19a9\u3881\u06a6\u53ce\u21b3\u7980\u198e\u3747\u4b63\u1481\u5ecc\u2074\u3430\u5d32\u0a9c\u5046\u697a\u5390\u019a\u6973\u1030\u5b88\u045d\x11\u4117\u1807\u0214\u2f2f\u102b\u715e\u0c6c\u16e2\u0313\u1481\u6ae6\u6564\u62b0\u31d5\u6edd\x12\u1850\u29d9\u42e4\u2064\u37ba\u14da\u2f4c\u5203\u6901\u48c0\u77ca\u04c8\u6324\u1cf1\u280c\u3616\u6367\u1004\u6c40\u616e\u37f2|\u05c4\u0547\u13c9\u01cd\u6ed2\u7463\u623a\u081b\u6eae\u4e60\u2903\u0985\u66d2\u6344\u37ba\u09fa\u204d\u427e\u2028\u7f10\u25d0\u0520\u1020\u7196\u4cbc\u4015\u537b\u2995\u46e9\u6400\u61bf\u0f48\u0e8d\u7c56\u1b81\u579c\u0241\u6402\u2db4\u5cc8\u0dac\u5616\u7738\u0953\u0a0a\u312e\u1022\u7a80\u3efc\u4010\u0b77\u2404\u56c6\u6f70\u7200\u2919\u1c80\u167e\u5005\u659b\u4e05\u0173\u1033\u1c99\u2cad\u479c\u2a39\u48b8\u40ae\u6865\u3762\u0a89\u6e4c\u5206\u2bc3\u41bd\u64e9\u4473\u32f3'\u640d\u6616\u6b2b\u1080\u44c8\u7261\u3b91\u081d\u6d2d\u46c2\u030b\u0dd0\u40c2\u73c5\u11e2\u058a\u0539\u15a2\u6103\u259b\u0ae8\u696d\u6223\u7980\u173c\u6033\u5f20\u0cb7\u0864\u7035\u7200\u6f08\u0cac\u4697\u237b\u48bb\u4e02\u0d0a\u1010\u111d\u2e0d\u4696\u1b0b\u5194\u40c3\u4779\u6218\u5c9e\u240c\u1206\u732b\u5c81\u52c8\u6561\u7203\u1779\u201f\u043e\u2834\u25bf\u4e07\u2420\u3a34\u5d1b\u0cac\u2617\u1057\u1403\u1c90\u6f6c\u3210\u13dc\u1ca0\u36a2\u4714\u3294\u53ca\u0109\u3239\u1859\u788a\u2c44\u6383\u3dcd\u5388\u1f0a\u7281\u38d4\u4cad\u4656\u0b9b\u1481\u1ade\u7573\u3285\u3980\u123d\u301f\u1b13\u1481\u50d2\u6464\u32b7\u0818\u4f3c\u6070\u1738\u0b5d\u52e4\u2065\u3cb2\u4b58\u7c80\u1506\u4b76\u1048\u40d8\u6179\u32b9\u081b\u0d2e\u374c\u2a47\u2004\u2dda\u03dc\u3d85\u0298\u4c2c\u36b6\u3b93\u3dd5\u5cc8\u2832\u1a9a\u4a42\u4ccd\u16c6\u6141\u44c4\u6e58\u3235\u1816\u0c4d\u2625\u10ae\u203a\u4390\u050e\u2835\u1814\u4ec2\u5c80\u2c46\u234b\u4dc1\u58c2\u7920\u3630\u5cdd\u188a\u0207\u0632\u44bb\u0a58\u28e8\u015b\u4ac8\u04e4\u0272\u015e\u1089\u06de\u6465\u1610\u0c8c\u0584\u0373\u0148\u2829\u52cc\u2028\u638b\u080f\u27a4\u0313\u41b9\u2481\u7640\u2f2f\u6415\u7940\u5524\u72b2\u3851\u03a0\u0608\u2b2b\u053e\u7941\u09fc\u401d\u2e71\u70e7\u2878\u2dcb\u1e16\u4b42\u4fa1\u20a7\u6f50\u040f\u4c04\u297b\u0505\u18db\u6d8d\u7724\u6b7b\u1194\u50a4\u4742\u1610\u0c8d\u26b9\u4053\u0949\u6fb0\u023e\u3135\u1896\u080e\u26e5\u4203\u11a1\u58b0\u405c\u30c4\u0fb9\u5d1c\u4ded\u365e\u2809\u6b20\u1aae\u6569\u33b4\u1d0a\u063c\u700e\u3b6f\u1007\u1492\u73e7\xb9\u4a48\u0f61\u2202\u0363\u25b9\u4b8c\u1958\u1610\u3142\u0b25\u4207\u0640\u4718\u12b2\u293b\u7780\u2d9c\u7cc0\u5a6e\u2005\u5dc9\u4ac2\u7465\u21b0\u5b9d\u4c2e\u3283\u1181\u4390\u02b5\u6401\u2be5\u4b59\u0dee\u4506\u0ba3\u5195\u64dd\u7301\u7316\u080c\u2605\u10a6\u337b\u48a3\u4808\u6669\u101e\u480c\u0764\u0692\u01e1\xc7\u0810\u2b2b\u14f2)\u3d00\u436e\u4805\u25a4\u5464\u3020\u14f2%\u398d\u1c92\u3bc1\u7720\u52f3\u460a\u2ce2\u1e5b\u4dea\u3e60\u0919\u27d8\u0109\u7102\u3732\u5b1b\u0d2e\u0736\u2943\u60b0\u40f2\u2ce8\xe1\u3242\u3dc0\u0e5e\u3826\u1b5d\u765e\u2f20\u33b2\u5b99\u2e5c\u603c\u3b93\u05b9\u48de\u6dc5\u19f6%\u3c80\u101c\u20a1\xf7\u0e44\u28e5\xa7\u0a71\u27ee\u5e40\u137b\u5390\u0755\u6402\u1973\u0119\u0dee\u4e60\u05a9\u60d8\u5864\u3230\u1619\u0d0e\u0598\u5412\u5171\u40d4\u4055\u6602\u04f51\u0f25\u4c41\u6631\u0b90\u067a\u7d0a\u8002\u8001"};t.getSetup=function(){return n}},351:function(e,t,n){e.exports=n.p+"static/media/trash.e6887622.svg"},352:function(e,t,n){e.exports=n.p+"static/media/copy.745449c2.svg"},353:function(e,t,n){e.exports=n.p+"static/media/slash.c6f7141b.svg"},354:function(e,t,n){e.exports=n.p+"static/media/type.3950b751.svg"},358:function(e,t,n){e.exports=n.p+"static/media/pen-tool.e6eb6671.svg"},359:function(e,t,n){e.exports=n.p+"static/media/layout.8a437d55.svg"},362:function(e,t,n){e.exports=n.p+"static/media/printer.cb409233.svg"},363:function(e,t,n){e.exports=n.p+"static/media/eye.62517b9b.svg"},364:function(e,t,n){e.exports=n.p+"static/media/eye-off.c68b9e9b.svg"},365:function(e,t,n){e.exports=n.p+"static/media/download.ce2002cf.svg"},366:function(e,t,n){e.exports=n.p+"static/media/archive.97582ec6.svg"},372:function(e,t,n){e.exports=n(1170)},60:function(e,t,n){var i=n(149),s=n(99);n(796);function o(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.range[0]<t.range[0]&&t.range[1]<i.range[1])return-1;if(t.range[1]<i.range[0])return n}return e.length}function a(e,t,n,i,s){if(s)if("Block"===t.type)var o="/*"+t.value+"*/";else o="// "+t.value;else o=n.substr(t.range[0],t.range[1]-t.range[0]);0===e.length&&e.push({code:""});var a=e[e.length-1],r=t.loc.start.line-i;return 0==r?a.code+=o:1===r?a.code+="\n"+o:e.push({code:o}),t.loc.end.line}function r(e,t,n){t.range;var i=t.id.name,s="";if(t.params.length>=1){var o=t.params[0].range[0],a=t.params[t.params.length-1].range[1];s=n.substr(o,a-o)}var r=t.body.range[0]+1,d=t.body.range[1]-1,c=n.substr(r,d-r);e.push({code:c,name:i,args:s})}t.jsToStamps=function(e){try{var t=i.parseScript(e,{range:!0,comment:!0,tolerant:!0,loc:!0})}catch(c){return console.log(c),null}var n=s.cloneDeep(t.body);!function(e,t){for(var n=0;n<t.length;n++){var i=t[n],s=o(e,i);s>=0&&e.splice(s,0,i)}}(n,t.comments);var d={fns:[],blobs:[]};return function(e,t,n,i){for(var s=0,o=[],d=0;d<e.length;d++){var c=e[d];"FunctionDeclaration"===c.type?r(n,c,i):s="Block"===c.type||"Line"===c.type?a(o,c,i,s,!0):a(o,c,i,s,!1)}for(d=0;d<o.length;d++){var l=o[d];""!=l.code&&t.push(l)}}(n,d.blobs,d.fns,e),d},t.getIdentifiers=function(e){try{var t=i.parseScript(e)}catch(u){}for(var n,s={},o={},a=[[null,t,0,null]];a.length>0;){var r=a.shift(),d=r[0],c=r[1],l=r[3],h=r[2];null!==c&&(d&&c&&l&&"id"===d&&"Identifier"===c.type&&((n=l.type).includes("Declaration")||n.includes("Declarator"))&&c.name in s===!1&&(s[c.name]=[l.type,h]),d&&"name"===d&&c in s===!1&&(o[c]=h),c instanceof Array?c.map((function(e){return a.push([null,e,h+1,c])})):c instanceof Object&&Object.keys(c).map((function(e){a.push([e,c[e],h+1,c])})))}var p={declared:[],undeclared:[]};return Object.keys(s).map((function(e){3===s[e][1]&&s[e][0].includes("Declaration")?p.declared.push(e):5===s[e][1]&&s[e][0].includes("Declarator")&&p.declared.push(e)})),Object.keys(o).map((function(e){p.undeclared.push(e)})),p}},790:function(e,t,n){"use strict";(function(e){var t=n(75),i=n.n(t);i.a.define("ace/theme/p5",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-p5",t.cssText=".ace-p5 .ace_gutter {\tbackground: #F5F8FC;\tcolor: #333 !important;}.ace-p5 .ace_identifier {\tcolor: #000000;}.ace-p5 .ace_print-margin {\twidth: 1px;\tbackground: #F5F8FC;}.ace-p5 {\tbackground-color: #F5F8FC;\tcolor: #586E75}.ace-p5 .ace_cursor {\tcolor: #000000}.ace-p5 .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255)}.ace-p5.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FDF6E3;}.ace-p5 .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)}.ace-p5 .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgba(147, 161, 161, 0.50)}.ace-p5 .ace_marker-layer .ace_active-line {\tbackground: #EEE8D5}.ace-p5 .ace_gutter-active-line {\tbackground-color : #EDE5C1}.ace-p5 .ace_marker-layer .ace_selected-word {\tborder: 1px solid #7f9390}.ace-p5 .ace_invisible {\tcolor: rgba(147, 161, 161, 0.50)}.ace-p5 .ace_keyword  {\tcolor: #00A1D3}.ace-p5 .ace_keyword.ace_operator {\tcolor: #A67F59}.ace-p5 .ace_meta,.ace-p5 .ace_support.ace_class,.ace-p5 .ace_support.ace_type {\tcolor: #859900}.ace-p5 .ace_paren{\tcolor: #666}.ace-p5 .ace_constant.ace_character,.ace-p5 .ace_constant.ace_other {\tcolor: #CB4B16}.ace-p5 .ace_constant.ace_language {\tcolor: #B58900}.ace-p5 .ace_constant.ace_numeric {\tcolor: #dc3787}.ace-p5 .ace_fold {\tbackground-color: #268BD2;\tborder-color: #586E75}.ace-p5 .ace_function, {\tcolor: #00a1d3 !important}.ace-p5 .ace_entity.ace_name.ace_function,.ace-p5 .ace_entity.ace_name.ace_tag,.ace-p5 .ace_support.ace_function,.ace-p5 .ace_variable,.ace-p5 .ace_variable.ace_language {\tcolor: #00a1d3 !important}.ace-p5 .ace_storage {\tcolor: #704f21 !important}.ace-p5 .ace_string {color: #00a1d3 !important;}.ace-p5 .ace_string.ace_regexp {color: #D30102}.ace-p5 .ace_comment,.ace-p5 .ace_entity.ace_other.ace_attribute-name {color: #a0a0a0}.ace-p5 .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),i.a.require(["ace/theme/p5"],(function(t){"object"==typeof exports&&e&&(e.exports=t)}))}).call(this,n(791)(e))},812:function(e,t){},814:function(e,t){},830:function(e,t){},832:function(e,t){},97:function(e,t,n){e.exports=n.p+"static/media/code.d7ef8adb.svg"},998:function(e,t){}},[[372,1,2]]]);
//# sourceMappingURL=main.8eff2fa7.chunk.js.map