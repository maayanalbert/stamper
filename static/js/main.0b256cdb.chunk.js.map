{"version":3,"sources":["parser.js","defaultSetup.js","globals.js","react-cristal/dist/es2015/styled.js","react-cristal/dist/es2015/domain.js","react-cristal/dist/es2015/utils.js","react-cristal/dist/es2015/stacker.js","copy.png","react-cristal/dist/es2015/cristal.js","react-cristal/dist/es2015/content.js","react-cristal/dist/es2015/header.js","FunctionStamp.js","ConsoleStamp.js","BlobStamp.js","View.js","App.js","index.js","close.png","theme-p5.js"],"names":["esprima","require","_","getPos","body","comment","i","length","item","range","addBlob","blobStamps","rawCode","lastBlobLine","isComment","type","code","value","substr","push","lastStamp","lineDiff","loc","start","line","end","addFn","fnStamps","name","id","args","params","argStart","argEnd","exports","jsToStamps","program","parseScript","tolerant","error","cloneDeep","comments","pos","splice","insertComments","stamps","fns","blobs","tempBlobStamps","blobStamp","fillStampArrays","getIdentifiers","fullDict","typeName","declared","undeclared","q","cur","shift","key","val","pVal","lvl","includes","Array","map","newVal","Object","keys","newKey","result","setup","isCss","isHtml","scale","console","getSetup","globals","defaultEditorWidth","defaultVarEditorHeight","defaultEditorHeight","defaultIframeWidth","iframeMargin","headerHeight","brHeight","margin","marginVariance","codeSize","globalVarCodeSize","fnTitleHeight","copyOffset","specialFns","draw","mousePressed","keyPressed","fnStampWidth","fnStampHeight","p5Lib","templateObject_1","templateObject_2","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","templateObject_10","templateObject_11","__makeTemplateObject","cooked","raw","defineProperty","minWidth","minHeight","padding","Wrapper","styled","div","_a","isActive","Header","isDraggable","BottomRightResizeHandle","BottomLeftResizeHandle","ContentWrapper","CloseIcon","img","Title","RightResizeHandle","LeftResizeHandle","BottomResizeHandle","isSmartPosition","position","defaultSize","width","height","getBoundaryCoords","coords","size","x","y","innerWidth","window","innerHeight","maxX","maxY","Math","min","max","getCordsFromInitialPosition","initialPosition","xCenter","yCenter","Infinity","Stacker","getNextIndex","index","maxIndex","navigator","userAgent","toLowerCase","indexOf","ipc","ipcRenderer","__extends","extendStatics","setPrototypeOf","__proto__","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","Cristal","_super","_this","apply","arguments","state","isDragging","isResizingX","isResizingY","isResizingXLeft","zIndex","downKey","isMoving","mouseIsDown","panDisabled","originalHeight","mouseWheelTimeout","space","opt","onWindowResize","_b","undefined","newX","newY","setState","saveWrapperRef","el","childrenElement","initialSize","props","rect","getBoundingClientRect","initialScale","setInitialPosition","cords","saveHeaderRef","headerElement","onKeyDown","e","keyCode","document","style","cursor","onKeyUp","onMouseDown","disablePan","status","pan","changeX","changeY","send","onStartMove","manualResize","widthDiff","heightDiff","zoom","newScale","mouseX","mouseY","manual","center","curDistX","curDistY","unScaledDistX","unScaledDistY","scaledDistX","scaledDistY","newOriginX","newOriginY","onWheel","clearTimeout","newTimeOut","setTimeout","onStoppedMove","bind","ctrlKey","preventDefault","deltaY","clientX","clientY","deltaX","onGlobalMouseDown","onMouseMove","isResizing","currentX","currentY","currentWidth","currentHeight","movementX","movementY","resizeCristal","_c","newWidth","newHeight","notifyResize","notifyStopMove","panning","notifyMove","notifyStartMove","notifyOptMove","onMove","onResize","resizeBlocked","onStopMove","onOptMove","notifyStartResize","onStartResize","notifyStopResize","onStopResize","onMouseUp","startFullResize","startFullLeftResize","startXResize","startXLeftResize","startYResize","renderResizeHandles","isResizable","React","bottom","left","changeZIndex","componentDidMount","addEventListener","passive","componentWillUnmount","removeEventListener","get","enumerable","configurable","title","onClose","closeHidden","onCopy","copyHidden","closeBtn","onClick","src","CloseImg","copyBtn","CopyImg","sideButtons","class","right","top","className","ref","children","render","transform","toString","transformOrigin","border","outline","HeaderComponent","header","ContentComponent","content","ReactDOM","wrapperName","defaultProps","Component","CristalContent","CristalHeader","FunctionStamp","starterCode","starterName","starterArgs","iframeDisabled","iframeWidth","starterIframeWidth","iframeHeight","starterIframeHeight","editorHeight","starterEditorHeight","editorWidth","starterEditorWidth","editorHidden","isSpecialFn","editorScrolling","errorLines","iframeCode","editsMade","cristalRef","createRef","editorRef","log","requestCompile","checkName","loadp5Lib","lineNum","newErrors","newErrorLines","getHTML","addErrorLine","current","editor","completers","getCompletions","session","prefix","callback","completions","forEach","w","meta","getScale","isScrolling","markers","startRow","endRow","theme","mode","onMouseOut","mouseOutCallback","setEditorScrolling","hidden","background","onChange","fontSize","showPrintMargin","wrapEnabled","showGutter","highlightActiveLine","onScroll","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","hasCssTransforms","Name","nameColor","placeholder","disabled","event","target","updateIframeDimensions","onResizeStart","onResizeStop","overflow","color","iframeElem","addNewIframeConsole","contentWindow","scrolling","srcdoc","sandbox","allow","isOpt","data","getData","updateName","updatePosition","setIframeDisabled","newName","addStamp","resize","headerColor","bgColor","onDelete","copyAndOpt","resizeEditor","renderFunctionName","renderEditor","renderIframe","ConsoleStamp","logs","consoleHeight","starterConsoleHeight","consoleWidth","starterConsoleWidth","lastFreq","logToConsole","message","lineno","newConsole","Hook","newLogs","method","checkLastLog","consoleContainer","getElementById","scrollTop","scrollHeight","lastLog","isEqual","renderedLogs","resizeConsole","onMouseOver","backgroundColor","variant","BlobStamp","exportableCode","getExportableCode","defaultSetup","View","counter","htmlID","cssID","consoleStamp","setupExists","htmlAsksForCss","htmlAsksForJs","lines","lineData","traversalGraph","counterMutex","Mutex","on","files","stamper","addConsoleStamp","addFnStamp","addBlobStamp","sendSaveData","ranges","offset","strRanges","JSON","stringify","runnableCode","codeData","getRunnableCode","htmlStamp","cssStamp","html","parser","cheerio","load","withStartIndices","jsBlockStr","cssBlockStr","runnableInnerCode","jsSelector","jsBlock","cssBlock","replaceWith","prepend","getIframeErrorCallBack","htmlStr","linesToJs","initialSetup","defaults","defaultStarterPos","setting","createConsoleStamp","acquire","release","elem","random","createFnStamp","refreshBlobStamps","deleteFrame","checkAllNames","createBlobStamp","getAllData","css","js","newSetupExists","values","newTraversalGraph","setLineData","oldTravarsalGraph","duplicateNamedStamps","checkForSetup","compileStamp","seen","stampRef","append","clearErrorsAndUpdate","stamp","nameDict","numLines","curLine","isFn","trim","getNumLines","borderColorInt","borderColor","borderWidth","singleLineData","from","to","orientation","declaredDict","undeclaredArr","setupID","identifiers","identifier","undeclaredItem","usingFn","declaringFn","setLines","addCodeBlock","join","fnStampRef","fullFun","refreshFnStamps","fnStampData","varStampData","s","consoleElem","elems","App","module","ace","define","isDark","cssClass","cssText","importCssString","m"],"mappings":"2FAAA,IAAIA,EAAUC,EAAQ,KAClBC,EAAID,EAAQ,KACJA,EAAQ,MA8EpB,SAASE,EAAOC,EAAMC,GACpB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,IAAIE,EAAOJ,EAAKE,GAChB,GAAIE,EAAKC,MAAM,GAAKJ,EAAQI,MAAM,IAAMJ,EAAQI,MAAM,GAAKD,EAAKC,MAAM,GACpE,OAAQ,EAEV,GAAIJ,EAAQI,MAAM,GAAKD,EAAKC,MAAM,GAChC,OAAOH,EAGX,OAAOF,EAAKG,OAGd,SAASG,EAAQC,EAAYH,EAAMI,EAASC,EAAcC,GACxD,GAAIA,EACF,GAAKN,EAAKO,KAAO,QACf,IAAIC,EAAO,OAASR,EAAKS,MAAQ,YAE7BD,EAAO,MAAQR,EAAKS,WAGtBD,EAAOJ,EAAQM,OAAOV,EAAKC,MAAM,GAAID,EAAKC,MAAM,GAAKD,EAAKC,MAAM,IAG5C,IAAtBE,EAAWJ,QACbI,EAAWQ,KAAK,CAAEH,KAAM,KAG1B,IAAII,EAAYT,EAAWA,EAAWJ,OAAS,GAE3Cc,EAAWb,EAAKc,IAAIC,MAAMC,KAAOX,EASrC,OARgB,GAAZQ,EACFD,EAAUJ,MAAQA,EACI,IAAbK,EACTD,EAAUJ,MAAQ,KAAOA,EAEzBL,EAAWQ,KAAK,CAAEH,KAAMA,IAGnBR,EAAKc,IAAIG,IAAID,KAGtB,SAASE,EAAMC,EAAUnB,EAAMI,GACjBJ,EAAKC,MAAjB,IACImB,EAAOpB,EAAKqB,GAAGD,KAEfE,EAAO,GACX,GAAItB,EAAKuB,OAAOxB,OAAS,EACvB,KAAIyB,EAAWxB,EAAKuB,OAAO,GAAGtB,MAAM,GAChCwB,EAASzB,EAAKuB,OAAOvB,EAAKuB,OAAOxB,OAAS,GAAGE,MAAM,GACnDqB,EAAOlB,EAAQM,OAAOc,EAAUC,EAASD,GAG/C,IAAIT,EAAQf,EAAKJ,KAAKK,MAAM,GAAK,EAC7BgB,EAAMjB,EAAKJ,KAAKK,MAAM,GAAK,EAC3BO,EAAOJ,EAAQM,OAAOK,EAAOE,EAAMF,GACvCI,EAASR,KAAK,CAAEH,KAAMA,EAAMY,KAAMA,EAAME,KAAMA,IAGhDI,EAAQC,WAtHR,SAAoBvB,GAClB,IACE,IAAIwB,EAAUpC,EAAQqC,YAAYzB,EAAS,CACzCH,OAAO,EACPJ,SAAS,EACTiC,UAAU,EACVhB,KAAK,IAER,MAAMiB,GACL,OAAO,KAGT,IAAInC,EAAOF,EAAEsC,UAAUJ,EAAQhC,OAoCjC,SAAwBA,EAAMqC,GAC5B,IAAK,IAAInC,EAAI,EAAGA,EAAImC,EAASlC,OAAQD,IAAK,CACxC,IAAID,EAAUoC,EAASnC,GACnBoC,EAAMvC,EAAOC,EAAMC,GAEnBqC,GAAO,GACTtC,EAAKuC,OAAOD,EAAK,EAAGrC,IAzCxBuC,CAAexC,EAAMgC,EAAQK,UAC7B,IAAII,EAAS,CAAEC,IAAK,GAAIC,MAAO,IAG/B,OAGF,SAAyB3C,EAAMO,EAAYgB,EAAUf,GAGnD,IAFA,IAAIC,EAAe,EACfmC,EAAiB,GACZ1C,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,IAAIE,EAAOJ,EAAKE,GACE,wBAAdE,EAAKO,KACPW,EAAMC,EAAUnB,EAAMI,GAEtBC,EADuB,UAAdL,EAAKO,MAAkC,SAAdP,EAAKO,KACxBL,EAAQsC,EAAgBxC,EAAMI,EAASC,GAAc,GAErDH,EACbsC,EACAxC,EACAI,EACAC,GACA,GAKN,IAASP,EAAI,EAAGA,EAAI0C,EAAezC,OAAQD,IAAK,CAC9C,IAAI2C,EAAYD,EAAe1C,GACT,IAAlB2C,EAAUjC,MACZL,EAAWQ,KAAK8B,IA5BpBC,CAAgB9C,EAAMyC,EAAOE,MAAOF,EAAOC,IAAKlC,GAEzCiC,GAmMTX,EAAQiB,eAtFR,SAAwBvC,GAGtB,IACE,IAAIwC,EAAWpD,EAAQqC,YAAYzB,GACnC,MAAO2B,IAUT,IALA,IAdqBc,EAcjBC,EAAW,GACXC,EAAa,GAEbC,EAAI,CAAC,CAAC,KAAMJ,EAAU,EAAG,OAEtBI,EAAEjD,OAAS,GAAG,CAEnB,IAAIkD,EAAMD,EAAEE,QAGRC,EAAMF,EAAI,GACVG,EAAMH,EAAI,GACVI,EAAOJ,EAAI,GACXK,EAAML,EAAI,GAKF,OAARG,IAIAD,GAAOC,GAAOC,GAGN,OAARF,GACa,eAAbC,EAAI7C,QAxCWsC,EAyCDQ,EAAK9C,MAxCTgD,SAAS,gBAAkBV,EAASU,SAAS,gBAyCvDH,EAAIhC,QAAQ0B,KAAa,IAGzBA,EAASM,EAAIhC,MAAQ,CAACiC,EAAK9C,KAAM+C,IAIjCH,GAAe,SAARA,GACLC,KAAON,KAAa,IACtBC,EAAWK,GAAOE,GAKlBF,aAAeI,MAEjBJ,EAAIK,KAAI,SAAAC,GAAM,OAAIV,EAAErC,KAAK,CAAC,KAAM+C,EAAQJ,EAAM,EAAGF,OACxCA,aAAeO,QAExBA,OAAOC,KAAKR,GAAKK,KAAI,SAAAI,GACnBb,EAAErC,KAAK,CAACkD,EAAQT,EAAIS,GAASP,EAAM,EAAGF,QAU5C,IAAIU,EAAS,CAAChB,SAAS,GAAIC,WAAW,IActC,OAbAY,OAAOC,KAAKd,GAAUW,KAAI,SAAArC,GACE,IAAtB0B,EAAS1B,GAAM,IAAY0B,EAAS1B,GAAM,GAAGmC,SAAS,eACxDO,EAAOhB,SAASnC,KAAKS,GACQ,IAAtB0B,EAAS1B,GAAM,IAAY0B,EAAS1B,GAAM,GAAGmC,SAAS,eAC/DO,EAAOhB,SAASnC,KAAKS,MAKvBuC,OAAOC,KAAKb,GAAYU,KAAI,SAAArC,GAC1B0C,EAAOf,WAAWpC,KAAKS,MAGlB0C,I,6DCrOT,IAmBIC,EAAQ,CACRzB,IAAK,CACH,CACElB,KAAM,QACNE,KAAM,GACNd,KAAM,0BAER,CAAEY,KAAM,OAAQE,KAAM,GAAId,KAAM,mBAChC,CAAEY,KAAM,YAAaE,KAAM,IAAKd,KA3B3B,iDA2B0CwD,OAAO,GACtD,CAAE5C,KAAM,aAAcE,KAAM,IAAKd,KAtB3B,+cAsB2CyD,QAAQ,IAE3D1B,MAAO,GACP2B,MAAO,EACPC,QAAQ,IAIZzC,EAAQ0C,SAAW,kBAAML,I,+KCpCZM,G,qBAAU,CACrBC,mBAAoB,IACpBC,uBAAwB,GACxBC,oBAAoB,IACpBC,mBAAoB,IACpBC,aAAc,EACdC,aAAc,GACdC,SAAU,GACVC,OAAQ,GACRC,eAAgB,IAChBC,SAAU,GACVC,kBAAkB,GAClBC,cAAe,GACfC,WAAY,GACZC,WAAW,CAACC,KAAK,GAAIrB,MAAM,GAAIsB,aAAa,QAASC,WAAW,IAChEC,aAAa,IACbC,cAAc,MAKHC,EAAQ,CACrB,QACA,SACA,eACA,iBACA,sBACA,sBACA,+EACA,4BACA,8BACA,SACA,SACA,UACA,oBACA,gBACA,iBACA,8BACA,iCACA,eACA,kCACA,uBACA,yBACA,2BACA,kCACA,yBACA,sCACA,kBACA,cACA,iBACA,YACA,oBACA,cACA,6DACA,SACA,cACA,UACA,eACA,kBACA,cACA,cACA,gCACA,QACA,wBACA,sBACA,0BACA,wBACA,yBACA,yBACA,+BACA,yBACA,cACA,iCACA,sBACA,wBACA,0BACA,4BACA,mBACA,QACA,YACA,mCACA,mBACA,SACA,4BACA,oBACA,kBACA,cACA,eACA,WACA,cACA,aACA,QACA,yBACA,cACA,iBACA,eACA,UACA,iBACA,0CACA,uBACA,WACA,eACA,sBACA,SACA,aACA,mBACA,kBACA,aACA,uBACA,eACA,SACA,kCACA,0CACA,WACA,uBACA,oBACA,sBACA,qBACA,sBACA,sBACA,uBACA,eACA,0CACA,sBACA,wBACA,gCACA,oBACA,QACA,QACA,QACA,uBACA,0BACA,QACA,WACA,QACA,WACA,gBACA,gBACA,gBACA,UACA,iBACA,mBACA,oBACA,kBACA,aACA,aACA,WACA,UACA,gBACA,cACA,aACA,SACA,mBACA,aACA,aACA,WACA,+BACA,6BACA,sCACA,wBACA,aACA,0BACA,cACA,QACA,mBACA,oBACA,gBACA,qBACA,gBACA,oBACA,eACA,8BACA,6BACA,YACA,WACA,mBACA,eACA,yBACA,iBACA,aACA,yBACA,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,UACA,oBACA,iBACA,2BACA,0BACA,+BACA,gCACA,4BACA,6BACA,sCACA,kCACA,WACA,eACA,eACA,eACA,WACA,gCACA,+BACA,gCACA,iBACA,iBACA,mBACA,kBACA,gBACA,gBACA,mBACA,gBACA,QACA,8BACA,WACA,qBACA,kBACA,iBACA,oBACA,2BACA,sBACA,4B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","file":"static/js/main.0b256cdb.chunk.js","sourcesContent":["var esprima = require(\"esprima\");\nvar _ = require(\"lodash\");\nconst log = require(\"electron-log\");\n\n\n\n\n// function printQ(q){\n//   var str = \"\"\n//   q.map(data => {\n//     if(data[0] === null){\n//       str +=  \"null\" + \",\"\n//     }else{\n//       str +=  data[0].toString() + \",\"\n//     }\n\n//   })\n// }\n\n//////////////////////////////////// jsToStamps\n\nfunction jsToStamps(rawCode) {\n  try{\n    var program = esprima.parseScript(rawCode, {\n      range: true,\n      comment: true,\n      tolerant: true,\n      loc: true\n    });\n  }catch(error){\n    return null\n  }\n\n  var body = _.cloneDeep(program.body);\n  insertComments(body, program.comments);\n  var stamps = { fns: [], blobs: [] };\n  fillStampArrays(body, stamps.blobs, stamps.fns, rawCode);\n\n  return stamps;\n}\n\nfunction fillStampArrays(body, blobStamps, fnStamps, rawCode) {\n  var lastBlobLine = 0;\n  var tempBlobStamps = [];\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.type === \"FunctionDeclaration\") {\n      addFn(fnStamps, item, rawCode);\n    } else if (item.type === \"Block\" || item.type === \"Line\") {\n      lastBlobLine = addBlob(tempBlobStamps, item, rawCode, lastBlobLine, true);\n    } else {\n      lastBlobLine = addBlob(\n        tempBlobStamps,\n        item,\n        rawCode,\n        lastBlobLine,\n        false\n      );\n    }\n  }\n\n  for (var i = 0; i < tempBlobStamps.length; i++) {\n    var blobStamp = tempBlobStamps[i];\n    if (blobStamp.code != \"\") {\n      blobStamps.push(blobStamp);\n    }\n  }\n}\n\nfunction insertComments(body, comments) {\n  for (var i = 0; i < comments.length; i++) {\n    var comment = comments[i];\n    var pos = getPos(body, comment);\n\n    if (pos >= 0) {\n      body.splice(pos, 0, comment);\n    }\n  }\n}\n\nfunction getPos(body, comment) {\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.range[0] < comment.range[0] && comment.range[1] < item.range[1]) {\n      return -1;\n    }\n    if (comment.range[1] < item.range[0]) {\n      return i;\n    }\n  }\n  return body.length;\n}\n\nfunction addBlob(blobStamps, item, rawCode, lastBlobLine, isComment) {\n  if (isComment) {\n    if ((item.type = \"Block\")) {\n      var code = \"/*\\n\" + item.value + \"\\n*/\";\n    } else {\n      var code = \"// \" + item.value;\n    }\n  } else {\n    var code = rawCode.substr(item.range[0], item.range[1] - item.range[0]);\n  }\n\n  if (blobStamps.length === 0) {\n    blobStamps.push({ code: \"\" });\n  }\n\n  var lastStamp = blobStamps[blobStamps.length - 1];\n\n  var lineDiff = item.loc.start.line - lastBlobLine;\n  if (lineDiff == 0) {\n    lastStamp.code += code;\n  } else if (lineDiff === 1) {\n    lastStamp.code += \"\\n\" + code;\n  } else {\n    blobStamps.push({ code: code });\n  }\n\n  return item.loc.end.line;\n}\n\nfunction addFn(fnStamps, item, rawCode) {\n  var range = item.range;\n  var name = item.id.name;\n\n  var args = \"\";\n  if (item.params.length > 1) {\n    var argStart = item.params[0].range[0];\n    var argEnd = item.params[item.params.length - 1].range[1];\n    var args = rawCode.substr(argStart, argEnd - argStart);\n  }\n\n  var start = item.body.range[0] + 1;\n  var end = item.body.range[1] - 1;\n  var code = rawCode.substr(start, end - start);\n  fnStamps.push({ code: code, name: name, args: args });\n}\n\nexports.jsToStamps = jsToStamps;\n\n//////////////////////////////////// getIdentifiers\n\nfunction isDeclaration(typeName){\n  return typeName.includes(\"Declaration\") || typeName.includes(\"Declarator\")\n}\n\nfunction getIdentifiers(rawCode) {\n\n\n  try {\n    var fullDict = esprima.parseScript(rawCode);\n  } catch (error) {\n    // throw error i guess\n  }\n\n\n  var declared = {};\n  var undeclared = {};\n\n  var q = [[null, fullDict, 0, null]];\n\n  while (q.length > 0) {\n\n    var cur = q.shift();\n  \n  \n    var key = cur[0];\n    var val = cur[1];\n    var pVal = cur[3];\n    var lvl = cur[2];\n\n\n\n\n    if (val === null) {\n      continue;\n    }\n\n    if (key && val && pVal) {\n\n      if (\n        key === \"id\" &&\n        val.type === \"Identifier\" &&\n        isDeclaration(pVal.type) &&\n        val.name in declared === false\n      ) {\n  \n        declared[val.name] = [pVal.type, lvl];\n      }\n    }\n   \n    if (key && key === \"name\") {\n      if (val in declared === false) {\n        undeclared[val] = lvl;\n      }\n    }\n\n\n    if (val instanceof Array) {\n\n      val.map(newVal => q.push([null, newVal, lvl + 1, val]));\n    } else if (val instanceof Object) {\n  \n      Object.keys(val).map(newKey => {\n        q.push([newKey, val[newKey], lvl + 1, val]);\n      });\n\n    } else {\n      // let it die\n    }\n    \n  }\n\n\n  var result = {declared:[], undeclared:[]}\n  Object.keys(declared).map(name => {\n    if (declared[name][1] === 3 && declared[name][0].includes(\"Declaration\") ) {\n      result.declared.push(name)\n    }else if(declared[name][1] === 5 && declared[name][0].includes(\"Declarator\")){\n    result.declared.push(name)\n    }\n  });\n\n  var relevantUndeclared = {}\n  Object.keys(undeclared).map(name => {\n    result.undeclared.push(name)\n  })\n\n  return result\n}\n\n\nexports.getIdentifiers = getIdentifiers;\n","var cssCode = `\nhtml, body {\n  margin: 0;\n  padding: 0;\n}`;\n\nvar htmlCode = `<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n  </head>\n  <body>\n    <script src='sketch.js'></script>\n  </body>\n</html>\n`;\n\nvar setup = {\n    fns: [\n      {\n        name: \"setup\",\n        args: \"\",\n        code: \"createCanvas(400, 400)\"\n      },\n      { name: \"draw\", args: \"\", code: \"background(220)\" },\n      { name: \"style.css\", args: \" \", code: cssCode, isCss: true },\n      { name: \"index.html\", args: \" \", code: htmlCode, isHtml: true }\n    ],\n    blobs: [],\n    scale: 1,\n    console:{}\n  }\n\n\nexports.getSetup = () => setup;\n","export const globals = {\n  defaultEditorWidth: 300,\n  defaultVarEditorHeight: 60,\n  defaultEditorHeight:200,\n  defaultIframeWidth: 225,\n  iframeMargin: 8,\n  headerHeight: 30,\n  brHeight: 25,\n  margin: 25,\n  marginVariance: 100,\n  codeSize: 12,\n  globalVarCodeSize:12,\n  fnTitleHeight: 90,\n  copyOffset: 17,\n  specialFns:{draw:\"\", setup:\"\", mousePressed:\"event\", keyPressed:\"\"},\n  fnStampWidth:557,\n  fnStampHeight:318\n};\n\n\n\nexport const p5Lib = [\n\"abs()\",\n\"acos()\",\n\"alpha(color)\",\n\"ambient(color)\",\n\"ambientLight(r,g,b)\",\n\"append(array,value)\",\n\"applyMatrix(n00,n01,n02,n03,n10,n11,n12,n13,n20,n21,n22,n23,n30,n31,n32,n33)\",\n\"arc(x,y,width,start,stop)\",\n\"arrayCopy(src,dst,(length))\",\n\"asin()\",\n\"atan()\",\n\"atan2()\",\n\"background(color)\",\n\"beginCamera()\",\n\"beginContour()\",\n\"beginRaw(renderer,filename)\",\n\"beginRecord(renderer,filename)\",\n\"beginShape()\",\n\"bezier(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"bezierDetail(detail)\",\n\"bezierPoint(a,b,c,d,t)\",\n\"bezierTangent(a,b,c,d,t)\",\n\"bezierVertex(x2,y2,x3,y3,x4,y4)\",\n\"binary(value,(digits))\",\n\"blend(sx,sy,sw,sh,dx,dy,dw,dh,mode)\",\n\"blendMode(mode)\",\n\"blue(color)\",\n\"boolean(value)\",\n\"box(size)\",\n\"brightness(color)\",\n\"byte(value)\",\n\"camera(eyeX,eyeY,eyeZ,centerX,centerY,centerZ,upX,upY,upZ)\",\n\"ceil()\",\n\"char(value)\",\n\"clear()\",\n\"color(color)\",\n\"colorMode(mode)\",\n\"concat(a,b)\",\n\"constrain()\",\n\"copy(sx,sy,sw,sh,dx,dy,dw,dh)\",\n\"cos()\",\n\"createFont(name,size)\",\n\"createGraphics(w,h)\",\n\"createImage(w,h,format)\",\n\"createInput(filename)\",\n\"createOutput(filename)\",\n\"createReader(filename)\",\n\"createShape(kind,parameters)\",\n\"createWriter(filename)\",\n\"cursor(img)\",\n\"curve(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"curveDetail(detail)\",\n\"curvePoint(a,b,c,d,t)\",\n\"curveTangent(a,b,c,d,t)\",\n\"curveTightness(tightness)\",\n\"curveVertex(x,y)\",\n\"day()\",\n\"degrees()\",\n\"directionalLight(r,g,b,nx,ny,nz)\",\n\"displayDensity()\",\n\"dist()\",\n\"ellipse(x,y,width,height)\",\n\"ellipseMode(mode)\",\n\"emissive(color)\",\n\"endCamera()\",\n\"endContour()\",\n\"endRaw()\",\n\"endRecord()\",\n\"endShape()\",\n\"exp()\",\n\"expand(list,(newSize))\",\n\"fill(color)\",\n\"filter(shader)\",\n\"float(value)\",\n\"floor()\",\n\"frameRate(fps)\",\n\"frustum(left,right,bottom,top,near,far)\",\n\"fullScreen(renderer)\",\n\"get(x,y)\",\n\"green(color)\",\n\"hex(value,(digits))\",\n\"hour()\",\n\"hue(color)\",\n\"image(image,x,y)\",\n\"imageMode(mode)\",\n\"int(value)\",\n\"join(list,seperator)\",\n\"launch(args)\",\n\"lerp()\",\n\"lerpColor(color1,color2,amount)\",\n\"lightFalloff(constant,linear,quadratic)\",\n\"lights()\",\n\"lightSpecular(r,g,b)\",\n\"line(x1,y1,x2,y2)\",\n\"loadBytes(filename)\",\n\"loadFont(filename)\",\n\"loadImage(filename)\",\n\"loadJSONArray(file)\",\n\"loadJSONObject(file)\",\n\"loadPixels()\",\n\"loadShader(fragFilename,(vertFilename))\",\n\"loadShape(filename)\",\n\"loadStrings(filename)\",\n\"loadTable(filename,(options))\",\n\"loadXML(filename)\",\n\"log()\",\n\"mag()\",\n\"map()\",\n\"match(string,regexp)\",\n\"matchAll(string,regexp)\",\n\"max()\",\n\"millis()\",\n\"min()\",\n\"minute()\",\n\"modelX(x,y,z)\",\n\"modelY(x,y,z)\",\n\"modelZ(x,y,z)\",\n\"month()\",\n\"nf(num,digits)\",\n\"nfc(num,(right))\",\n\"nfp(num,(digits))\",\n\"nfs(num,digits)\",\n\"noCursor()\",\n\"noCursor()\",\n\"noFill()\",\n\"noise()\",\n\"noiseDetail()\",\n\"noiseSeed()\",\n\"noLights()\",\n\"norm()\",\n\"normal(nx,ny,nz)\",\n\"noSmooth()\",\n\"noStroke()\",\n\"noTint()\",\n\"ortho(left,right,bottom,top)\",\n\"parseXML(string,(options))\",\n\"perspective(fovy,aspect,zNear,zFar)\",\n\"pixelDensity(density)\",\n\"point(x,y)\",\n\"pointLight(r,g,b,x,y,z)\",\n\"popMatrix()\",\n\"pow()\",\n\"print(variables)\",\n\"printArray(array)\",\n\"printCamera()\",\n\"println(variables)\",\n\"printMatrix()\",\n\"printProjection()\",\n\"pushMatrix()\",\n\"quad(x,y,x2,y2,x3,y3,x4,y4)\",\n\"quadraticVertex(x,y,x2,y2)\",\n\"radians()\",\n\"random()\",\n\"randomGaussian()\",\n\"randomSeed()\",\n\"rect(x,y,width,height)\",\n\"rectMode(mode)\",\n\"red(color)\",\n\"requestImage(filename)\",\n\"resetMatrix()\",\n\"resetShader()\",\n\"reverse(list)\",\n\"rotate(angle)\",\n\"rotateX(angle)\",\n\"rotateY(angle)\",\n\"rotateZ(angle)\",\n\"round()\",\n\"saturation(color)\",\n\"save(filename)\",\n\"saveBytes(filename,data)\",\n\"saveFrame(filename####)\",\n\"saveJSONArray(json,filename)\",\n\"saveJSONObject(json,filename)\",\n\"saveStream(target,source)\",\n\"saveStrings(filename,data)\",\n\"saveTable(table,filename,(options))\",\n\"saveXML(xml,filename,(options))\",\n\"scale(s)\",\n\"screenX(x,y)\",\n\"screenY(x,y)\",\n\"screenZ(x,y)\",\n\"second()\",\n\"selectFolder(prompt,callback)\",\n\"selectInput(prompt,callback)\",\n\"selectOutput(prompt,callback)\",\n\"set(x,y,color)\",\n\"shader(shader)\",\n\"shape(shape,x,y)\",\n\"shapeMode(mode)\",\n\"shearX(angle)\",\n\"shearY(angle)\",\n\"shininess(shine)\",\n\"shorten(list)\",\n\"sin()\",\n\"size(width,height,renderer)\",\n\"smooth()\",\n\"sort(list,(count))\",\n\"specular(color)\",\n\"sphere(radius)\",\n\"sphereDetail(res)\",\n\"splice(list,value,index)\",\n\"split(value,digits)\",\n\"splitTokes(value,(delim))\",\n\"spotLight(r,g,b,x,y,z,nx,ny,nz,angle,concentration)\",\n\"sq()\",\n\"sqrt()\",\n\"string(value)\",\n\"stroke(color)\",\n\"strokeCap(cap)\",\n\"strokeJoin(join)\",\n\"strokeWeight(weight)\",\n\"subset(list,start,(count))\",\n\"tan()\",\n\"text(string,x,y)\",\n\"textAlign(alignX,(alignY))\",\n\"textAscent()\",\n\"textDescent()\",\n\"textFont(font,(size))\",\n\"textLeading(leading)\",\n\"textMode(mode)\",\n\"textSize(size)\",\n\"texture(image)\",\n\"textureMode(mode)\",\n\"textureWrap(wrap)\",\n\"textWidth(string)\",\n\"tint(color)\",\n\"translate(x,y)\",\n\"triangle(x1,y1,x2,y2,x3,y3)\",\n\"trim(string)\",\n\"unbinary(value)\",\n\"unhex(value)\",\n\"updatePixels()\",\n\"vertex(x,y)\",\n\"year()\",\n\"HALF_PI\",\n\"PI\",\n\"QUARTER_PI\",\n\"TAU\",\n\"TWO_PI\",\n\"frameCount\",\n\"deltaTime\",\n\"focused\",\n\"displayWidth\",\n\"displayHeight\",\n\"windowWidth\",\n\"windowHeight\",\n\"width\",\n\"height\",\n\"disableFriendlyErrors\",\n\"p5.Element\",\n\"VIDEO\",\n\"AUDIO\",\n\"p5.MediaElement\",\n\"p5.File\",\n\"p5.Graphics\",\n\"p5.TypedDict\",\n\"p5.NumberDict\",\n\"deviceOrientation\",\n\"accelerationX\",\n\"accelerationY\",\n\"accelerationZ\",\n\"pAccelerationX\",\n\"pAccelerationY\",\n\"pAccelerationZ\",\n\"rotationX\",\n\"rotationY\",\n\"rotationZ\",\n\"pRotationX\",\n\"pRotationY\",\n\"pRotationZ\",\n\"turnAxis\",\n\"keyIsPressed\",\n\"key\",\n\"keyCode\",\n\"movedX\",\n\"movedY\",\n\"mouseX\",\n\"mouseY\",\n\"pmouseX\",\n\"pmouseY\",\n\"winMouseX\",\n\"winMouseY\",\n\"pwinMouseX\",\n\"pwinMouseY\",\n\"mouseButton\",\n\"mouseIsPressed\",\n\"DEGREES\",\n\"RADIANS\"\n];\n\nexport default function DefaultExportPlaceholder() {\n  return null;\n}\n","import styled from 'styled-components';\n\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n\nexport var minWidth = 60;\nexport var minHeight = 60;\nexport var padding = 10;\nvar wrapperStyles = function (_a) {\n    var isActive = _a.isActive;\n    if (isActive) {\n        return \"\\n      \\n    \";\n    }\n    return \"opacity: 1;\";\n};\nexport var Wrapper = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"], [\"\\n  \", \"\\n  position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"])), wrapperStyles, minWidth, minHeight);\nexport var Header = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  height: 30px;\\n  border-bottom: 1px solid rgb(215,215,215);\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"], [\"\\n  height: 30px;\\n  border-bottom: 1px solid #ccc;\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"])), function (_a) {\n    var isDraggable = _a.isDraggable;\n    return isDraggable ? \"-webkit-grab\" : \"default\";\n}, padding);\nexport var BottomRightResizeHandle = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var BottomLeftResizeHandle = styled.div(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  cursor: nesw-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var ContentWrapper = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\" \\n  padding: \", \"px;\\n\"], [\"\\n  padding: \", \"px;\\n\"])), padding);\n\nexport var CloseIcon = styled.img(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 15px;\\n  height: 15px;\\n margin-left:12px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 60px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 30px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\nexport var CopyIcon = styled.img(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 17px;\\n  height: 17px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #FF0000;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\n\nexport var Title = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"], [\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"])));\nexport var RightResizeHandle = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var LeftResizeHandle = styled.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  left: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var BottomResizeHandle = styled.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"], [\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"])));\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8,templateObject_9, templateObject_10, templateObject_11;\n","export var isSmartPosition = function (position) {\n    return typeof position === 'string';\n};\n","import { minHeight, minWidth, padding } from \"./styled\";\nvar defaultSize = { width: minWidth, height: minHeight };\nexport var getBoundaryCoords = function (coords, size) {\n    if (size === void 0) { size = defaultSize; }\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var maxX = innerWidth - (width || 0) - padding;\n    var maxY = innerHeight - (height || 0) - padding;\n    return {\n        x: Math.min(Math.max(x, padding), maxX),\n        y: Math.min(Math.max(y, padding), maxY)\n    };\n};\nexport var getCordsFromInitialPosition = function (initialPosition, size) {\n    if (size === void 0) { size = defaultSize; }\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var width = size.width, height = size.height;\n    var xCenter = (innerWidth / 2) - (width / 2);\n    var yCenter = (innerHeight / 2) - (height / 2);\n    switch (initialPosition) {\n        case 'top-left':\n        default:\n            return { x: 10, y: 10 };\n        case 'top-center':\n            return { x: xCenter, y: 10 };\n        case 'bottom-center':\n            return { x: xCenter, y: Infinity };\n        case 'top-right':\n            return { x: Infinity, y: 10 };\n        case 'bottom-left':\n            return { x: 10, y: Infinity };\n        case 'bottom-right':\n            return { x: Infinity, y: Infinity };\n        case 'center':\n            return { x: xCenter, y: yCenter };\n    }\n};\n\nexport var isInView = function(coords, size){\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var left = x, right = x + width, top = y, bottom = y + height;\n\n    var result = left < innerWidth && right > 0 && bottom > 0 && top < innerHeight\n    return result\n}\n","var Stacker = (function () {\n    function Stacker() {\n    }\n    Stacker.getNextIndex = function (index) {\n        if (index === Stacker.maxIndex) {\n            return index;\n        }\n        Stacker.maxIndex++;\n        return Stacker.maxIndex;\n    };\n    Stacker.maxIndex = 100;\n    return Stacker;\n}());\nexport { Stacker };\n","export default __webpack_public_path__ + \"static/media/copy.abfe978c.png\";","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Component } from \"react\";\nimport {\n  Wrapper,\n  Header,\n  BottomRightResizeHandle,\n  BottomLeftResizeHandle,\n  RightResizeHandle,\n  BottomResizeHandle,\n  LeftResizeHandle,\n  ContentWrapper,\n  padding,\n  CloseIcon,\n  Title,\n  CopyIcon, minWidth, minHeight\n} from \"./styled\";\nimport { isSmartPosition } from \"./domain\";\nimport {\n  getCordsFromInitialPosition,\n  getBoundaryCoords,\n  isInView\n} from \"./utils\";\nimport { Stacker } from \"./stacker\";\nimport CopyImg from \"./../../../copy.png\"; // @cameron update this to material icon\nimport CloseImg from \"./../../../close.png\"; // @cameron update this to material icon\nimport styled from \"styled-components\"; \n\n\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif(userAgent.indexOf(' electron/') > -1){\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n}else{\n  var ipc = false\n}\n\n\nvar __extends =\n  (this && this.__extends) ||\n  (function() {\n    var extendStatics =\n      Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array &&\n        function(d, b) {\n          d.__proto__ = b;\n        }) ||\n      function(d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n    return function(d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype =\n        b === null\n          ? Object.create(b)\n          : ((__.prototype = b.prototype), new __());\n    };\n  })();\n\nvar Cristal = (function(_super) {\n  __extends(Cristal, _super);\n  function Cristal() {\n    var _this = (_super !== null && _super.apply(this, arguments)) || this;\n    _this.state = {\n      x: padding,\n      y: padding,\n      isDragging: false,\n      isResizingX: false,\n      isResizingY: false,\n      isResizingXLeft:false,\n      zIndex: Stacker.getNextIndex(),\n      downKey: -1,\n      isMoving: false,\n      mouseIsDown: false,\n      scale: 1,\n      panDisabled:false,\n      originalHeight:null,\n      mouseWheelTimeout:null\n    };\n\n    _this.space = 32;\n    _this.opt = 18;\n    _this.onWindowResize = function() {\n      var _a = _this.state,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n      var size = width && height ? { width: width, height: height } : undefined;\n      var _b = getBoundaryCoords({ x: x, y: y }, size),\n        newX = _b.x,\n        newY = _b.y;\n      _this.setState({\n        x: newX,\n        y: newY\n      });\n    };\n    _this.saveWrapperRef = function(el) {\n\n\n      _this.childrenElement = el;\n      if (!_this.childrenElement) return;\n      var initialSize = _this.props.initialSize;\n      var width, height;\n      if (initialSize) {\n        width = initialSize.width;\n        height = initialSize.height;\n      } else {\n        var rect = _this.childrenElement.getBoundingClientRect();\n            \n\n        width = rect.width;\n\n        height = rect.height;\n      }\n      if (_this.props.initialScale) {\n\n        _this.setState({ scale: _this.props.initialScale });\n      }\n      _this.setState({ width: width, height: height,originalHeight:height });\n      _this.setInitialPosition({ width: width, height: height});\n    };\n    _this.setInitialPosition = function(size) {\n      var initialPosition = _this.props.initialPosition;\n\n      if (!initialPosition) return;\n      var cords;\n      if (isSmartPosition(initialPosition)) {\n        cords = getCordsFromInitialPosition(initialPosition, size);\n      } else {\n        cords = initialPosition;\n      }\n      // var _a = getBoundaryCoords(cords, size),\n      //   x = _a.x,\n      //   y = _a.y;\n      _this.setState({ x: cords.x, y: cords.y });\n    };\n    _this.saveHeaderRef = function(el) {\n      _this.headerElement = el;\n    };\n\n    _this.onKeyDown = function(e) {\n      _this.setState({ downKey: e.keyCode });\n      if (e.keyCode === _this.space) {\n        document.body.style.cursor = \"grab\";\n      }\n    };\n    _this.onKeyUp = function(e) {\n      _this.setState({ downKey: -1 });\n      document.body.style.cursor = \"auto\";\n    };\n\n    _this.onMouseDown = function() {\n\n      var isDraggable = _this.props.isDraggable;\n      if (!isDraggable) return;\n\n      _this.setState({\n        isDragging: true\n      });\n    };\n\n    _this.disablePan = function(status){\n        _this.setState({panDisabled:status})\n    }\n\n    _this.pan = function(changeX, changeY) {\n\n\n      ipc && ipc.send(\"edited\")\n    if(_this.state.panDisabled){\n        return\n    }\n      var _a = _this.state,\n        currentX = _a.x,\n        currentY = _a.y;\n      var newX = currentX + changeX;\n      var newY = currentY + changeY;\n      _this.setState({ x: newX, y: newY }, () => _this.onStartMove(true));\n    };\n\n    _this.manualResize = function(widthDiff, heightDiff){\n\n        var width = _this.state.width, height = _this.state.height, originalHeight = _this.state.originalHeight\n\n        _this.setState({width:width+widthDiff})\n    }\n\n    _this.zoom = function(newScale, mouseX, mouseY, manual = false, center = false) {\n      ipc && ipc.send(\"edited\")\n\n      var scale = _this.state.scale,\n        x = _this.state.x,\n        y = _this.state.y,\n        width = _this.state.width,\n        height = _this.state.height;\n\n      if (newScale < 0.1) {\n        return;\n      }\n\n\n\n      var curDistX = mouseX - x,\n        curDistY = mouseY - y;\n\n      var unScaledDistX = curDistX / scale,\n        unScaledDistY = curDistY / scale;\n\n      var scaledDistX = unScaledDistX * newScale,\n        scaledDistY = unScaledDistY * newScale;\n\n\n      if (center) {\n        var newOriginX = window.innerWidth / 2,\n          newOriginY = window.innerHeight / 2;\n      } else {\n        var newOriginX = mouseX,\n          newOriginY = mouseY;\n      }\n      var newX = newOriginX - scaledDistX,\n        newY = newOriginY - scaledDistY;\n\n    if(manual){\n      _this.setState({ scale: newScale }, () =>\n        _this.setState({ x: newX, y: newY })\n      );        \n  }else{\n      _this.setState({ scale: newScale }, () =>\n        _this.setState({ x: newX, y: newY }, () => this.onStartMove(true))\n      );\n  }\n\n    };\n\n    _this.onWheel = function(e) {\n\n\n      if(_this.state.mouseWheelTimeout){\n        clearTimeout(_this.state.mouseWheelTimeout)\n      }\n      var newTimeOut = setTimeout(_this.onStoppedMove.bind(_this), 250)\n      _this.setState({mouseWheelTimeout:newTimeOut})\n      if (e.ctrlKey) {\n  \n        e.preventDefault();\n        _this.zoom(_this.state.scale - e.deltaY * 0.01, e.clientX, e.clientY);\n      } else {\n\n        _this.pan(-e.deltaX, -e.deltaY);\n      }\n    };\n    _this.onGlobalMouseDown = function(e) {\n      _this.setState({ mouseIsDown: true });\n    };\n    _this.onMouseMove = function(e) {\n           \n      var isResizing = _this.isResizing;\n\n\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX,\n        movementY = e.movementY;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX;\n      var newY = currentY + movementY;\n\n      if (_this.state.downKey === _this.space && _this.state.mouseIsDown) {\n        _this.pan(e.movementX, e.movementY);\n\n        return;\n      } else if (isDragging) {\n        ipc && ipc.send(\"edited\")\n        var size =\n          currentWidth && currentHeight\n            ? { width: currentWidth, height: currentHeight }\n            : undefined;\n        var _b = getBoundaryCoords({ x: newX, y: newY }, size),\n          x = _b.x,\n          y = _b.y;\n        _this.setState({ x: newX, y: newY }, _this.onStartMove);\n        return;\n      } else if(isResizing) {\n        ipc && ipc.send(\"edited\")\n          _this.resizeCristal(e);\n      }\n    };\n\n    _this.resizeCristal = function(e) {\n      var isResizing = _this.isResizing;\n      var scale = _this.state.scale\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX/scale,\n        movementY = e.movementY/scale;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX;\n      var newY = currentY + movementY;\n      var _c = _this.state,\n        isResizingX = _c.isResizingX,\n        isResizingY = _c.isResizingY,\n        isResizingXLeft = _c.isResizingXLeft;\n\n      var height = currentHeight\n      var width = currentWidth\n      var x = currentX\n\n\n      if (isResizingX) {\n   \n        var newWidth = (currentWidth || 0) + movementX;\n        var width = Math.max(newWidth, minWidth);\n\n      }\n      if(isResizingXLeft) {\n      \n        var newWidth = (currentWidth || 0) - movementX;\n        var width = Math.max(newWidth, minWidth);\n        var x = currentX + e.movementX\n    \n      }\n      if (isResizingY) {\n        var newHeight = (currentHeight || 0) + movementY;\n        var height = Math.max(newHeight, minHeight);\n      \n      }\n\n\n      _this.notifyResize(width, height, x)\n\n    };\n\n\n\n    _this.onStoppedMove = function() {\n      if (this.state.isMoving) {\n        _this.notifyStopMove();\n      }\n\n      _this.setState({ isMoving: false });\n    };\n\n    _this.onStartMove = function(panning = false) {\n     \n      _this.notifyMove();\n      if (_this.state.isMoving === false) {\n\n        _this.notifyStartMove();\n        if (_this.state.downKey === _this.opt && panning === false) {\n          _this.notifyOptMove();\n        }\n      }\n      _this.setState({ isMoving: true });\n    };\n    _this.notifyMove = function() {\n      var onMove = _this.props.onMove;\n      onMove && onMove(_this.state);\n    };\n    _this.notifyResize = function(newWidth, newHeight, newX) {\n\n      var onResize = _this.props.onResize;\n      var heightDiff = newHeight - _this.state.height\n      var widthDiff = newWidth - _this.state.width\n      var resizeBlocked = false\n      if (onResize) {\n        var resizeBlocked = onResize(widthDiff, heightDiff);\n      }\n      if(!resizeBlocked){\n        _this.setState({height:newHeight, width:newWidth, x:newX})\n      }\n    };\n    \n\n    _this.notifyStartMove = function() {\n      var onStartMove = _this.props.onStartMove;\n      onStartMove && onStartMove(_this.state);\n    };\n    _this.notifyStopMove = function() {\n      var onStopMove = _this.props.onStopMove;\n      onStopMove && onStopMove(_this.state);\n    };\n    _this.notifyOptMove = function() {\n      var onOptMove = _this.props.onOptMove;\n      onOptMove && onOptMove(_this.state);\n    };\n    _this.notifyStartResize = function() {\n\n      var onStartResize = _this.props.onStartResize;\n      onStartResize && onStartResize(_this.state);\n    };\n    _this.notifyStopResize = function() {\n      var onStopResize = _this.props.onStopResize;\n      onStopResize && onStopResize(_this.state);\n    };\n\n    _this.onMouseUp = function() {\n      _this.onStoppedMove();\n      if(_this.state.isResizingY || _this.state.isResizingX ||_this.state.isResizingXLeft){\n        _this.notifyStopResize();\n      }\n      _this.setState({\n        isDragging: false,\n        isResizingX: false,\n        isResizingXLeft:false,\n        isResizingY: false,\n        mouseIsDown: false\n      });\n    };\n    _this.startFullResize = function() {\n      _this.notifyStartResize()\n      _this.setState({\n        isResizingX: true,\n        isResizingY: true\n      });\n    };\n    _this.startFullLeftResize = function() {\n      _this.notifyStartResize()\n      _this.setState({\n        isResizingXLeft: true,\n        isResizingY: true\n      });\n    };\n    _this.startXResize = function() {\n        _this.notifyStartResize()\n      return _this.setState({ isResizingX: true });\n    };\n    _this.startXLeftResize = function() {\n        _this.notifyStartResize()\n      return _this.setState({ isResizingXLeft: true });\n    };\n    _this.startYResize = function() {\n\n        _this.notifyStartResize()\n      return _this.setState({ isResizingY: true });\n    };\n    _this.renderResizeHandles = function() {\n      var isResizable = _this.props.isResizable;\n      if (!isResizable) return;\n\n      var scale = _this.state.scale\n      var height = _this.state.height\n      var width = _this.state.width\n      return [\n        React.createElement(RightResizeHandle, {\n          key: \"right-resize\",\n          onMouseDown: _this.startXResize, style:{ width:20/scale, bottom:20/scale, height:height - 30- 20/scale}\n        }),\n        React.createElement(LeftResizeHandle, {\n          key: \"left-resize\",\n          onMouseDown: _this.startXLeftResize, style:{ width:20/scale, bottom:20/scale, height:height - 30- 20/scale},\n        }),\n        React.createElement(BottomRightResizeHandle, {\n          key: \"bottom-right-resize\",\n          onMouseDown: _this.startFullResize, style:{ width:20/scale, height:20/scale}\n        }),\n        React.createElement(BottomLeftResizeHandle, {\n          key: \"bottom-left-resize\",\n          onMouseDown: _this.startFullLeftResize, style:{ width:20/scale, height:20/scale}\n        }),\n        React.createElement(BottomResizeHandle, {\n          key: \"bottom-resize\",\n          onMouseDown: _this.startYResize, style:{height:20/scale, left:20/scale, width:width - 2*20/scale}\n        })\n      ];\n    };\n\n    _this.changeZIndex = function() {\n      var zIndex = _this.state.zIndex;\n      _this.setState({\n        zIndex: Stacker.getNextIndex(zIndex)\n      });\n    };\n    return _this;\n  }\n  Cristal.prototype.componentDidMount = function() {\n    document.addEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    document.addEventListener(\"wheel\", this.onWheel, { passive: false });\n\n    // window.addEventListener('resize', this.onWindowResize);\n  };\n  Cristal.prototype.componentWillUnmount = function() {\n    document.removeEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    document.removeEventListener(\"wheel\", this.onWheel);\n    // window.removeEventListener('resize', this.onWindowResize);\n  };\n  Object.defineProperty(Cristal.prototype, \"isResizing\", {\n    get: function() {\n      var _a = this.state,\n        isResizingX = _a.isResizingX,\n        isResizingY = _a.isResizingY,\n        isResizingXLeft = _a.isResizingXLeft;\n      return isResizingX || isResizingY || isResizingXLeft;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Cristal.prototype, \"header\", {\n    get: function() {\n      var _a = this.props,\n        title = _a.title,\n        isDraggable = _a.isDraggable,\n        onClose = _a.onClose,\n        closeHidden = _a.closeHidden,\n        onCopy = _a.onCopy,\n        copyHidden = _a.copyHidden;\n\n      var closeBtn = React.createElement(CloseIcon, {\n        onClick: onClose,\n        src: CloseImg\n      });\n      if (closeHidden) {\n        closeBtn = null;\n      }\n\n      var copyBtn = React.createElement(CloseIcon, {\n        onClick: onCopy,\n        src: CopyImg\n      });\n\n      if (copyHidden) {\n        copyBtn = null;\n      }\n\n      var sideButtons = (\n        <div\n          class=\"row\"\n          style={{ position: \"absolute\", cursor: \"auto\", right: 22, top: 8 }}\n        >\n          {copyBtn}\n          {closeBtn}\n        </div>\n      );\n\n      return React.createElement(\n        Header,\n        {\n          className: \"bg-white rounded-top\",\n          isDraggable: isDraggable,\n          ref: this.saveHeaderRef,\n          onMouseDown: this.onMouseDown\n        },\n        React.createElement(Title, null, title),\n        sideButtons\n      );\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Cristal.prototype, \"content\", {\n    get: function() {\n      var children = this.props.children;\n      return React.createElement(ContentWrapper, {}, children);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Cristal.prototype.render = function() {\n    var isResizing = this.isResizing;\n    var _a = this.state,\n      x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height,\n      isDragging = _a.isDragging,\n      zIndex = _a.zIndex,\n      scale = _a.scale;\n    var className = this.props.className;\n    var isActive = isDragging || isResizing;\n    var style = {\n      left: x,\n      top: y,\n      width: width,\n      height: height,\n      zIndex: zIndex,\n      transform: \"scale(\" + scale.toString() + \")\",\n      transformOrigin:\"top left\",\n      border: this.props.border,\n      outline: this.props.outline\n    };\n\n    var HeaderComponent = this.header;\n    var ContentComponent = this.content;\n\n\n    return ReactDOM.createPortal(\n      React.createElement(\n        Wrapper,\n        {\n          style: style,\n          ref: this.saveWrapperRef,\n          isActive: isActive,\n          className: className + \" rounded \" + this.props.wrapperName,\n          onMouseDown: this.changeZIndex,\n        },\n        <div>{HeaderComponent}</div>,\n        ContentComponent,\n        this.renderResizeHandles()\n      ),\n      document.body\n    );\n  };\n  Cristal.defaultProps = {\n    children: null,\n    isResizable: true,\n    isDraggable: true\n  };\n  return Cristal;\n})(Component);\nexport { Cristal };\n","import * as React from 'react';\nimport { Component } from 'react';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalContent = (function (_super) {\n    __extends(CristalContent, _super);\n    function CristalContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalContent.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom Content\");\n    };\n    return CristalContent;\n}(Component));\nexport { CristalContent };\n","import * as React from 'react';\nimport { Component } from 'react';\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalHeader = (function (_super) {\n    __extends(CristalHeader, _super);\n    function CristalHeader() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalHeader.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom header\");\n    };\n    return CristalHeader;\n}(Component));\nexport { CristalHeader };\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport Copy from \"./copy.png\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\n\nimport \"./theme-p5.js\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\nimport { Resizable, ResizableBox } from \"react-resizable\";\n\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif(userAgent.indexOf(' electron/') > -1){\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n}else{\n  var ipc = false\n}\n\n\n\nexport default class FunctionStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      name: this.props.starterName,\n      args: this.props.starterArgs,\n      iframeDisabled: this.props.iframeDisabled,\n      iframeWidth: this.props.starterIframeWidth,\n      iframeHeight: this.props.starterIframeHeight,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      editorHidden: false,\n      isSpecialFn: false,\n      editorScrolling: false,\n      errorLines:this.props.errorLines,\n      iframeCode:\"\",\n      editsMade:true\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n  }\n\n  // updateFuns(fromComponentDidMount) {\n  //   var name = this.state.name;\n\n  //   var fullFun =\n  //     \"function \" +\n  //     name +\n  //     \"(\" +\n  //     this.state.args +\n  //     \"){\\n\" +\n  //     this.state.code +\n  //     \"\\n}\";\n\n  //   var drawableFun = name + \"()\";\n\n  //   var isSpecialFn = name in globals.specialFns;\n  //   if (this.props.isHtml || this.props.isCss) {\n  //     fullFun = \"\";\n  //     drawableFun = \"\";\n  //   }\n\n  //   var runnableInnerCode = this.state.code\n\n  //   var editsMade = true\n  //   if((fullFun === this.state.fullFun \n  //     && drawableFun === this.state.drawableFun \n  //     && runnableInnerCode === this.state.runnableInnerCode)){\n  //     editsMade = false\n  //   }\n\n  //   this.setState(\n  //     {\n  //       fullFun: fullFun,\n  //       drawableFun: drawableFun,\n  //       runnableInnerCode: runnableInnerCode\n  //     },\n  //     () => this.props.compileCode(editsMade)\n  //   );\n  // }\n\n  checkName() {\n    var isSpecialFn = this.state.name in globals.specialFns;\n    this.setState({ isSpecialFn: isSpecialFn });\n  }\n\n  componentDidUnmount(){\n\n  }\n\n  componentDidMount() {\n    console.log(\"mounting\")\n    this.setState({errorLines:{}}, () => this.props.requestCompile(this.props.id))\n    this.checkName();\n    this.loadp5Lib();\n  }\n\n  addErrorLine(lineNum){\n    var errorLines = this.state.errorLines\n    errorLines[lineNum] = \"\"\n    this.setState({errorLines:errorLines})\n\n  }\n\n  clearErrorsAndUpdate(newErrors=[]){\n\n    var newErrorLines = this.state.errorLines\n      var newErrorLines = {}\n\n    this.setState({errorLines:newErrorLines}, () => {\n      this.setState({iframeCode:this.props.getHTML(this.props.id)})\n      for(var i = 0; i < newErrors.length; i++){\n        this.addErrorLine(newErrors[i])\n      }\n    })\n  }\n\n  loadp5Lib() {\n    this.editorRef.current.editor.completers.push({\n      getCompletions: function(editor, session, pos, prefix, callback) {\n        var completions = [];\n        p5Lib.forEach(function(w) {\n          completions.push({\n            value: w,\n            meta: \"p5.js\"\n          });\n        });\n        callback(null, completions);\n      }\n    });\n  }\n\n  updateIframeDimensions(\n    movementX = 0,\n    movementY = 0\n  ) {\n\n\n    ipc && ipc.send(\"edited\");\n    var scale = this.props.getScale()\n\n\n    var width = this.state.iframeWidth + movementX/scale;\n    var height = this.state.iframeHeight + movementY/scale;\n    if (width < 30) {\n      movementX = 0;\n      width = 30;\n    }\n    if (height < 30) {\n      movementY = 0;\n      height = 30;\n    }\n\n\n    this.setState({ iframeWidth: width, iframeHeight: height });\n    this.cristalRef.current.manualResize(movementX/scale, movementY/scale);\n  }\n\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n  renderEditor() {\n    var markers = []\n    for(var i in this.state.errorLines){\n      if(i != 0){\n        markers.push({startRow:i-1, endRow:i, type:\"background\", className:\"bg-warningOrange marker\"});\n      }\n    }\n      \n    var theme = \"p5\"\n    var mode = \"javascript\"\n    if(this.props.isHtml || this.props.isCss){\n      theme = \"solarized_light\"\n    }\n\n    if(this.props.isCss){\n      mode = \"css\"\n    }else if(this.props.isHtml){\n      mode = \"html\"\n    }\n\n    return (\n      <div\n        onMouseOut={() => {\n          this.mouseOutCallback()\n          this.setEditorScrolling(false)\n        }\n        }\n        hidden={this.state.editorHidden}\n      >\n        <br />\n        <AceEditor\n        markers={markers}\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n            background:\"transparent\"\n\n          }}\n          mode={mode}\n          theme={theme}\n          onChange={value => {\n            this.setState({ code: value, editsMade:true });\n            ipc && ipc.send(\"edited\");\n          }}\n          name= {\"id\" + this.props.id.toString()}\n          fontSize={globals.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          onScroll={() => this.setEditorScrolling(true)}\n          setOptions={{\n            enableBasicAutocompletion: true,\n            enableLiveAutocompletion: true,\n            enableSnippets: false,\n            showLineNumbers: true,\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  mouseOutCallback(){\n    if(this.state.editsMade){\n              this.props.requestCompile(this.props.id)\n              this.setState({editsMade:false})\n    }\n\n  }\n\n  renderFunctionName() {\n    var displayName = \"\";\n    if (this.state.name != this.props.starterName) {\n      var displayName = this.state.Name;\n    }\n\n    var nameColor = \"blue\";\n    if (this.state.isSpecialFn) {\n      nameColor = \"pink\";\n    }else if(this.props.isHtml || this.props.isCss){\n      nameColor = \"htmlCssName\"\n    }\n\n    var argsColor = \"greyText\"\n   \n\n    return (\n      <div>\n        <input\n          placeholder=\"function name...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ name: event.target.value, editsMade:true }, () => this.checkName());\n\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{background:\"transparent\"}}\n          onMouseOut={() => this.mouseOutCallback()}\n\n          value={this.state.name}\n          class={\"text-\" + nameColor + \" name\"}\n        />\n\n        <br />\n\n        <input\n        // @cameron styling for arguments field\n          placeholder=\"arguments...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ args: event.target.value, editsMade:true });\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{background:\"transparent\"}}\n          onMouseOut={() => this.mouseOutCallback()}\n          value={this.state.args}\n          class={\"text-\" + argsColor + \" args\"}\n        />\n      </div>\n    );\n  }\n\n  renderIframe() {\n    return (\n      <div hidden={this.props.isCss}>\n        <Resizable\n          className=\"ml-1 bg-white shadow\"\n          onResize={e => {\n            this.updateIframeDimensions(\n              e.movementX,\n              e.movementY\n            );\n          }}\n          onResizeStart={this.props.onStartMove}\n          onResizeStop={(e) =>  this.props.onStopMove() }\n          width={this.state.iframeHeight}\n          height={this.state.iframeWidth}\n          style={{\n            overflow: \"hidden\",\n            zIndex: 5\n          }}\n        >\n          <div>\n            <div\n              style={{\n                position: \"absolute\",\n                width: this.state.iframeWidth,\n                height: this.state.iframeHeight,\n                color: \"transparent\",\n                background: \"transparent\"\n              }}\n              hidden={!this.state.iframeDisabled}\n            >\n              {\" \"}\n            </div>\n            <iframe ref={(iframeElem) => {if(iframeElem){\n              this.props.addNewIframeConsole(iframeElem.contentWindow.console)\n\n            }}\n\n              \n            }\n              scrolling=\"no\"\n              style={{\n                border: \"none\",\n                height: this.state.iframeHeight + globals.iframeMargin,\n                width: this.state.iframeWidth + globals.iframeMargin,\n                margin: \"-\" + globals.iframeMargin.toString() + \"px\"\n                // pointerEvents:\"none\"\n              }}\n              srcdoc={this.state.iframeCode}\n              sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups  allow-same-origin allow-scripts\"\n              allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\"\n            />\n          </div>\n        </Resizable>\n      </div>\n    );\n  }\n\n  setIframeDisabled(status) {\n    this.setState({ iframeDisabled: status });\n  }\n\n  copyAndOpt(isOpt = false) {\n    if (this.props.isCss || this.props.isHtml) {\n      return;\n    }\n\n    var data = this.getData();\n\n    var updateName = false,\n      updatePosition = false,\n      setIframeDisabled = false;\n    if (isOpt) {\n      setIframeDisabled = true;\n    } else {\n      updateName = true;\n      updatePosition = true;\n    }\n\n    var newName = this.props.addStamp(\n      data,\n      updateName,\n      updatePosition,\n      setIframeDisabled\n    );\n    if (isOpt) {\n      this.setState({ name: newName }, () => this.checkName());\n    }\n  }\n\n  getData() {\n    var data = {\n      name: this.state.name,\n      code: this.state.code,\n      args: this.state.args,\n      x: this.cristalRef.current.state.x,\n      y: this.cristalRef.current.state.y,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight,\n      iframeWidth: this.state.iframeWidth,\n      iframeHeight: this.state.iframeHeight,\n      isHtml: this.props.isHtml,\n      isCss: this.props.isCss\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff) {\n    var height = this.state.editorHeight + heightDiff\n    var width = this.state.editorWidth + widthDiff\n\n    if(height < 0 || width < 0){\n      return true\n    }\n\n    this.setState({\n      editorHeight: height,\n      editorWidth: width\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n  render() {\n\n    var headerColor = \"bg-white\"\n    if(0 in this.state.errorLines){\n      headerColor = \"bg-warningOrange\"\n    }\n\n\n    var border = \"border border-borderGrey\"\n    if(Object.keys(this.state.errorLines).length > 0){\n      border = \"border border-warningOrange\"\n    }\n\n\n    // <!-- @cameron little white div thing --> scroll down to style\n\n    var bgColor = \"bg-jsArea\"\n    if(this.props.isHtml || this.props.isCss){\n      bgColor = \"bg-htmlCssArea\"\n    }\n\n    return (\n      <div>\n        <Cristal\n          ref={this.cristalRef}\n\n          isResizable={true}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          closeHidden={this.props.isHtml || this.props.isCss}\n          copyHidden={this.props.isHtml || this.props.isCss}\n          initialPosition={this.props.initialPosition}\n          initialScale={this.props.initialScale}\n          className={\"shadow-sm \" + bgColor + \" \" + border + \" vertex\" + this.props.id}\n          onResize={this.resizeEditor.bind(this)}\n          onStartResize={this.props.onStartMove}\n          onStopResize={this.props.onStopMove}\n        >\n\n          <div\n\n            class={headerColor}\n            style={{\n              position: \"absolute\",\n              top: globals.headerHeight,\n              left: 0,\n              width: \"100%\",\n              height: globals.fnTitleHeight,\n              color: \"transparent\"\n            }}\n          >\n            {\" \"}\n          </div>\n\n          <div class=\"p-2\">\n            {this.renderFunctionName()}\n\n            <div class=\"row m-0 \">\n              {this.renderEditor()}\n\n              {this.renderIframe()}\n            </div>\n          </div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport Copy from \"./copy.png\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport { Hook, Console, Decode } from \"console-feed\";\nvar _ = require(\"lodash\");\n\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif(userAgent.indexOf(' electron/') > -1){\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n}else{\n  var ipc = false\n}\n\n\nexport default class ConsoleStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logs: [],\n      consoleHeight: this.props.starterConsoleHeight,\n      consoleWidth: this.props.starterConsoleWidth,\n      lastFreq: 0\n    };\n\n    this.cristalRef = React.createRef();\n\n\n  }\n\n  componentDidMount(){\n\n    window.addEventListener(\"message\", e => {\n\n         \n        this.logToConsole(e.data.message)\n  \n\n        var lineNum = e.data.lineno\n        var message = e.data.message\n        var id = e.data.id\n\n        this.props.addErrorLine(lineNum, id)\n    });\n\n  }\n\n  clearConsole() {\n    // this.setState({logs:[], lastFreq:0})\n  }\n\n  setEditorScrolling(isScrolling) {\n    this.props.disablePan(isScrolling);\n  }\n\n  addNewIframeConsole(newConsole) {\n\n    Hook(newConsole, newLogs => {\n      newLogs.map(log => {\n        if (log.method === \"log\") {\n          this.checkLastLog(log);\n        }\n      });\n    });\n  }\n\n  checkLastLog(log) {\n\n    var consoleContainer = document.getElementById(\"consoleContainer\");\n    if(consoleContainer === null){\n      return\n    }\n\n    var logs = this.state.logs;\n    if (logs.length < 1) {\n      this.setState({ logs: [log], lastFreq: 0 });\n      consoleContainer = document.getElementById(\"consoleContainer\");\n      consoleContainer.scrollTop = consoleContainer.scrollHeight;\n    } else {\n      var lastLog = logs[logs.length - 1];\n\n      if (_.isEqual(lastLog.data, log.data)) {\n        this.setState({ lastFreq: this.state.lastFreq + 1 });\n      } else {\n        logs.push(log);\n        this.setState({ logs: logs, lastFreq: 1 });\n        consoleContainer = document.getElementById(\"consoleContainer\");\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n    }\n  }\n\n  logToConsole(message, method = \"error\"){\n\nthis.checkLastLog({ method: method, data: [message] });\n  }\n\n    getData() {\n    var data = {\n\n      x: this.cristalRef.current.state.x,\n      y: this.cristalRef.current.state.y,\n      consoleWidth: this.state.consoleWidth,\n      consoleHeight: this.state.consoleHeight,\n    };\n\n\n    return data;\n  }\n\n\n  resizeConsole(widthDiff, heightDiff) {\n    var height = this.state.consoleHeight;\n    var width = this.state.consoleWidth;\n    this.setState({\n      consoleHeight: height + heightDiff,\n      consoleWidth: width + widthDiff\n    });\n  }\n\n  render() {\n\n    var renderedLogs = _.cloneDeep(this.state.logs);\n    if (this.state.lastFreq > 1) {\n      renderedLogs.push({\n        method: \"log\",\n        data: [\"(\" + this.state.lastFreq.toString() + \")\"]\n      });\n    }\n\n\n    return (\n      <Cristal\n        ref={this.cristalRef}\n        initialScale={this.props.initialScale}\n        closeHidden={true}\n        copyHidden={true}\n        onResize={this.resizeConsole.bind(this)}\n        initialPosition={this.props.initialPosition}\n      >\n        <div\n          id=\"consoleContainer\"\n          onMouseOver={() => this.setEditorScrolling(true)}\n          onMouseOut={() => this.setEditorScrolling(false)}\n          style={{\n            width: this.state.consoleWidth,\n            height: this.state.consoleHeight,\n            overflow: \"hidden\",\n            \"overflow-y\": \"scroll\",\n            \"white-space\": \"nowrap\",\n            backgroundColor: \"#242424\"\n          }}\n        >\n          <Console logs={renderedLogs} variant=\"dark\" />\n        </div>\n      </Cristal>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport Copy from \"./copy.png\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\n\n// import \"ace-builds/src-noconflict/mode-javascript\";\n// import \"ace-builds/src-noconflict/theme-tomorrow\";\n// import \"ace-builds/src-min-noconflict/ext-language_tools\";\n// import \"ace-builds/src-noconflict/snippets/javascript\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif(userAgent.indexOf(' electron/') > -1){\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n}else{\n  var ipc = false\n}\n\n\nexport default class BlobStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      editorScrolling: false,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      errorLines:this.props.errorLines,\n      exportableCode:\"\",\n      editsMade:\"\"\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n  }\n\n  componentDidMount() {\nthis.setState({exportableCode:\"\"}, () => this.props.requestCompile(this.props.id))\n  }\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n    mouseOutCallback(){\n    if(this.state.editsMade){\n              this.props.requestCompile(this.props.id)\n              this.setState({editsMade:false})\n    }\n\n  }\n  renderEditor() {\n\n    var markers = []\n    for(var i in this.state.errorLines){\n      if(i != 0){\n        markers.push({startRow:i-1, endRow:i, type:\"background\", className:\"bg-warningOrange marker\"});\n      }\n    }\n\n    return (\n      <div\n        onMouseOut={() => {\n          this.mouseOutCallback();\n          this.setEditorScrolling(false);\n        }}\n      >\n        <AceEditor\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n\n          }}\n          mode=\"javascript\"\n          theme=\"p5\"\n          onChange={value => {\n            this.setState({ code: value });ipc && ipc.send(\"edited\")\n            this.setState({editsMade:true}) \n          }\n          }\n                 markers={markers}\n        name= {\"id\" + this.props.id.toString()}\n          fontSize={globals.globalVarCodeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          onScroll={() => this.setEditorScrolling(true)}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          className=\"bg-jsArea\"\n          setOptions={{\n            enableBasicAutocompletion: true,\n            enableLiveAutocompletion: true,\n            enableSnippets: false,\n            showLineNumbers: true,\n            tabSize: 2,\n            hasCssTransforms: true \n          }}\n        />\n      </div>\n    );\n  }\n\n  copyAndOpt(isOpt = false) {\n    var data = this.getData();\n\n    var updatePosition = false;\n    if (isOpt === false) {\n      updatePosition = true;\n    }\n\n    this.props.addStamp(data, updatePosition);\n  }\n\n  addErrorLine(lineNum){\n    var errorLines = this.state.errorLines\n    errorLines[lineNum] = \"\"\n    this.setState({errorLines:errorLines})\n  }\n\n  clearErrorsAndUpdate(editsMade, newErrors=[]){\n    var newErrorLines = this.state.errorLines\n    if(editsMade){\n      var newErrorLines = {}\n    }\n    this.setState({errorLines:newErrorLines}, () => {\n      this.setState({exportableCode:this.props.getExportableCode()})\n      for(var i = 0; i < newErrors.length; i++){\n        this.addErrorLine(newErrors[i])\n      }\n    })\n  }\n\n  getData() {\n    var data = {\n      code: this.state.code,\n      x: this.cristalRef.current.state.x,\n      y: this.cristalRef.current.state.y,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff) {\n    var height = this.state.editorHeight;\n    var width = this.state.editorWidth;\n    this.setState({\n      editorHeight: height + heightDiff,\n      editorWidth: width + widthDiff\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n\n  render() {\n\n          var border = \"border border-borderGrey\"\n    if(Object.keys(this.state.errorLines).length > 0){\n      border = \"border border-warningOrange\"\n    }\n    return (\n      <div>\n        <Cristal\n          ref={this.cristalRef}\n          onResize={this.resizeEditor.bind(this)}\n          isResizable={true}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          initialPosition={this.props.initialPosition}\n          initialScale={this.props.initialScale}\n          className={\"shadow-sm bg-jsArea \" + border + \" vertex\" + this.props.id}\n        >\n          <div class=\"row m-0\">{this.renderEditor()}</div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"react-cristal\";\nimport $ from \"jquery\";\nimport { saveAs } from \"file-saver\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport FunctionStamp from \"./FunctionStamp.js\";\nimport ConsoleStamp from \"./ConsoleStamp.js\";\nimport BlobStamp from \"./BlobStamp.js\";\nimport { Mutex } from \"async-mutex\";\nimport { Line } from \"react-lineto\";\nimport cheerio from \"cheerio\";\nimport { SteppedLineTo } from 'react-lineto';\nimport parser from \"./parser.js\"\nvar _ = require(\"lodash\");\n\n\n\nvar esprima = require(\"esprima\");\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif(userAgent.indexOf(' electron/') > -1){\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n}else{\n  var ipc = false\n}\n\nconst defaultSetup = require(\"./defaultSetup.js\");\n\nexport default class View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fnStamps: {},\n      scale: 1,\n      counter: 0,\n      blobStamps: {},\n      htmlID: -1,\n      cssID: -1,\n      consoleStamp:null,\n      setupExists:true,\n      htmlAsksForCss:true,\n      htmlAsksForJs:true,\n      lines:[],\n      lineData:[],\n      traversalGraph:{}\n    };\n    this.counterMutex = new Mutex();\n\n    ipc && ipc.on(\"writeToView\", (event, files) => {\n      this.setState(\n        {\n          fnStamps: {},\n          blobStamps: {},\n          counter: 0,\n          htmlID: -1,\n          cssID: -1,\n          scale: files.stamper.scale,\n          consoleStamp:null\n        },\n        () => {\n\n          this.addConsoleStamp(files.stamper.console)\n          files.stamper.fns.map(data => this.addFnStamp(data));\n          files.stamper.blobs.map(data => this.addBlobStamp(data));\n          \n        }\n      );\n    });\n\n    ipc && ipc.on(\"requestSave\", (event, rawCode) => {\n      this.sendSaveData();\n    });\n  \n\n  }\n\n  getIframeErrorCallBack(ranges, offset =0){\n    var strRanges = JSON.stringify(ranges)\n    return `\n  // window.addEventListener('error', function(e) { \n  //   console.log(\"addEventListener\")\n  //     logToConsole(e.message, e.lineno)\n  //   }, false);\n\nwindow.onerror = function (message, url, lineno, colno) {\n\n  logToConsole(message, lineno)\n}\n\nfunction logToConsole(message, lineno){\n\n      var adjLineNum = -1\n      var stampId = -1\n      var ranges = ${strRanges}\n\n      ranges.map(range => {\n        var start = range.start\n        var end = range.end\n        var id = range.id\n        var isFN = range.isFN\n        var isInRange = start + ${offset} < lineno + 1 && lineno -1 < end + ${offset}\n\n        \n        if(isInRange){\n          adjLineNum = lineno - start - ${offset} + 1\n          stampId = id\n          if(range.isFn){\n            adjLineNum -= 1\n          }\n        }\n      })\n\n      window.parent.postMessage({type:\"error\", message:message, lineno:adjLineNum, id:stampId}, '*')\n\n    }`\n\n\n  }\n\n  getHTML(id) {\n\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return \"\";\n    }\n\n    if (id === this.state.htmlID || id === this.state.cssID) {\n      var runnableCode = \"\";\n      var ranges = []\n    } else {\n\n      var codeData = this.getRunnableCode(id);\n          var runnableCode = codeData.runnableCode\n          var ranges = codeData.ranges\n    }\n\n\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var html = htmlStamp.ref.current.state.code\n\n\n    const parser = cheerio.load(html, { withStartIndices: true });\n    var jsBlockStr =\n      \"<script type='text/javascript'>\" + runnableCode + \"</script>\";\n    var cssBlockStr =\n      \"<style>\" + cssStamp.ref.current.state.runnableInnerCode + \"</style>\";\n    var jsSelector = '[src=\"sketch.js\"]';\n    var cssSelector = '[href=\"style.css\"]';\n\n    var jsBlock = parser(jsBlockStr);\n    var cssBlock = parser(cssBlockStr);\n\n    // const start = parser(jsSelector).get(0).startIndex;\n\n\n\n    var htmlAsksForCss = parser(cssSelector).length > 0\n    if(htmlAsksForCss === false && this.state.htmlAsksForCss === true){\n\n      this.state.consoleStamp.ref.current.logToConsole\n        (`Stamper Error: Your index.html is missing a div for style.css. Make sure you're linking to style.css and not another stylesheet.`)\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1)\n      this.setState({htmlAsksForCss:htmlAsksForCss})\n    }else if(htmlAsksForCss === true && this.state.htmlAsksForCss === false){\n      this.setState({htmlAsksForCss:htmlAsksForCss})\n    }\n\n    var htmlAsksForJs = parser(jsSelector).length > 0\n    if(htmlAsksForJs === false && this.state.htmlAsksForJs === true){\n\n      this.state.consoleStamp.ref.current.logToConsole\n        (`Stamper Error: Your index.html is missing a div for sketch.js. Make sure you're linking to sketch.js and not another sketch file.`)\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1)\n      this.setState({htmlAsksForJs:htmlAsksForJs})\n    }else if(htmlAsksForJs === true && this.state.htmlAsksForJs === false){\n      this.setState({htmlAsksForJs:htmlAsksForJs})\n    }\n\n    parser(cssSelector).replaceWith(cssBlock);\n\n\n\n    parser(\"head\").prepend(\"<script class='errorListener' >\" + this.getIframeErrorCallBack(ranges) + \"</script>\")\n\n\n   var htmlStr = parser.html()\n   var linesToJs = 0\n   for(var i = 0; i< htmlStr.length; i++){\n \n    if(htmlStr[i] === \"\\n\" ){\n      linesToJs += 1\n    }\n    if(htmlStr.substr(i, jsSelector.length) === jsSelector){\n      break\n    }\n   }\n\n  \n\n   parser(\".errorListener\").replaceWith(\"<script class='errorListener' >\" + this.getIframeErrorCallBack(ranges, linesToJs-3) + \"</script>\")\n   parser(jsSelector).replaceWith(jsBlock);\n    return parser.html();\n  }\n  componentDidMount() {\n\n\n\n    var initialSetup = defaultSetup.getSetup()\n    this.addConsoleStamp(initialSetup.console)\n    initialSetup.fns.map(data => this.addFnStamp(data));\n    initialSetup.blobs.map(data => this.addBlobStamp(data));\n\n\n  }\n\n\n  addErrorLine(lineNum, id){\n        if(id in this.state.fnStamps){\n          this.state.fnStamps[id].ref.current.addErrorLine(lineNum)\n        }else if(id in this.state.blobStamps){\n          this.state.blobStamps[id].ref.current.addErrorLine(lineNum)\n        }\n  }\n\n  // resetScale(mouseX, mouseY) {\n  //   if (this.state.scale === 1) {\n  //     return;\n  //   }\n\n  //   Object.values(this.state.fnStamps).map(fnStamp =>\n  //     fnStamp.ref.current.cristalRef.current.zoom(1, mouseX, mouseY, true)\n  //   );\n  //   Object.values(this.state.blobStamps).map(varStamp =>\n  //     varStamp.ref.current.cristalRef.current.zoom(1, mouseX, mouseY, true)\n  //   );\n\n  //   this.setState({ scale: 1 });\n  // }\n\n   addConsoleStamp(data) {\n\n    var defaults = {\n      x: this.defaultStarterPos(),\n      y: this.defaultStarterPos(),\n      consoleWidth: (globals.defaultEditorWidth * 2) / 3,\n      consoleHeight: globals.defaultVarEditorHeight\n    };\n\n    Object.keys(defaults).map(setting => {\n\n      if (!(setting in data)) {\n        data[setting] = defaults[setting];\n      }\n    });\n\n\n    this.createConsoleStamp(data);\n  }\n\n  async createConsoleStamp(data) {\n    var x = data.x,\n      y = data.y,\n      consoleWidth = data.consoleWidth,\n      consoleHeight = data.consoleHeight;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var ref = React.createRef();\n\n    var elem = (\n      <ConsoleStamp\n      initialScale={this.state.scale}\n        ref={ref}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        initialScale={this.state.scale}\n        disablePan={this.disablePan.bind(this)}\n        starterConsoleWidth={consoleWidth}\n        starterConsoleHeight={consoleHeight}\n        addErrorLine={this.addErrorLine.bind(this)}\n      />\n    );\n\n    var consoleStamp = { elem: elem, ref: ref };\n    this.setState({ consoleStamp: consoleStamp });\n  }\n\n  defaultStarterPos(offset = 0) {\n    return Math.random() * globals.marginVariance + globals.margin * 2 + offset;\n  }\n\n  addFnStamp(\n    data,\n    updateName = false,\n    updatePosition = false,\n    setIframeDisabled = false\n  ) {\n    var defaults = {\n      name: \"sketch\",\n      code: \"rect(50, 50, 50, 50)\",\n      args: \"x=mouseX, y=mouseY\",\n      x: this.defaultStarterPos(),\n      y: this.defaultStarterPos(),\n      iframeDisabled: false,\n      editorWidth: globals.defaultEditorWidth,\n      editorHeight: globals.defaultEditorHeight - globals.brHeight,\n      iframeWidth: globals.defaultIframeWidth,\n      iframeHeight: globals.defaultEditorHeight,\n      isHtml: false,\n      isCss: false\n    };\n\n    Object.keys(defaults).map(setting => {\n      if (!(setting in data)) {\n        data[setting] = defaults[setting];\n      }\n    });\n\n    if (updatePosition) {\n      data.x += globals.copyOffset * 2;\n      data.y += globals.copyOffset;\n    }\n\n    var newName = data.name + (this.state.counter + 1).toString();\n\n    if (updateName) {\n      data.name = newName;\n    }\n\n    data.iframeDisabled = setIframeDisabled;\n\n    this.createFnStamp(data);\n    this.refreshBlobStamps(this.state.blobStamps);\n    return newName;\n  }\n\n  async createFnStamp(data) {\n    var name = data.name,\n      code = data.code,\n      args = data.args,\n      args = data.args,\n      x = data.x,\n      y = data.y,\n      iframeDisabled = data.iframeDisabled,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      iframeWidth = data.iframeWidth,\n      iframeHeight = data.iframeHeight,\n      isHtml = data.isHtml,\n      isCss = data.isCss;\n\n\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var fnStamps = this.state.fnStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <FunctionStamp\n        ref={ref}\n        isHtml={isHtml}\n        isCss={isCss}\n        starterCode={code}\n        starterArgs={args}\n        starterName={name}\n        errorLines = {{}}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        deleteFrame={this.deleteFrame}\n\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addFnStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        initialScale={this.state.scale}\n        starterIframeWidth={iframeWidth}\n        starterIframeHeight={iframeHeight}\n        checkAllNames={this.checkAllNames.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        iframeDisabled={iframeDisabled}\n        requestCompile={this.requestCompile.bind(this)}\n        getHTML={this.getHTML.bind(this)}\n        getScale={() => {return this.state.scale }}\n        addNewIframeConsole={this.addNewIframeConsole.bind(this)}\n      />\n    );\n\n\n    fnStamps[counter] = { elem: elem, ref: ref };\n\n    this.setState({ fnStamps: fnStamps });\n\n    if (isHtml) {\n      this.setState({ htmlID: counter });\n    } else if (isCss) {\n      this.setState({ cssID: counter });\n    }\n\n\n  }\n\n  addNewIframeConsole(newConsole){\n    if(this.state.consoleStamp === null){return}\n      this.state.consoleStamp.ref.current.addNewIframeConsole(newConsole)\n\n\n  }\n\n  addBlobStamp(data, updatePosition = false) {\n    var defaults = {\n      code: \"var z = 10\",\n      x: this.defaultStarterPos(),\n      y: this.defaultStarterPos(400),\n      editorWidth: (globals.defaultEditorWidth * 2) / 3,\n      editorHeight: globals.defaultVarEditorHeight\n    };\n\n    Object.keys(defaults).map(setting => {\n      if (!(setting in data)) {\n        data[setting] = defaults[setting];\n      }\n    });\n\n    if (updatePosition) {\n      data.x += data.editorWidth + 50;\n    }\n\n    this.createBlobStamp(data);\n  }\n\n  async createBlobStamp(data) {\n    var x = data.x,\n      y = data.y,\n      code = data.code,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      errorLines = data.errorLines;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var blobStamps = this.state.blobStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <BlobStamp\n        ref={ref}\n        starterCode={code}\n        errorLines={{}}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        deleteFrame={this.deleteFrame}\n \n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addBlobStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        initialScale={this.state.scale}\n        disablePan={this.disablePan.bind(this)}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        requestCompile={this.requestCompile.bind(this)}\n        getExportableCode={this.getExportableCode.bind(this)}\n      />\n    );\n\n    blobStamps[counter] = { elem: elem, ref: ref };\n    this.setState({ blobStamps: blobStamps });\n  }\n\n  sendSaveData() {\n\n\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return;\n    }\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var message = {\n      html: htmlStamp.ref.current.state.code,\n      stamper: this.getAllData(),\n      css: cssStamp.ref.current.state.code,\n      js: this.getExportableCode()\n    };\n    ipc && ipc.send(\"save\", message);\n  }\n\n\n  checkForSetup(){\n\n    var newSetupExists = false\n    var fnStamps = Object.values(this.state.fnStamps)\n    for(var i = 0; i< fnStamps.length; i++){\n      var fnStampRef = fnStamps[i].ref.current\n \n      if(fnStampRef.state.name === 'setup'){\n        newSetupExists =  true\n  \n      }\n\n    }\n\n    if(this.state.setupExists && newSetupExists === false){\n\n\n    this.state.consoleStamp.ref.current.logToConsole\n    (`Stamper Error: You don't have a setup. This will constrain your canvas to a default width and hight.`)\n\n    }\n\n    this.setState({setupExists:newSetupExists})\n  \n\n    return newSetupExists\n  }\n\n  requestCompile(id){\n\n\n\n    var newTraversalGraph = this.setLineData()\n    var oldTravarsalGraph = this.state.traversalGraph\n    this.setState({traversalGraph:newTraversalGraph})\n\n\n    var duplicateNamedStamps = this.checkAllNames()\n\n    this.checkForSetup()\n\n    this.state.consoleStamp.ref.current.logToConsole(\"Updated code\", \"debug\")\n \n    this.sendSaveData();\n\n\n\n \n\n    this.compileStamp(id, {}, newTraversalGraph, duplicateNamedStamps)\n     \n    this.compileStamp(id, {}, oldTravarsalGraph, duplicateNamedStamps)\n   \n\n  }\n  compileStamp(id, seen, traversalGraph, duplicateNamedStamps) {\n\n\n\n    \n    if(id in seen){\n      return\n    }else{\n      seen[id] = \"\"\n    }\n\n\n\n    if(id in this.state.fnStamps){\n      var stampRef = this.state.fnStamps[id].ref.current\n    }else if(id in this.state.blobStamps){\n      var stampRef = this.state.blobStamps[id].ref.current\n    }else{\n      return\n    }\n\n\n\n   \n    if(stampRef){\n        var newErrors = []\n\n        if(stampRef.props.id in duplicateNamedStamps && stampRef.props.isCss === false && stampRef.props.isHtml === false){\n          newErrors.append(0)\n        }\n         \n        stampRef.clearErrorsAndUpdate(newErrors);\n\n\n      if(id in traversalGraph === false){\n        return\n      }\n      traversalGraph[id].map(id => this.compileStamp(id, seen, traversalGraph, duplicateNamedStamps))\n\n    }\n  }\n\n  disablePan(status) {\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current.disablePan(status);\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current.disablePan(status);\n    });\n\n    this.state.consoleStamp.ref.current.cristalRef.current.disablePan(status)\n  }\n  checkAllNames() {\n    var nameDict = {};\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var name = stamp.ref.current.state.name;\n        if (!(name in nameDict)) {\n          nameDict[name] = 0;\n        }\n        nameDict[name] += 1;\n      }\n    });\n\n    var duplicateNamedStamps = {}\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var stampRef = stamp.ref.current;\n        var name = stamp.ref.current.state.name;\n        if(nameDict[name] > 1){\n          duplicateNamedStamps[stamp.ref.current.props.id] = \"\"\n\n          this.state.consoleStamp.ref.current.logToConsole\n          (`Stamper Error: Multiple functions shouldn't have the same name. Consider channging one of your ${name}s to something else.`)\n\n        }\n      }\n    });\n\n    return duplicateNamedStamps\n  }\n\n  getExportableCode() {\n    var codeData = null;\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current.state.name === \"draw\") {\n        codeData = this.getRunnableCode(stamp.ref.current.props.id);\n      }\n    });\n\n    if (codeData === null) {\n      codeData = this.getRunnableCode(-1);\n    }\n    return codeData.runnableCode;\n  }\n\n  getNumLines(code){\n    var numLines = 0\n    for(var i = 0; i< code.length; i++){\n      if(code[i] === \"\\n\"){\n        numLines += 1\n      }\n    }\n\n    return numLines\n  }\n\n  addCodeBlock(code, id, runnableCode, ranges, curLine, isFn){\n    code = code.trim() + \"\\n\"\n    var start = curLine\n    var end = curLine + this.getNumLines(code) - 1\n    runnableCode.push(code);\n    ranges.push({start:start, end:end, id:id, isFn:isFn})\n    return end + 1\n  }\n\n  setLines(){\n\n    var lines = []\n    var borderColorInt = 205 + 15 - 15*this.state.scale\n    var style = {borderColor:`rgb(${borderColorInt}, ${borderColorInt}, ${borderColorInt})`, borderWidth:1}\n\n\n    this.state.lineData.map(singleLineData => {\n\n      lines.push(<SteppedLineTo {...style} from={\"vertex\" + singleLineData[0]} to={'vertex' + singleLineData[1]} orientation=\"v\" />)\n    }); \n\n    this.setState({lines:lines}) \n\n  }\n\n  setLineData(){\n    var declaredDict = {}\n    var undeclaredArr = []\n    var lineData = []\n    var setupID = -1\n    var traversalGraph = {}\n\n    Object.keys(this.state.blobStamps).map(id => {\n      var stampRef = this.state.blobStamps[id].ref.current\n        var code = stampRef.state.code\n        var identifiers = parser.getIdentifiers(code)\n\n        if(identifiers){\n          identifiers.declared.map(identifier => declaredDict[identifier] = id)\n          identifiers.undeclared.map(identifier => undeclaredArr.push([identifier, id]))\n        } \n\n    });\n\n\n\n    Object.keys(this.state.fnStamps).map(id => {\n\n\n        \n      \n\n      var stampRef = this.state.fnStamps[id].ref.current\n\n\n     \n      if(stampRef.state.name === \"setup\"){\n        setupID = id\n      }\n        var state = stampRef.state\n        var code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`\n        var identifiers = parser.getIdentifiers(code)\n        if(identifiers){\n        identifiers.declared.map(identifier => declaredDict[identifier] = id)\n        identifiers.undeclared.map(identifier => undeclaredArr.push([identifier, id]))\n      }\n\n\n  \n    });\n\n\n\n    var style = {borderColor:\"rgb(230, 230, 230)\", borderWidth:10*this.state.scale}\n\n    undeclaredArr.map(undeclaredItem => {\n      var identifier = undeclaredItem[0]\n      var usingFn = undeclaredItem[1]\n      var declaringFn = declaredDict[identifier]\n      if(declaringFn   && usingFn ){\n        lineData.push([usingFn, declaringFn])\n        if(declaringFn in traversalGraph === false){\n          traversalGraph[declaringFn] = []\n        }\n        traversalGraph[declaringFn].push(usingFn)\n      }\n      \n\n    })\n\n       \n\n    Object.keys(this.state.fnStamps).map(id =>{\n      if(id != this.state.htmlID && id != this.state.cssID){\n        lineData.push([id, setupID])\n            if(setupID in traversalGraph === false){\n          traversalGraph[setupID] = []\n        }\n        traversalGraph[setupID].push(id)\n      }\n    })\n\n    this.setState({lineData:lineData}, () => this.setLines())\n\n\n\n    return traversalGraph\n  }\n\n  getRunnableCode(id) {\n\n    var runnableCode = [];\n    var ranges = []\n    var curLine = 1\n    var code;\n\n    Object.values(this.state.blobStamps).map(blobStamp => {\n\n        code = blobStamp.ref.current.state.code\n        curLine = this.addCodeBlock(code, blobStamp.ref.current.props.id, runnableCode, ranges, curLine, false)\n\n    });\n\n\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current.state.name != \"draw\" && stamp.ref.current.props.isCss === false\n        && stamp.ref.current.props.isHtml === false) {\n        var state =  stamp.ref.current.state\n      code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`\n        curLine = this.addCodeBlock(code, stamp.ref.current.props.id, runnableCode, ranges, curLine, true)\n      }\n    });\n\n\n    if (\n      id in this.state.fnStamps == false ||\n      this.state.fnStamps[id].ref.current === null\n    ) {\n      return runnableCode.join(\"\");\n    }\n\n    var fnStampRef = this.state.fnStamps[id].ref.current;\n    var state = fnStampRef.state\n    if (state.name === \"draw\") {\n      var fullFun = `function ${state.name}(${state.args}){\\n${state.code}\\n}`\n      curLine = this.addCodeBlock(fullFun, fnStampRef.props.id, runnableCode, ranges, curLine, true)\n    } else if (state.name === \"setup\") {\n      // do nothing\n    } else {\n      \n        code = `function draw(){\\n${state.name}()\\n}`\n        curLine = this.addCodeBlock(code, -1, runnableCode, ranges, curLine, false)\n        \n  \n    }\n    return {ranges:ranges, runnableCode: runnableCode.join(\"\")};\n  }\n\n  onDelete(id) {\n    var fnStamps = this.state.fnStamps;\n    var blobStamps = this.state.blobStamps;\n\n    if (id in fnStamps) {\n      ipc && ipc.send(\"edited\");\n      delete fnStamps[id];\n    } else if (id in blobStamps) {\n      ipc && ipc.send(\"edited\");\n      delete blobStamps[id];\n    }\n\n    this.refreshFnStamps(fnStamps);\n    this.refreshBlobStamps(blobStamps);\n    // this.refreshConsoleStamp(this.state.consoleStamp)\n  }\n\n  refreshConsoleStamp(consoleStamp){\n    var data = consoleStamp.ref.current.getData()\n    this.setState({consoleStamp:null}, () => this.addConsoleStamp(data))\n  }\n\n  getAllData() {\n\n    var data = { fns: [], blobs: [], scale: this.state.scale, console:this.state.consoleStamp.ref.current.getData() };\n    Object.values(this.state.fnStamps).map(stamp =>\n      data.fns.push(stamp.ref.current.getData())\n    );\n\n    Object.values(this.state.blobStamps).map(stamp =>\n      data.blobs.push(stamp.ref.current.getData())\n    );\n\n    return data;\n  }\n\n  refreshFnStamps(fnStamps) {\n    var fnStampData = [];\n    for (var i in fnStamps) {\n      var stamp = fnStamps[i];\n      var data = stamp.ref.current.getData();\n\n      fnStampData.push(data);\n    }\n\n    this.setState({ fnStamps: {} }, () =>\n      fnStampData.map(data => this.addFnStamp(data))\n    );\n  }\n\n\n  refreshBlobStamps(blobStamps) {\n    var varStampData = [];\n    for (var i in blobStamps) {\n      var stamp = blobStamps[i];\n      var data = stamp.ref.current.getData();\n\n      varStampData.push(data);\n    }\n\n    this.setState({ blobStamps: {} }, () =>\n      varStampData.map(data => this.createBlobStamp(data))\n    );\n  }\n\n  onStartMove() {\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n\n      fnStamp.setIframeDisabled(true);\n    }\n\n    this.setState({lines:[]})\n  }\n\n  onStopMove(s) {\n\n\n    if(s){\n    this.setState({ scale: s.scale });\n    }\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n      fnStamp.setIframeDisabled(false);\n    }\n\n    this.setLines()\n  }\n\n  // updateIframeDimensions(width, height) {\n  //   Object.values(this.state.fnStamps).map(stamp =>\n  //     stamp.ref.current.updateIframeDimensions(width, height)\n  //   );\n\n  //   this.setState({ iframeWidth: width, iframeHeight: height });\n  // }\n\n  render() {\n    if(this.state.consoleStamp){\n      var consoleElem = this.state.consoleStamp.elem\n    }else{\n      var consoleElem = null\n    }\n\n    var elems = [];\n\n\n    Object.values(this.state.fnStamps).map(stamp => elems.push(stamp.elem));\n    Object.values(this.state.blobStamps).map(stamp => elems.push(stamp.elem));\n\n\n    return (\n      <div>\n        <div class=\"row bg-grey\" style={{ height: \"100vh\" }}>\n          {elems}\n          {consoleElem}\n          {this.state.lines}\n        </div>\n        <div\n          class=\"topButtons\"\n          style={{\n            position: \"absolute\",\n            top: globals.margin,\n            right: globals.margin,\n            zIndex: 1000000000000000000\n          }}\n        >\n          <button\n            class=\"btn btn btn-pink shadow m-1\"\n            onClick={() => this.addFnStamp({}, true)}\n          >\n            {\" \"}\n            add sketch\n          </button>\n          <button\n            class=\"btn btn btn-blue shadow m-1\"\n            onClick={() => this.addBlobStamp({})}\n          >\n            {\" \"}\n            add global blobs\n          </button>\n          <button\n            class=\"btn btn btn-lightGrey shadow m-1 text-white\"\n            onClick={() =>\n                 console.log(parser.getIdentifiers(\"function setup(x, y){var z = k + 1}; \"))\n              \n            }\n          >\n            clear\n          </button>\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n","import './App.scss';\n\nimport React, {Component} from \"react\";\n\nimport View from \"./View.js\"\n\n\n\nfunction App() {\n      document.title = \"Stamper\"\n  return (\n    <div>\n    \t<View/>\n    </div>\n  );\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = \"data:image/png;base64,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\"","import ace from \"ace-builds\"\nace.define(\"ace/theme/p5\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\nexports.isDark = false;\nexports.cssClass = \"ace-p5\";\nexports.cssText = \".ace-p5 .ace_gutter {\\\n\tbackground: #F5F8FC;\\\n\tcolor: #333 !important;\\\n}\\\n\\\n.ace-p5 .ace_identifier {\\\n\tcolor: #000000;\\\n}\\\n.ace-p5 .ace_print-margin {\\\n\twidth: 1px;\\\n\tbackground: #F5F8FC;\\\n}\\\n\\\n.ace-p5 {\\\n\tbackground-color: #F5F8FC;\\\n\tcolor: #586E75\\\n}\\\n\\\n.ace-p5 .ace_cursor {\\\n\tcolor: #000000\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_selection {\\\n\tbackground: rgb(181, 213, 255)\\\n}\\\n\\\n.ace-p5.ace_multiselect .ace_selection.ace_start {\\\n\tbox-shadow: 0 0 3px 0px #FDF6E3;\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_step {\\\n\tbackground: rgb(255, 255, 0)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_bracket {\\\n\tmargin: -1px 0 0 -1px;\\\n\tborder: 1px solid rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_active-line {\\\n\tbackground: #EEE8D5\\\n}\\\n\\\n.ace-p5 .ace_gutter-active-line {\\\n\tbackground-color : #EDE5C1\\\n}\\\n.ace-p5 .ace_marker-layer .ace_selected-word {\\\n\tborder: 1px solid #7f9390\\\n}\\\n\\\n.ace-p5 .ace_invisible {\\\n\tcolor: rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_keyword  {\\\n\tcolor: #00A1D3\\\n}\\\n\\\n.ace-p5 .ace_keyword.ace_operator {\\\n\tcolor: #A67F59\\\n}\\\n.ace-p5 .ace_meta,\\\n.ace-p5 .ace_support.ace_class,\\\n.ace-p5 .ace_support.ace_type {\\\n\tcolor: #859900\\\n}\\\n\\\n.ace-p5 .ace_paren{\\\n\tcolor: #666\\\n}\\\n.ace-p5 .ace_constant.ace_character,\\\n.ace-p5 .ace_constant.ace_other {\\\n\tcolor: #CB4B16\\\n}\\\n.ace-p5 .ace_constant.ace_language {\\\n\tcolor: #B58900\\\n}\\\n.ace-p5 .ace_constant.ace_numeric {\\\n\tcolor: #dc3787\\\n}\\\n.ace-p5 .ace_fold {\\\n\tbackground-color: #268BD2;\\\n\tborder-color: #586E75\\\n}\\\n.ace-p5 .ace_function, {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_entity.ace_name.ace_function,\\\n.ace-p5 .ace_entity.ace_name.ace_tag,\\\n.ace-p5 .ace_support.ace_function,\\\n.ace-p5 .ace_variable,\\\n.ace-p5 .ace_variable.ace_language {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_storage {\\\n\tcolor: #704f21 !important\\\n}\\\n.ace-p5 .ace_string {\\\ncolor: #00a1d3 !important;\\\n}\\\n.ace-p5 .ace_string.ace_regexp {\\\ncolor: #D30102\\\n}\\\n.ace-p5 .ace_comment,\\\n.ace-p5 .ace_entity.ace_other.ace_attribute-name {\\\ncolor: #a0a0a0\\\n}\\\n.ace-p5 .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y\\\n}\"\n;\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});                (function() {\n                    ace.require([\"ace/theme/p5\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"sourceRoot":""}