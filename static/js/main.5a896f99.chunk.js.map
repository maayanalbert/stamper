{"version":3,"sources":["icons/globe.svg","icons/message-square.svg","react-cristal/dist/es2015/styled.js","react-cristal/dist/es2015/domain.js","react-cristal/dist/es2015/utils.js","react-cristal/dist/es2015/stacker.js","globals.js","react-cristal/dist/es2015/cristal.js","react-cristal/dist/es2015/content.js","react-cristal/dist/es2015/header.js","FunctionStamp.js","ConsoleStamp.js","BlobStamp.js","starterStamps.js","ControlBar.js","View.js","App.js","index.js","icons/box.svg","icons/bell.svg","icons/tool.svg","icons/chevron-down.svg","defaultSetup.js","icons/trash.svg","icons/copy.svg","icons/slash.svg","icons/pen-tool.svg","icons/layout.svg","icons/printer.svg","icons/type.svg","icons/eye.svg","icons/eye-off.svg","icons/download.svg","icons/archive.svg","theme-p5.js","icons/code.svg","parser.js"],"names":["module","exports","templateObject_1","templateObject_2","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","templateObject_10","templateObject_11","__makeTemplateObject","cooked","raw","Object","defineProperty","value","minWidth","minHeight","padding","Wrapper","styled","div","_a","isActive","Header","isDraggable","BottomRightResizeHandle","BottomLeftResizeHandle","ContentWrapper","RightResizeHandle","img","LeftResizeHandle","BottomResizeHandle","isSmartPosition","position","defaultSize","width","height","getBoundaryCoords","coords","size","x","y","innerWidth","window","innerHeight","maxX","maxY","Math","min","max","getCordsFromInitialPosition","initialPosition","xCenter","yCenter","Infinity","Stacker","getNextIndex","index","maxIndex","globals","defaultEditorWidth","defaultVarEditorHeight","defaultEditorHeight","defaultIframeWidth","iframeMargin","headerHeight","brHeight","codeSize","buttonTextSize","bigCodeSize","fnTitleHeight","copyOffset","iconOpacity","iconSize","iconTransition","borderTransition","specialFns","draw","preload","setup","windowResized","deviceMoved","deviceTurned","deviceShaken","keyPressed","keyReleased","keyTyped","mouseMoved","mouseDragged","mousePressed","mouseReleased","mouseClicked","doubleClicked","mouseWheel","fnStampWidth","fnStampHeight","p5Lib","navigator","userAgent","toLowerCase","indexOf","ipc","require","ipcRenderer","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","Cristal","_super","_this","apply","arguments","state","isDragging","isResizingX","isResizingY","isResizingXLeft","zIndex","downKey","isMoving","mouseIsDown","scale","panDisabled","originalHeight","mouseWheelTimeout","zoomDisabled","space","opt","cmd","plus","minus","zero","onWindowResize","_b","undefined","newX","newY","setState","saveWrapperRef","el","childrenElement","initialSize","props","rect","getBoundingClientRect","initialScale","setInitialPosition","cords","saveHeaderRef","headerElement","onKeyDown","e","keyCode","document","body","style","cursor","preventDefault","zoom","onKeyUp","onMouseDown","disablePan","status","disableZoom","setPos","xDiff","yDiff","pan","changeX","changeY","send","onStartMove","manualResize","widthDiff","heightDiff","newScale","mouseX","mouseY","manual","center","curDistX","curDistY","unScaledDistX","unScaledDistY","scaledDistX","scaledDistY","newOriginX","newOriginY","notifyStopMove","onWheel","clearTimeout","newTimeOut","setTimeout","onStoppedMove","bind","ctrlKey","deltaY","clientX","clientY","deltaX","onGlobalMouseDown","onMouseMove","isResizing","currentX","currentY","currentWidth","currentHeight","movementX","movementY","resizeCristal","_c","newWidth","newHeight","notifyResize","panning","notifyMove","notifyStartMove","notifyOptMove","onMove","onResize","resizeBlocked","onStopMove","onOptMove","notifyStartResize","onStartResize","notifyStopResize","onStopResize","onMouseUp","startFullResize","startFullLeftResize","startXResize","startXLeftResize","startYResize","renderResizeHandles","isResizable","React","key","bottom","left","changeZIndex","createIcon","iconType","hiddenFlag","classVal","callBack","uniqueClass","parentID","toString","mouseOverCallback","$","css","opacity","mouseOutCallback","onClick","className","onMouseOver","onMouseOut","src","componentDidMount","addEventListener","passive","on","componentWillUnmount","removeEventListener","get","enumerable","configurable","title","onClose","closeHidden","onCopy","copyHidden","closeBtn","DeleteStampIcon","copyBtn","CopyIcon","clearBtn","ClearConsoleIcon","showClear","onClear","onMinimize","minimizeBtn","MinimzeIcon","titleIcon","icon","makeBigIcon","showMakeBig","onMakeBig","sideButtons","class","right","top","ref","children","render","transform","transformOrigin","border","outline","HeaderComponent","header","ContentComponent","content","headerHidden","ReactDOM","wrapperName","defaultProps","Component","CristalContent","CristalHeader","FunctionStamp","code","starterCode","name","starterName","args","starterArgs","iframeDisabled","iframeWidth","starterIframeWidth","iframeHeight","editorHeight","starterEditorHeight","editorWidth","starterEditorWidth","editorHidden","isSpecialFn","editorScrolling","errorLines","iframeCode","editsMade","runningBorder","doubleClickActive","resizingIframe","originX","initialOriginX","originY","initialOriginY","hidden","initialHidden","looping","loopingTransition","cristalRef","createRef","editorRef","updateLooping","callback","savedIframeHeight","data","type","id","message","starterIframeHeight","requestCompile","checkName","lineNum","newErrors","newErrorLines","getHTML","i","length","addErrorLine","current","editor","completers","push","getCompletions","session","pos","prefix","completions","forEach","w","meta","getScale","isScrolling","markers","startRow","endRow","theme","mode","isHtml","isCss","setEditorScrolling","background","fontFamily","onChange","fontSize","showPrintMargin","wrapEnabled","showGutter","highlightActiveLine","onScroll","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","hasCssTransforms","Name","nameColor","placeholder","disabled","event","target","loopingOpacity","floor","transition","updateIframeDimensions","onResizeStart","onResizeStop","overflow","compileCallback","color","iframeElem","addNewIframeConsole","contentWindow","console","scrolling","margin","srcdoc","sandbox","allow","isOpt","getData","updateName","updatePosition","setIframeDisabled","newName","addStamp","resize","FunctionStampIcon","HtmlStampIcon","CssStampIcon","BuiltInStampIcon","ListenerStampIcon","headerColor","keys","bgColor","onDelete","copyAndOpt","resizeEditor","s","getIcon","onMouseLeave","renderFunctionName","renderEditor","renderIframe","_","ConsoleStamp","logs","consoleHeight","starterConsoleHeight","consoleWidth","starterConsoleWidth","lastFreq","limit","logToConsole","lineno","ConsoleStampIcon","consoleContainer","getElementById","scrollTop","scrollHeight","newConsole","Hook","newLogs","map","log","method","checkLastLog","lastLog","isEqual","freqString","renderedLogs","cloneDeep","resizeConsole","clearConsole","styles","LOG_COLOR","LOG_ERROR_BACKGROUND","LOG_ERROR_BORDER","LOG_ERROR_COLOR","BASE_FONT_FAMILY","BASE_FONT_SIZE","LOG_COMMAND_COLOR","BASE_BACKGROUND_COLOR","LOG_BORDER","LOG_COMMAND_ICON","variant","BlobStamp","exportableCode","starterCodeSize","getExportableCode","BlobStampIcon","CodeSizeIcon","builtInFns","keyPressCode","mousePressCode","listenerFns","normalFn","commentBlob","varBlob","worlds","blobs","fns","compressedJs","ControlBar","minPickerHeight","minJsImporterHeight","topBarHeight","minNonSideBarWidth","importButtonHeight","jsImporterHeight","sideBarWidth","pickerHeight","pickerScrollEnabled","codeHasError","updateControlBarDimensions","axis","handle","renderSideBarResizeHandle","renderLayerPicker","renderJsImporter","renderImportButton","stamps","parser","jsToStamps","addFnStamp","addBlobStamp","text","parseCode","pickers","pickerData","item","VisibilityIcon","VisibilityOffIcon","overalOpacity","centerCallback","clas","hideCallback","overflowY","renderPickerResizeHandle","createElement","DownloadIcon","iconCallback","js","getFileData","blob","Blob","saveAs","stamper","JSON","stringify","tooltipText","alignLeft","dropDownData","WorldsIcon","world","loadStamperFile","alignRight","renderSideBar","renderTopBar","TopButton","down","mouseOverDropDown","givenUniqueClass","ExpandMoreIcon","dropDowns","offset","textAlign","expandButton","renderTooltip","renderDropDowns","defaultSetup","View","fnStamps","counter","blobStamps","htmlID","cssID","consoleStamp","setupExists","htmlAsksForCss","htmlAsksForJs","lines","lineData","traversalGraph","consoleId","numToggles","counterMutex","Mutex","aceRef","newStampMarginVariance","newStampMargin","files","getSetup","rawCode","sendSaveData","stamperFile","originCristal","addConsoleStamp","setOriginCristal","ranges","strRanges","runnableCode","codeData","getRunnableCode","htmlStamp","cssStamp","html","cheerio","load","withStartIndices","jsBlockStr","cssBlockStr","runnableInnerCode","jsBlock","cssBlock","replaceWith","prepend","getIframeErrorCallBack","htmlStr","linesToJs","substr","values","fnStamp","varStamp","dimension","random","defaults","setting","createConsoleStamp","acquire","release","elem","createFnStamp","refreshBlobStamps","deleteFrame","checkAllNames","createBlobStamp","getAllData","fileData","newSetupExists","setLayerPicker","duplicateNamedStamps","checkForSetup","stamp","stampRef","clearErrorsAndUpdate","seen","compileStamp","consoleCristalRef","nameDict","curLine","blobStamp","addCodeBlock","join","numLines","isFn","trim","start","end","getNumLines","borderColorInt","borderColor","borderWidth","singleLineData","from","to","orientation","declaredDict","undeclaredArr","setupID","identifiers","getIdentifiers","declared","identifier","undeclared","undeclaredItem","usingFn","declaringFn","setLines","isListener","fnStampRef","fullFun","setLoopingControl","loopingCallbacks","replace","refreshFnStamps","fnStampData","varStampData","xOff","yOff","manualPan","oldTransition","toggleHide","consoleRef","centerOnStamp","fnIds","blobIds","concat","getFirstLine","consoleElem","elems","App","ace","define","isDark","cssClass","cssText","importCssString","m","esprima","getPos","comment","range","addBlob","lastBlobLine","isComment","lastStamp","lineDiff","loc","line","addFn","params","argStart","argEnd","program","parseScript","tolerant","error","comments","splice","insertComments","tempBlobStamps","fillStampArrays","fullDict","typeName","q","cur","shift","val","pVal","lvl","includes","newVal","newKey","result"],"mappings":"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ChBC,iBAAkB,sBAElBC,WAAY,CACVC,MAAgB,EAChBC,SAAgB,EAChBC,OAAgB,EAEhBC,eAAgB,EAChBC,aAAc,EACdC,cAAc,EACdC,cAAc,EAEdC,YAAY,EACZC,aAAc,EACdC,UAAU,EAEVC,YAAY,EACZC,cAAc,EAEdC,cAAc,EACdC,eAAgB,EAChBC,cAAc,EACdC,eAAgB,EAEhBC,YAAY,GAGdC,aAAkB,IAClBC,cAAkB,KAIPC,GAAQ,CACrB,QACA,SACA,eACA,iBACA,sBACA,sBACA,+EACA,4BACA,8BACA,SACA,SACA,UACA,oBACA,gBACA,iBACA,8BACA,iCACA,eACA,kCACA,uBACA,yBACA,2BACA,kCACA,yBACA,sCACA,kBACA,cACA,iBACA,YACA,oBACA,cACA,6DACA,SACA,cACA,UACA,eACA,kBACA,cACA,cACA,gCACA,QACA,wBACA,sBACA,0BACA,wBACA,yBACA,yBACA,+BACA,yBACA,cACA,iCACA,sBACA,wBACA,0BACA,4BACA,mBACA,QACA,YACA,mCACA,mBACA,SACA,4BACA,oBACA,kBACA,cACA,eACA,WACA,cACA,aACA,QACA,yBACA,cACA,iBACA,eACA,UACA,iBACA,0CACA,uBACA,WACA,eACA,sBACA,SACA,aACA,mBACA,kBACA,aACA,uBACA,eACA,SACA,kCACA,0CACA,WACA,uBACA,oBACA,sBACA,qBACA,sBACA,eACA,0CACA,sBACA,wBACA,gCACA,oBACA,QACA,QACA,QACA,uBACA,0BACA,QACA,WACA,QACA,WACA,gBACA,gBACA,gBACA,UACA,iBACA,mBACA,oBACA,kBACA,aACA,aACA,WACA,UACA,gBACA,cACA,aACA,SACA,mBACA,aACA,aACA,WACA,+BACA,6BACA,sCACA,wBACA,aACA,0BACA,cACA,QACA,mBACA,oBACA,gBACA,qBACA,gBACA,oBACA,eACA,8BACA,6BACA,YACA,WACA,mBACA,eACA,yBACA,iBACA,aACA,yBACA,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,UACA,oBACA,iBACA,2BACA,0BACA,4BACA,6BACA,sCACA,kCACA,WACA,eACA,eACA,eACA,WACA,gCACA,+BACA,gCACA,iBACA,iBACA,mBACA,kBACA,gBACA,gBACA,mBACA,gBACA,QACA,8BACA,WACA,qBACA,kBACA,iBACA,oBACA,2BACA,sBACA,4BACA,sDACA,OACA,SACA,gBACA,gBACA,iBACA,mBACA,uBACA,6BACA,QACA,mBACA,6BACA,eACA,gBACA,wBACA,uBACA,iBACA,iBACA,iBACA,oBACA,oBACA,oBACA,cACA,iBACA,8BACA,eACA,kBACA,eACA,iBACA,cACA,SACA,UACA,KACA,aACA,MACA,SACA,aACA,YACA,UACA,eACA,gBACA,cACA,eACA,QACA,SACA,wBACA,aACA,QACA,QACA,kBACA,UACA,cACA,eACA,gBACA,oBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,YACA,YACA,YACA,aACA,aACA,aACA,WACA,eACA,MACA,UACA,SACA,SACA,SACA,SACA,UACA,UACA,YACA,YACA,aACA,aACA,cACA,iBACA,UACA,UACA,SACA,UACA,SACA,SACA,oBACA,kBACA,UACA,oBACA,kBACA,kBACA,sDACA,sCACA,mEACA,SACA,0EACA,wDACA,4CACA,iEACA,mDACA,2CACA,kEACA,oDACA,4CACA,0EACA,qDACA,uCACA,8BACA,sBACA,+DACA,cACA,kBACA,uEACA,sDACA,6HACA,gBACA,4BACA,uBACA,sBACA,wBACA,uBACA,iCACA,mBACA,uCACA,yBACA,wCACA,0BACA,wCACA,0BACA,iBACA,kBC5VA,GADgBC,UAAUC,UAAUC,cACtBC,QAAQ,eAAiB,EACrC,IACIC,GADa1D,OAAO2D,QAAQ,YACbC,iBAEfF,IAAM,EAGZ,IAAIG,GAED,WACC,IAAIC,EACF7F,OAAO8F,gBACN,CAAEC,UAAW,cAAgBC,OAC5B,SAASC,EAAGC,GACVD,EAAEF,UAAYG,IAElB,SAASD,EAAGC,GACV,IAAK,IAAIC,KAAKD,EAAOA,EAAEE,eAAeD,KAAIF,EAAEE,GAA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","file":"static/js/main.5a896f99.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/globe.50d70b6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/message-square.42f61b6c.svg\";","import styled from 'styled-components';\n\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n\nexport var minWidth = 60;\nexport var minHeight = 60;\nexport var padding = 10;\nvar wrapperStyles = function (_a) {\n    var isActive = _a.isActive;\n    if (isActive) {\n        return \"\\n      \\n    \";\n    }\n    return \"opacity: 1;\";\n};\nexport var Wrapper = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"], [\"\\n  \", \"\\n  position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"])), wrapperStyles, minWidth, minHeight);\nexport var Header = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  height: 30px;\\n  border-bottom: 1px solid rgb(215,215,215);\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"], [\"\\n  height: 30px;\\n  border-bottom: 1px solid #ccc;\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"])), function (_a) {\n    var isDraggable = _a.isDraggable;\n    return isDraggable ? \"-webkit-grab\" : \"default\";\n}, padding);\nexport var BottomRightResizeHandle = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var BottomLeftResizeHandle = styled.div(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  cursor: nesw-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var ContentWrapper = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\" \\n  padding: \", \"px;\\n\"], [\"\\n  padding: \", \"px;\\n\"])), padding);\n\nexport var CloseIcon = styled.img(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 15px;\\n  height: 15px;\\n margin-left:12px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 60px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 30px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\nexport var CopyIcon = styled.img(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 17px;\\n  height: 17px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #FF0000;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\n\nexport var Title = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"], [\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"])));\nexport var RightResizeHandle = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var LeftResizeHandle = styled.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  left: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var BottomResizeHandle = styled.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"], [\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"])));\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8,templateObject_9, templateObject_10, templateObject_11;\n","export var isSmartPosition = function (position) {\n    return typeof position === 'string';\n};\n","import { minHeight, minWidth, padding } from \"./styled\";\nvar defaultSize = { width: minWidth, height: minHeight };\nexport var getBoundaryCoords = function (coords, size) {\n    if (size === void 0) { size = defaultSize; }\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var maxX = innerWidth - (width || 0) - padding;\n    var maxY = innerHeight - (height || 0) - padding;\n    return {\n        x: Math.min(Math.max(x, padding), maxX),\n        y: Math.min(Math.max(y, padding), maxY)\n    };\n};\nexport var getCordsFromInitialPosition = function (initialPosition, size) {\n    if (size === void 0) { size = defaultSize; }\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var width = size.width, height = size.height;\n    var xCenter = (innerWidth / 2) - (width / 2);\n    var yCenter = (innerHeight / 2) - (height / 2);\n    switch (initialPosition) {\n        case 'top-left':\n        default:\n            return { x: 10, y: 10 };\n        case 'top-center':\n            return { x: xCenter, y: 10 };\n        case 'bottom-center':\n            return { x: xCenter, y: Infinity };\n        case 'top-right':\n            return { x: Infinity, y: 10 };\n        case 'bottom-left':\n            return { x: 10, y: Infinity };\n        case 'bottom-right':\n            return { x: Infinity, y: Infinity };\n        case 'center':\n            return { x: xCenter, y: yCenter };\n    }\n};\n\nexport var isInView = function(coords, size){\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var left = x, right = x + width, top = y, bottom = y + height;\n\n    var result = left < innerWidth && right > 0 && bottom > 0 && top < innerHeight\n    return result\n}\n","var Stacker = (function () {\n    function Stacker() {\n    }\n    Stacker.getNextIndex = function (index) {\n        if (index === Stacker.maxIndex) {\n            return index;\n        }\n        Stacker.maxIndex++;\n        return Stacker.maxIndex;\n    };\n    Stacker.maxIndex = 100;\n    return Stacker;\n}());\nexport { Stacker };\n","export const globals = {\n  defaultEditorWidth: 225,\n  defaultVarEditorHeight: 200,\n  defaultEditorHeight:200,\n  defaultIframeWidth: 200,\n  iframeMargin: 8,\n  headerHeight: 30,\n  brHeight: 25,\n  codeSize: 14,\n  buttonTextSize: 12,\n  bigCodeSize:28,\n  fnTitleHeight: 90,\n  copyOffset: 17,\n  iconOpacity:.5,\n  iconSize:15,\n  iconTransition: \"all .3s ease\",\n  borderTransition: \"border .3s ease-out\",\n\n  specialFns: {\n    draw:           true,\n    preload:        true,\n    setup:          true,\n    \n    windowResized:  false,\n    deviceMoved:  false,\n    deviceTurned: false,\n    deviceShaken: false,\n\n    keyPressed: false,\n    keyReleased:  false,\n    keyTyped: false,\n\n    mouseMoved: false,\n    mouseDragged: false,\n\n    mousePressed: false,\n    mouseReleased:  false,\n    mouseClicked: false,\n    doubleClicked:  false,\n    \n    mouseWheel: false,\n  },\n\n  fnStampWidth:     557,\n  fnStampHeight:    318\n\n};\n\nexport const p5Lib = [\n\"abs()\",\n\"acos()\",\n\"alpha(color)\",\n\"ambient(color)\",\n\"ambientLight(r,g,b)\",\n\"append(array,value)\",\n\"applyMatrix(n00,n01,n02,n03,n10,n11,n12,n13,n20,n21,n22,n23,n30,n31,n32,n33)\",\n\"arc(x,y,width,start,stop)\",\n\"arrayCopy(src,dst,(length))\",\n\"asin()\",\n\"atan()\",\n\"atan2()\",\n\"background(color)\",\n\"beginCamera()\",\n\"beginContour()\",\n\"beginRaw(renderer,filename)\",\n\"beginRecord(renderer,filename)\",\n\"beginShape()\",\n\"bezier(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"bezierDetail(detail)\",\n\"bezierPoint(a,b,c,d,t)\",\n\"bezierTangent(a,b,c,d,t)\",\n\"bezierVertex(x2,y2,x3,y3,x4,y4)\",\n\"binary(value,(digits))\",\n\"blend(sx,sy,sw,sh,dx,dy,dw,dh,mode)\",\n\"blendMode(mode)\",\n\"blue(color)\",\n\"boolean(value)\",\n\"box(size)\",\n\"brightness(color)\",\n\"byte(value)\",\n\"camera(eyeX,eyeY,eyeZ,centerX,centerY,centerZ,upX,upY,upZ)\",\n\"ceil()\",\n\"char(value)\",\n\"clear()\",\n\"color(color)\",\n\"colorMode(mode)\",\n\"concat(a,b)\",\n\"constrain()\",\n\"copy(sx,sy,sw,sh,dx,dy,dw,dh)\",\n\"cos()\",\n\"createFont(name,size)\",\n\"createGraphics(w,h)\",\n\"createImage(w,h,format)\",\n\"createInput(filename)\",\n\"createOutput(filename)\",\n\"createReader(filename)\",\n\"createShape(kind,parameters)\",\n\"createWriter(filename)\",\n\"cursor(img)\",\n\"curve(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"curveDetail(detail)\",\n\"curvePoint(a,b,c,d,t)\",\n\"curveTangent(a,b,c,d,t)\",\n\"curveTightness(tightness)\",\n\"curveVertex(x,y)\",\n\"day()\",\n\"degrees()\",\n\"directionalLight(r,g,b,nx,ny,nz)\",\n\"displayDensity()\",\n\"dist()\",\n\"ellipse(x,y,width,height)\",\n\"ellipseMode(mode)\",\n\"emissive(color)\",\n\"endCamera()\",\n\"endContour()\",\n\"endRaw()\",\n\"endRecord()\",\n\"endShape()\",\n\"exp()\",\n\"expand(list,(newSize))\",\n\"fill(color)\",\n\"filter(shader)\",\n\"float(value)\",\n\"floor()\",\n\"frameRate(fps)\",\n\"frustum(left,right,bottom,top,near,far)\",\n\"fullScreen(renderer)\",\n\"get(x,y)\",\n\"green(color)\",\n\"hex(value,(digits))\",\n\"hour()\",\n\"hue(color)\",\n\"image(image,x,y)\",\n\"imageMode(mode)\",\n\"int(value)\",\n\"join(list,seperator)\",\n\"launch(args)\",\n\"lerp()\",\n\"lerpColor(color1,color2,amount)\",\n\"lightFalloff(constant,linear,quadratic)\",\n\"lights()\",\n\"lightSpecular(r,g,b)\",\n\"line(x1,y1,x2,y2)\",\n\"loadBytes(filename)\",\n\"loadFont(filename)\",\n\"loadImage(filename)\",\n\"loadPixels()\",\n\"loadShader(fragFilename,(vertFilename))\",\n\"loadShape(filename)\",\n\"loadStrings(filename)\",\n\"loadTable(filename,(options))\",\n\"loadXML(filename)\",\n\"log()\",\n\"mag()\",\n\"map()\",\n\"match(string,regexp)\",\n\"matchAll(string,regexp)\",\n\"max()\",\n\"millis()\",\n\"min()\",\n\"minute()\",\n\"modelX(x,y,z)\",\n\"modelY(x,y,z)\",\n\"modelZ(x,y,z)\",\n\"month()\",\n\"nf(num,digits)\",\n\"nfc(num,(right))\",\n\"nfp(num,(digits))\",\n\"nfs(num,digits)\",\n\"noCursor()\",\n\"noCursor()\",\n\"noFill()\",\n\"noise()\",\n\"noiseDetail()\",\n\"noiseSeed()\",\n\"noLights()\",\n\"norm()\",\n\"normal(nx,ny,nz)\",\n\"noSmooth()\",\n\"noStroke()\",\n\"noTint()\",\n\"ortho(left,right,bottom,top)\",\n\"parseXML(string,(options))\",\n\"perspective(fovy,aspect,zNear,zFar)\",\n\"pixelDensity(density)\",\n\"point(x,y)\",\n\"pointLight(r,g,b,x,y,z)\",\n\"popMatrix()\",\n\"pow()\",\n\"print(variables)\",\n\"printArray(array)\",\n\"printCamera()\",\n\"println(variables)\",\n\"printMatrix()\",\n\"printProjection()\",\n\"pushMatrix()\",\n\"quad(x,y,x2,y2,x3,y3,x4,y4)\",\n\"quadraticVertex(x,y,x2,y2)\",\n\"radians()\",\n\"random()\",\n\"randomGaussian()\",\n\"randomSeed()\",\n\"rect(x,y,width,height)\",\n\"rectMode(mode)\",\n\"red(color)\",\n\"requestImage(filename)\",\n\"resetMatrix()\",\n\"resetShader()\",\n\"reverse(list)\",\n\"rotate(angle)\",\n\"rotateX(angle)\",\n\"rotateY(angle)\",\n\"rotateZ(angle)\",\n\"round()\",\n\"saturation(color)\",\n\"save(filename)\",\n\"saveBytes(filename,data)\",\n\"saveFrame(filename####)\",\n\"saveStream(target,source)\",\n\"saveStrings(filename,data)\",\n\"saveTable(table,filename,(options))\",\n\"saveXML(xml,filename,(options))\",\n\"scale(s)\",\n\"screenX(x,y)\",\n\"screenY(x,y)\",\n\"screenZ(x,y)\",\n\"second()\",\n\"selectFolder(prompt,callback)\",\n\"selectInput(prompt,callback)\",\n\"selectOutput(prompt,callback)\",\n\"set(x,y,color)\",\n\"shader(shader)\",\n\"shape(shape,x,y)\",\n\"shapeMode(mode)\",\n\"shearX(angle)\",\n\"shearY(angle)\",\n\"shininess(shine)\",\n\"shorten(list)\",\n\"sin()\",\n\"size(width,height,renderer)\",\n\"smooth()\",\n\"sort(list,(count))\",\n\"specular(color)\",\n\"sphere(radius)\",\n\"sphereDetail(res)\",\n\"splice(list,value,index)\",\n\"split(value,digits)\",\n\"splitTokes(value,(delim))\",\n\"spotLight(r,g,b,x,y,z,nx,ny,nz,angle,concentration)\",\n\"sq()\",\n\"sqrt()\",\n\"string(value)\",\n\"stroke(color)\",\n\"strokeCap(cap)\",\n\"strokeJoin(join)\",\n\"strokeWeight(weight)\",\n\"subset(list,start,(count))\",\n\"tan()\",\n\"text(string,x,y)\",\n\"textAlign(alignX,(alignY))\",\n\"textAscent()\",\n\"textDescent()\",\n\"textFont(font,(size))\",\n\"textLeading(leading)\",\n\"textMode(mode)\",\n\"textSize(size)\",\n\"texture(image)\",\n\"textureMode(mode)\",\n\"textureWrap(wrap)\",\n\"textWidth(string)\",\n\"tint(color)\",\n\"translate(x,y)\",\n\"triangle(x1,y1,x2,y2,x3,y3)\",\n\"trim(string)\",\n\"unbinary(value)\",\n\"unhex(value)\",\n\"updatePixels()\",\n\"vertex(x,y)\",\n\"year()\",\n\"HALF_PI\",\n\"PI\",\n\"QUARTER_PI\",\n\"TAU\",\n\"TWO_PI\",\n\"frameCount\",\n\"deltaTime\",\n\"focused\",\n\"displayWidth\",\n\"displayHeight\",\n\"windowWidth\",\n\"windowHeight\",\n\"width\",\n\"height\",\n\"disableFriendlyErrors\",\n\"p5.Element\",\n\"VIDEO\",\n\"AUDIO\",\n\"p5.MediaElement\",\n\"p5.File\",\n\"p5.Graphics\",\n\"p5.TypedDict\",\n\"p5.NumberDict\",\n\"deviceOrientation\",\n\"accelerationX\",\n\"accelerationY\",\n\"accelerationZ\",\n\"pAccelerationX\",\n\"pAccelerationY\",\n\"pAccelerationZ\",\n\"rotationX\",\n\"rotationY\",\n\"rotationZ\",\n\"pRotationX\",\n\"pRotationY\",\n\"pRotationZ\",\n\"turnAxis\",\n\"keyIsPressed\",\n\"key\",\n\"keyCode\",\n\"movedX\",\n\"movedY\",\n\"mouseX\",\n\"mouseY\",\n\"pmouseX\",\n\"pmouseY\",\n\"winMouseX\",\n\"winMouseY\",\n\"pwinMouseX\",\n\"pwinMouseY\",\n\"mouseButton\",\n\"mouseIsPressed\",\n\"DEGREES\",\n\"RADIANS\",\n\"CORNER\",\n\"CORNERS\",\n\"CENTER\",\n\"RADIUS\",\n\"exitPointerLock()\",\n\"angleMode(mode)\",\n\"touches\",\n\"touchStarted(fxn)\",\n\"touchMoved(fxn)\",\n\"touchEnded(fxn)\",\n\"saveCanvas(selectedCanvas, [filename], [extension])\",\n\"saveCanvas([filename], [extension])\",\n\"saveFrames(filename, extension, duration, framerate, [callback])\",\n\"pixels\",\n\"loadJSON(path, [jsonpOptions], [datatype], [callback], [errorCallback])\",\n\"loadJSON(path, datatype, [callback], [errorCallback])\",\n\"loadJSON(path, callback, [errorCallback])\",\n\"httpGet(path, [datatype], [data], [callback], [errorCallback])\",\n\"httpGet(path, data, [callback], [errorCallback])\",\n\"httpGet(path, callback, [errorCallback])\",\n\"httpPost(path, [datatype], [data], [callback], [errorCallback])\",\n\"httpPost(path, data, [callback], [errorCallback])\",\n\"httpPost(path, callback, [errorCallback])\",\n\"httpDo(path, [method], [datatype], [data], [callback], [errorCallback])\",\n\"httpDo(path, options, [callback], [errorCallback])\",\n\"saveJSON(json, filename, [optimize])\",\n\"createVector([x], [y], [z])\",\n\"textStyle(theStyle)\",\n\"orbitControl([sensitivityX], [sensitivityY], [sensitivityZ])\",\n\"debugMode()\",\n\"debugMode(mode)\",\n\"debugMode(mode, [gridSize], [gridDivisions], [xOff], [yOff], [zOff])\",\n\"debugMode(mode, [axesSize], [xOff], [yOff], [zOff])\",\n\"debugMode([gridSize], [gridDivisions], [gridXOff], [gridYOff], [gridZOff], [axesSize], [axesXOff], [axesYOff], [axesZOff])\",\n\"noDebugMode()\",\n\"specularColor(v1, v2, v3)\",\n\"specularColor(value)\",\n\"specularColor(gray)\",\n\"specularColor(values)\",\n\"specularColor(color)\",\n\"createShader(vertSrc, fragSrc)\",\n\"normalMaterial()\",\n\"ambientMaterial(v1, [v2], [v3], [a])\",\n\"ambientMaterial(color)\",\n\"emissiveMaterial(v1, [v2], [v3], [a])\",\n\"emissiveMaterial(color)\",\n\"specularMaterial(v1, [v2], [v3], [a])\",\n\"specularMaterial(color)\",\n\"createCamera()\",\n\"setCamera(cam)\"\n];\n\nexport default function DefaultExportPlaceholder() {\n  return null;\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Component } from \"react\";\nimport {\n  Wrapper,\n  Header,\n  BottomRightResizeHandle,\n  BottomLeftResizeHandle,\n  RightResizeHandle,\n  BottomResizeHandle,\n  LeftResizeHandle,\n  ContentWrapper,\n  padding,\n  Title,\n  minWidth,\n  minHeight\n} from \"./styled\";\nimport { isSmartPosition } from \"./domain\";\nimport {\n  getCordsFromInitialPosition,\n  getBoundaryCoords,\n  isInView\n} from \"./utils\";\nimport { Stacker } from \"./stacker\";\nimport styled from \"styled-components\";\nimport DeleteStampIcon from \"./../../../icons/trash.svg\";\nimport CopyIcon from \"./../../../icons/copy.svg\";\nimport ClearConsoleIcon from \"./../../../icons/slash.svg\";\nimport MinimzeIcon from \"@material-ui/icons/MinimizeOutlined\";\nimport \"./../../../App.scss\";\nimport $ from \"jquery\";\nimport pf, { globals, p5Lib } from \"./../../../globals.js\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nvar __extends =\n  (this && this.__extends) ||\n  (function() {\n    var extendStatics =\n      Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array &&\n        function(d, b) {\n          d.__proto__ = b;\n        }) ||\n      function(d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n    return function(d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype =\n        b === null\n          ? Object.create(b)\n          : ((__.prototype = b.prototype), new __());\n    };\n  })();\n\nvar Cristal = (function(_super) {\n  __extends(Cristal, _super);\n  function Cristal() {\n    var _this = (_super !== null && _super.apply(this, arguments)) || this;\n    _this.state = {\n      x: padding,\n      y: padding,\n      isDragging: false,\n      isResizingX: false,\n      isResizingY: false,\n      isResizingXLeft: false,\n      zIndex: Stacker.getNextIndex(),\n      downKey: -1,\n      isMoving: false,\n      mouseIsDown: false,\n      scale: 1,\n      panDisabled: false,\n      originalHeight: null,\n      mouseWheelTimeout: null,\n      zoomDisabled: false\n    };\n\n    _this.space = 32;\n    _this.opt = 18;\n    _this.cmd = 91\n    _this.plus = 187\n    _this.minus = 189\n    _this.zero = 48\n    _this.onWindowResize = function() {\n      var _a = _this.state,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n      var size = width && height ? { width: width, height: height } : undefined;\n      var _b = getBoundaryCoords({ x: x, y: y }, size),\n        newX = _b.x,\n        newY = _b.y;\n      _this.setState({\n        x: newX,\n        y: newY\n      });\n    };\n    _this.saveWrapperRef = function(el) {\n      _this.childrenElement = el;\n      if (!_this.childrenElement) return;\n      var initialSize = _this.props.initialSize;\n      var width, height;\n      if (initialSize) {\n        var rect = _this.childrenElement.getBoundingClientRect();\n        if(initialSize.width){\n          width = initialSize.width\n        }else{\n          width = rect.width;\n        }\n        if(initialSize.height){\n          height = initialSize.height\n        }else{\n          height = rect.height;\n        }\n      } else {\n        var rect = _this.childrenElement.getBoundingClientRect();\n        width = rect.width;\n        height = rect.height;\n      }\n      if (_this.props.initialScale) {\n        _this.setState({ scale: _this.props.initialScale });\n      }\n      _this.setState({ width: width, height: height, originalHeight: height });\n      _this.setInitialPosition({ width: width, height: height });\n    };\n    _this.setInitialPosition = function(size) {\n      var initialPosition = _this.props.initialPosition;\n\n      if (!initialPosition) return;\n      var cords;\n      if (isSmartPosition(initialPosition)) {\n        cords = getCordsFromInitialPosition(initialPosition, size);\n      } else {\n        cords = initialPosition;\n      }\n      // var _a = getBoundaryCoords(cords, size),\n      //   x = _a.x,\n      //   y = _a.y;\n      _this.setState({ x: cords.x, y: cords.y });\n    };\n    _this.saveHeaderRef = function(el) {\n      _this.headerElement = el;\n    };\n\n    _this.onKeyDown = function(e) {\n\n      if (e.keyCode === _this.space) {\n        document.body.style.cursor = \"grab\";\n      }\n\n      if(_this.state.downKey === _this.cmd){\n        if(e.keyCode === _this.zero){\n           e.preventDefault()\n          _this.zoom(1, window.innerWidth/2, window.innerHeight/2, true)\n        }else if(e.keyCode === _this.plus){\n           e.preventDefault()\n          _this.zoom(_this.state.scale * 2, window.innerWidth/2, window.innerWidth/2, true)\n        }else if(e.keyCode === _this.minus){\n           e.preventDefault()\n          _this.zoom(_this.state.scale * .5, window.innerWidth/2, window.innerWidth/2, true)\n        }\n      }else{\n        _this.setState({ downKey: e.keyCode });\n      }\n \n    };\n\n    _this.onKeyUp = function(e) {\n      _this.setState({ downKey: -1 });\n      document.body.style.cursor = \"auto\";\n    };\n\n    _this.onMouseDown = function() {\n      var isDraggable = _this.props.isDraggable;\n      if (!isDraggable) return;\n\n      _this.setState({\n        isDragging: true\n      });\n    };\n\n    _this.disablePan = function(status) {\n      _this.setState({ panDisabled: status });\n    };\n\n    _this.disableZoom = function(status) {\n      _this.setState({ zoomDisabled: status });\n    };\n\n    _this.setPos = function(xDiff, yDiff){\n      _this.setState({ x: this.state.x + xDiff, y:this.state.y + yDiff});\n    }\n\n    _this.pan = function(changeX, changeY) {\n\n      if (_this.state.panDisabled) {\n        return;\n      }\n            ipc && ipc.send(\"edited\");\n      var _a = _this.state,\n        currentX = _a.x,\n        currentY = _a.y;\n      var newX = currentX + changeX;\n      var newY = currentY + changeY;\n      _this.setState({ x: newX, y: newY }, () => _this.onStartMove(true));\n    };\n\n    _this.manualResize = function(widthDiff, heightDiff) {\n      var width = _this.state.width,\n        height = _this.state.height,\n        originalHeight = _this.state.originalHeight;\n\n      _this.setState({ width: width + widthDiff });\n    };\n\n    _this.zoom = function(\n      newScale,\n      mouseX,\n      mouseY,\n      manual = false,\n      center = false\n    ) {\n      if(_this.state.zoomDisabled){\n        return\n      }\n\n      ipc && ipc.send(\"edited\");\n\n      var scale = _this.state.scale,\n        x = _this.state.x,\n        y = _this.state.y,\n        width = _this.state.width,\n        height = _this.state.height;\n\n      if (newScale < 0.1) {\n        return;\n      }\n\n      var curDistX = mouseX - x,\n        curDistY = mouseY - y;\n\n      var unScaledDistX = curDistX / scale,\n        unScaledDistY = curDistY / scale;\n\n      var scaledDistX = unScaledDistX * newScale,\n        scaledDistY = unScaledDistY * newScale;\n\n      if (center) {\n        var newOriginX = window.innerWidth / 2,\n          newOriginY = window.innerHeight / 2;\n      } else {\n        var newOriginX = mouseX,\n          newOriginY = mouseY;\n      }\n      var newX = newOriginX - scaledDistX,\n        newY = newOriginY - scaledDistY;\n\n      if (manual) {\n        _this.setState({ scale: newScale }, () =>\n          _this.setState({ x: newX, y: newY }, () => _this.notifyStopMove())\n        );\n      } else {\n        _this.setState({ scale: newScale }, () =>\n          _this.setState({ x: newX, y: newY }, () => _this.onStartMove(true))\n        );\n      }\n    };\n\n    _this.onWheel = function(e) {\n\n      if (_this.state.mouseWheelTimeout) {\n        clearTimeout(_this.state.mouseWheelTimeout);\n      }\n      var newTimeOut = setTimeout(_this.onStoppedMove.bind(_this), 250);\n      _this.setState({ mouseWheelTimeout: newTimeOut });\n      if (e.ctrlKey) {\n        e.preventDefault()\n        _this.zoom(_this.state.scale - e.deltaY * 0.01, e.clientX, e.clientY);\n      } else {\n        // if(Math.abs(e.deltaY) < 10){\n        //   e.preventDefault()\n        //   console.log(e.deltaY)\n        // }\n        if (_this.props.panDisabled) {\n          return;\n        }\n        _this.pan(-e.deltaX, -e.deltaY);\n      }\n    };\n    _this.onGlobalMouseDown = function(e) {\n      _this.setState({ mouseIsDown: true });\n    };\n    _this.onMouseMove = function(e) {\n      var isResizing = _this.isResizing;\n\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX,\n        movementY = e.movementY;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX;\n      var newY = currentY + movementY;\n\n      if (_this.state.downKey === _this.space && _this.state.mouseIsDown) {\n        _this.pan(e.movementX, e.movementY);\n\n        return;\n      } else if (isDragging) {\n        ipc && ipc.send(\"edited\");\n        var size =\n          currentWidth && currentHeight\n            ? { width: currentWidth, height: currentHeight }\n            : undefined;\n        var _b = getBoundaryCoords({ x: newX, y: newY }, size),\n          x = _b.x,\n          y = _b.y;\n        _this.setState({ x: newX, y: newY }, _this.onStartMove);\n        return;\n      } else if (isResizing) {\n        ipc && ipc.send(\"edited\");\n        _this.resizeCristal(e);\n      }\n    };\n\n    _this.resizeCristal = function(e) {\n      var isResizing = _this.isResizing;\n      var scale = _this.state.scale;\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX / scale,\n        movementY = e.movementY / scale;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX;\n      var newY = currentY + movementY;\n      var _c = _this.state,\n        isResizingX = _c.isResizingX,\n        isResizingY = _c.isResizingY,\n        isResizingXLeft = _c.isResizingXLeft;\n\n      var height = currentHeight;\n      var width = currentWidth;\n      var x = currentX;\n\n      if (isResizingX) {\n        var newWidth = (currentWidth || 0) + movementX;\n        var width = Math.max(newWidth, minWidth);\n      }\n      if (isResizingXLeft) {\n        var newWidth = (currentWidth || 0) - movementX;\n        var width = Math.max(newWidth, minWidth);\n        var x = currentX + e.movementX;\n      }\n      if (isResizingY) {\n        var newHeight = (currentHeight || 0) + movementY;\n        var height = Math.max(newHeight, minHeight);\n      }\n\n      _this.notifyResize(width, height, x);\n    };\n\n    _this.onStoppedMove = function() {\n      if (this.state.isMoving) {\n        _this.notifyStopMove();\n      }\n\n      _this.setState({ isMoving: false });\n    };\n\n    _this.onStartMove = function(panning = false) {\n      _this.notifyMove();\n      if (_this.state.isMoving === false) {\n        _this.notifyStartMove();\n        if (_this.state.downKey === _this.opt && panning === false) {\n          _this.notifyOptMove();\n        }\n      }\n      _this.setState({ isMoving: true });\n    };\n    _this.notifyMove = function() {\n      var onMove = _this.props.onMove;\n      onMove && onMove(_this.state);\n    };\n    _this.notifyResize = function(newWidth, newHeight, newX) {\n      var onResize = _this.props.onResize;\n      var heightDiff = newHeight - _this.state.height;\n      var widthDiff = newWidth - _this.state.width;\n      var resizeBlocked = false;\n      if (onResize) {\n        var resizeBlocked = onResize(widthDiff, heightDiff);\n      }\n      if (!resizeBlocked) {\n        _this.setState({ height: newHeight, width: newWidth, x: newX });\n      }\n    };\n\n    _this.notifyStartMove = function() {\n      var onStartMove = _this.props.onStartMove;\n      onStartMove && onStartMove(_this.state);\n    };\n    _this.notifyStopMove = function() {\n      var onStopMove = _this.props.onStopMove;\n      onStopMove && onStopMove(_this.state);\n    };\n    _this.notifyOptMove = function() {\n      var onOptMove = _this.props.onOptMove;\n      onOptMove && onOptMove(_this.state);\n    };\n    _this.notifyStartResize = function() {\n      var onStartResize = _this.props.onStartResize;\n      onStartResize && onStartResize(_this.state);\n    };\n    _this.notifyStopResize = function() {\n      var onStopResize = _this.props.onStopResize;\n      onStopResize && onStopResize(_this.state);\n    };\n\n    _this.onMouseUp = function() {\n      _this.onStoppedMove();\n      if (\n        _this.state.isResizingY ||\n        _this.state.isResizingX ||\n        _this.state.isResizingXLeft\n      ) {\n        _this.notifyStopResize();\n      }\n      _this.setState({\n        isDragging: false,\n        isResizingX: false,\n        isResizingXLeft: false,\n        isResizingY: false,\n        mouseIsDown: false\n      });\n    };\n    _this.startFullResize = function() {\n      _this.notifyStartResize();\n      _this.setState({\n        isResizingX: true,\n        isResizingY: true\n      });\n    };\n    _this.startFullLeftResize = function() {\n      _this.notifyStartResize();\n      _this.setState({\n        isResizingXLeft: true,\n        isResizingY: true\n      });\n    };\n    _this.startXResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingX: true });\n    };\n    _this.startXLeftResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingXLeft: true });\n    };\n    _this.startYResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingY: true });\n    };\n    _this.renderResizeHandles = function() {\n      var isResizable = _this.props.isResizable;\n      if (!isResizable) return;\n\n      var scale = _this.state.scale;\n      var height = _this.state.height;\n      var width = _this.state.width;\n      return [\n        React.createElement(RightResizeHandle, {\n          key: \"right-resize\",\n          onMouseDown: _this.startXResize,\n          style: {\n            width: 20 / scale,\n            bottom: 20 / scale,\n            height: height - 30 - 20 / scale\n          }\n        }),\n        React.createElement(LeftResizeHandle, {\n          key: \"left-resize\",\n          onMouseDown: _this.startXLeftResize,\n          style: {\n            width: 20 / scale,\n            bottom: 20 / scale,\n            height: height - 30 - 20 / scale\n          }\n        }),\n        React.createElement(BottomRightResizeHandle, {\n          key: \"bottom-right-resize\",\n          onMouseDown: _this.startFullResize,\n          style: { width: 20 / scale, height: 20 / scale }\n        }),\n        React.createElement(BottomLeftResizeHandle, {\n          key: \"bottom-left-resize\",\n          onMouseDown: _this.startFullLeftResize,\n          style: { width: 20 / scale, height: 20 / scale }\n        }),\n        React.createElement(BottomResizeHandle, {\n          key: \"bottom-resize\",\n          onMouseDown: _this.startYResize,\n          style: {\n            height: 20 / scale,\n            left: 20 / scale,\n            width: width - (2 * 20) / scale\n          }\n        })\n      ];\n    };\n\n    _this.changeZIndex = function() {\n      var zIndex = _this.state.zIndex;\n      _this.setState({\n        zIndex: Stacker.getNextIndex(zIndex)\n      });\n    };\n    return _this;\n  }\n  Cristal.prototype.componentDidMount = function() {\n    document.addEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    document.addEventListener(\"wheel\", this.onWheel, { passive: false });\n\n    ipc &&\n      ipc.on(\"zoomIn\", () => {\n        this.zoom(this.state.scale * 2, window.innerWidth/2, window.innerHeight/2,\n          true)\n      })\n\n    ipc &&\n      ipc.on(\"zoomOut\", () => {\n        this.zoom(this.state.scale * .5, window.innerWidth/2, window.innerHeight/2,\n          true)\n      })\n\n      ipc &&\n      ipc.on(\"zoomActual\", () => {\n        this.zoom(1, window.innerWidth/2, window.innerHeight/2,\n          true)\n      })\n\n    // window.addEventListener('resize', this.onWindowResize);\n  };\n  Cristal.prototype.componentWillUnmount = function() {\n    document.removeEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    document.removeEventListener(\"wheel\", this.onWheel);\n    // window.removeEventListener('resize', this.onWindowResize);\n  };\n  Object.defineProperty(Cristal.prototype, \"isResizing\", {\n    get: function() {\n      var _a = this.state,\n        isResizingX = _a.isResizingX,\n        isResizingY = _a.isResizingY,\n        isResizingXLeft = _a.isResizingXLeft;\n      return isResizingX || isResizingY || isResizingXLeft;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  function createIcon(\n    _this,\n    iconType,\n    hiddenFlag = false,\n    classVal = \"\",\n    callBack = null\n  ) {\n    if (hiddenFlag) {\n      return null;\n    }\n\n    var uniqueClass = classVal +  _this.props.parentID.toString()\n    var mouseOverCallback = () => {\n      $(\".\" + uniqueClass).css({opacity: \"1\"})\n    };\n\n    var mouseOutCallback = () => {\n      $(\".\" + uniqueClass).css({opacity: globals.iconOpacity})\n    };\n    var opacity = globals.iconOpacity\n    if (!callBack) {\n      mouseOverCallback = () => {};\n      mouseOutCallback = () => {};\n      opacity = globals.iconOpacity\n    }\n\n\n    return React.createElement(\"img\", {\n      onClick: callBack,\n      style: { opacity: opacity, height: globals.iconSize, width: globals.iconSize },\n      className: \"text-greyIcon m-1 \" + uniqueClass ,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback, \n      src:iconType\n    });\n  }\n\n  Object.defineProperty(Cristal.prototype, \"header\", {\n    get: function() {\n      var _a = this.props,\n        title = _a.title,\n        isDraggable = _a.isDraggable,\n        onClose = _a.onClose,\n        closeHidden = _a.closeHidden,\n        onCopy = _a.onCopy,\n        copyHidden = _a.copyHidden;\n\n      var closeBtn = createIcon(\n        this,\n        DeleteStampIcon,\n        closeHidden,\n        \"mouseOnClose\",\n        onClose\n      );\n      var copyBtn = createIcon(\n        this,\n        CopyIcon,\n        copyHidden,\n        \"mouseOnCopy\",\n        onCopy\n      );\n      var clearBtn = createIcon(\n        this,\n        ClearConsoleIcon,\n        !_a.showClear,\n        \"mousOnClear\",\n        _a.onClear\n      );\n\n      if(_a.onMinimize){\n      var minimizeBtn = createIcon(\n        this,\n        MinimzeIcon,\n        _a.onMinimize === null,\n        \"mouseOnMinimize\",\n        _a.onMinimize\n      );        \n      }\n\n      var titleIcon = null;\n      if (this.props.icon) {\n        var titleIcon = createIcon(this, this.props.icon);\n      }\n\n      var makeBigIcon = createIcon(this, \n        _a.makeBigIcon, \n        !_a.showMakeBig, \"mouseOnBig\",\n         _a.onMakeBig )\n\n      var sideButtons = (\n        <div\n          class=\"row mt-1\"\n          style={{ position: \"absolute\", cursor: \"auto\", right: 18, top: 0 }}\n        >\n          {makeBigIcon}\n          {copyBtn}\n          {closeBtn}\n          {clearBtn}\n          {minimizeBtn}\n        </div>\n      );\n\n      return React.createElement(\n        Header,\n        {\n          className: \"bg-white rounded-top\",\n          isDraggable: isDraggable,\n          ref: this.saveHeaderRef,\n          onMouseDown: this.onMouseDown\n        },\n        titleIcon,\n        sideButtons\n      );\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Cristal.prototype, \"content\", {\n    get: function() {\n      var children = this.props.children;\n      return React.createElement(ContentWrapper, {}, children);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Cristal.prototype.render = function() {\n    var isResizing = this.isResizing;\n    var _a = this.state,\n      x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height,\n      isDragging = _a.isDragging,\n      zIndex = _a.zIndex,\n      scale = _a.scale;\n    var className = this.props.className;\n    var isActive = isDragging || isResizing;\n    var style = {\n      left: x,\n      top: y,\n      width: width,\n      height: height,\n      zIndex: zIndex,\n      transform: \"scale(\" + scale.toString() + \")\",\n      transformOrigin: \"top left\",\n      border: this.props.border,\n      outline: this.props.outline\n    };\n\n    var HeaderComponent = this.header;\n    var ContentComponent = this.content;\n    if (this.props.headerHidden) {\n      HeaderComponent = null;\n    }\n\n    return ReactDOM.createPortal(\n      React.createElement(\n        Wrapper,\n        {\n          style: style,\n          ref: this.saveWrapperRef,\n          isActive: isActive,\n          className: className + \" rounded \" + this.props.wrapperName,\n          onMouseDown: this.changeZIndex\n        },\n        <div>{HeaderComponent}</div>,\n        ContentComponent,\n        this.renderResizeHandles()\n      ),\n      document.body\n    );\n  };\n  Cristal.defaultProps = {\n    children: null,\n    isResizable: true,\n    isDraggable: true\n  };\n  return Cristal;\n})(Component);\nexport { Cristal };\n","import * as React from 'react';\nimport { Component } from 'react';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalContent = (function (_super) {\n    __extends(CristalContent, _super);\n    function CristalContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalContent.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom Content\");\n    };\n    return CristalContent;\n}(Component));\nexport { CristalContent };\n","import * as React from 'react';\nimport { Component } from 'react';\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalHeader = (function (_super) {\n    __extends(CristalHeader, _super);\n    function CristalHeader() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalHeader.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom header\");\n    };\n    return CristalHeader;\n}(Component));\nexport { CristalHeader };\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\n\nimport FunctionStampIcon from \"./icons/box.svg\";\nimport CssStampIcon from \"./icons/pen-tool.svg\";\nimport HtmlStampIcon from \"./icons/layout.svg\";\nimport BuiltInStampIcon from \"./icons/tool.svg\";\nimport ListenerStampIcon from \"./icons/bell.svg\";\n\nimport \"./theme-p5.js\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\nimport { Resizable, ResizableBox } from \"react-resizable\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class FunctionStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      name: this.props.starterName,\n      args: this.props.starterArgs,\n      iframeDisabled: this.props.iframeDisabled,\n      iframeWidth: this.props.starterIframeWidth,\n      iframeHeight: 0,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      editorHidden: false,\n      isSpecialFn: false,\n      editorScrolling: false,\n      errorLines: this.props.errorLines,\n      iframeCode: \"\",\n      editsMade: false,\n      runningBorder: false,\n      doubleClickActive: false,\n      resizingIframe: false,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y,\n      originX: this.props.initialOriginX,\n      originY: this.props.initialOriginY,\n      scale: this.props.initialScale,\n      hidden: this.props.initialHidden,\n      looping:false,\n      loopingTransition:\"\"\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n\n  this.updateLooping = this.updateLooping.bind(this)\n  }\n\n  toggleHide(scale, originX, originY, callback) {\n    if (this.state.hidden) {\n      var distFromOriginX =\n        (this.state.originX - this.state.x) / this.state.scale;\n      var distFromOriginY =\n        (this.state.originY - this.state.y) / this.state.scale;\n      var x = originX - distFromOriginX * scale;\n      var y = originY - distFromOriginY * scale;\n      var iframeHeight = this.state.iframeHeight\n      this.setState({ hidden: false, scale: scale, x: x, y: y, savedIframeHeight:iframeHeight, iframeHeight:0 }, \n        () => this.setState({iframeHeight:this.state.savedIframeHeight}, callback)\n\n      )\n\n    } else {\n      this.setState(\n        { hidden: true, originX: originX, originY: originY, scale: scale},\n        callback\n      );\n    }\n  }\n\n  updateLooping(e){\n\n      if(e.data.type != \"loop\" || e.data.id != this.props.id){\n        return\n      }\n      if(e.data.message === \"start\"){\n\n  \n        this.setState({looping : true, loopingTransition : \"\"})\n      }else if (e.data.message === \"stop\"){\n\n        this.setState({looping : false, loopingTransition:\"all 1s ease-in\"})\n      }\n  }\n\n  componentDidMount() {\n    // this.loadp5Lib()\n    this.setState({ \n      iframeHeight: this.props.starterIframeHeight }, () =>\n      this.props.requestCompile(this.props.id)\n    );\n    this.checkName();\n    window.addEventListener(\"message\", this.updateLooping);\n\n  }\n\n  componentWillUnmount(){\n\n    window.removeEventListener(\"message\", this.updateLooping);\n  }\n\n  checkName() {\n    var isSpecialFn = this.state.name in globals.specialFns;\n    this.setState({ isSpecialFn: isSpecialFn });\n  }\n\n  addErrorLine(lineNum) {\n    var errorLines = this.state.errorLines;\n    errorLines[lineNum] = \"\";\n    this.setState({ errorLines: errorLines });\n  }\n\n  clearErrorsAndUpdate(newErrors = []) {\n    var newErrorLines = this.state.errorLines;\n    var newErrorLines = {};\n\n    this.setState({ errorLines: newErrorLines }, () => {\n      this.setState({ iframeCode: this.props.getHTML(this.props.id), looping:true, loopingTransition:\"\" });\n      for (var i = 0; i < newErrors.length; i++) {\n        this.addErrorLine(newErrors[i]);\n      }\n    });\n  }\n\n  loadp5Lib() {\n    this.editorRef.current &&\n    this.editorRef.current.editor.completers.push({\n      getCompletions: function(editor, session, pos, prefix, callback) {\n        var completions = [];\n        p5Lib.forEach(function(w) {\n          completions.push({\n            value: w,\n            meta: \"p5.js\"\n          });\n        });\n        callback(null, completions);\n      }\n    });\n  }\n\n  updateIframeDimensions(movementX = 0, movementY = 0) {\n    ipc && ipc.send(\"edited\");\n    var scale = this.props.getScale();\n\n    var width = this.state.iframeWidth + movementX / scale;\n    var height = this.state.iframeHeight + movementY / scale;\n    if (width < 30) {\n      movementX = 0;\n      width = 30;\n    }\n    if (height < 30) {\n      movementY = 0;\n      height = 30;\n    }\n\n    this.setState({ iframeWidth: width, iframeHeight: height });\n    this.cristalRef.current.manualResize(movementX / scale, movementY / scale);\n  }\n\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n  renderEditor() {\n    var markers = [];\n    for (var i in this.state.errorLines) {\n      if (i != 0) {\n        markers.push({\n          startRow: i - 1,\n          endRow: i,\n          type: \"background\",\n          className: \"bg-warningOrange marker\"\n        });\n      }\n    }\n\n    var theme = \"p5\";\n    var mode = \"javascript\";\n    if (this.props.isHtml || this.props.isCss) {\n      theme = \"solarized_light\";\n    }\n\n    if (this.props.isCss) {\n      mode = \"css\";\n    } else if (this.props.isHtml) {\n      mode = \"html\";\n    }\n\n    return (\n      <div\n        onMouseOut={() => {\n          this.setEditorScrolling(false);\n        }}\n        hidden={this.state.editorHidden}\n      >\n        <br />\n        <AceEditor\n          markers={markers}\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n            background: \"transparent\",\n            fontFamily: 'Inconsolata',\n          }}\n          mode={mode}\n          theme={theme}\n          onChange={value => {\n            this.setState({ code: value, editsMade: true });\n            ipc && ipc.send(\"edited\");\n          }}\n          name={\"name\" + this.props.id.toString()}\n          fontSize={globals.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          onScroll={() => this.setEditorScrolling(true)}\n          setOptions={{\n            enableBasicAutocompletion: false,\n            enableLiveAutocompletion: false,\n            enableSnippets: false,\n            showLineNumbers: false,\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  compileCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => {\n          this.setState({ runningBorder: false }, )\n        }\n      , 300)\n      );\n    }\n  }\n\n  renderFunctionName() {\n    var displayName = \"\";\n    if (this.state.name != this.props.starterName) {\n      var displayName = this.state.Name;\n    }\n\n    var nameColor = \"blue\";\n    if (this.state.isSpecialFn) {\n      nameColor = \"pink\";\n    } else if (this.props.isHtml || this.props.isCss) {\n      nameColor = \"htmlCssName\";\n    }\n\n    var argsColor = \"greyText\";\n\n    return (\n      <div>\n        <input\n          placeholder=\"function name...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ name: event.target.value, editsMade: true }, () =>\n              this.checkName()\n            );\n\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{ background: \"transparent\" }}\n          value={this.state.name}\n          class={\"text-\" + nameColor + \" name\"}\n        />\n\n        <br />\n\n        <input\n          // @cameron styling for arguments field\n          placeholder=\"arguments...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ args: event.target.value, editsMade: true });\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{ background: \"transparent\" }}\n          value={this.state.args}\n          class={\"text-\" + argsColor + \" args\"}\n        />\n      </div>\n    );\n  }\n\n  renderIframe() {\n\n    var loopingOpacity = .0\n    if(this.state.looping){\n      loopingOpacity = .5\n    }\n\n    return (\n      <div hidden={this.props.isCss}>\n\n        <div\n          hidden={!this.state.resizingIframe}\n          style={{\n            position: \"absolute\",\n            fontSize: globals.codeSize,\n            opacity: 0.5,\n            top: 80,\n            right: 25\n          }}\n          class=\"text-greyText \"\n        >\n         {\"W:\" + Math.floor(this.state.iframeWidth) +\n            \" H:\" +\n            Math.floor(this.state.iframeHeight)}\n        </div>\n<div\n\n          style={{\n            transition:this.state.loopingTransition,\n            position: \"absolute\",\n            fontSize: globals.codeSize,\n            opacity: loopingOpacity,\n            top: 80,\n            left: 25 + this.state.editorWidth\n          }}\n          class=\"text-greyText \"\n        >\n         {\"active\"}\n        </div>\n        <Resizable\n          className=\"ml-1 bg-white shadow\" \n          onResize={e => {\n\n            this.updateIframeDimensions(e.movementX, e.movementY);\n          }}\n          onResizeStart={() => {\n            this.props.onStartMove();\n            this.setState({ resizingIframe: true });\n          }}\n          onResizeStop={e => {\n            this.props.onStopMove();\n            this.setState({ resizingIframe: false });\n          }}\n          width={this.state.iframeHeight}\n          height={this.state.iframeWidth}\n          style={{\n            overflow: \"hidden\",\n            zIndex: 5\n          }}\n        >\n          <div onMouseOver={this.compileCallback.bind(this)}>\n            <div\n              style={{\n                position: \"absolute\",\n                width: this.state.iframeWidth,\n                height: this.state.iframeHeight,\n                color: \"transparent\",\n                background: \"transparent\"\n              }}\n              hidden={!this.state.iframeDisabled}\n            >\n              {\" \"}\n            </div>\n            <iframe\n              ref={iframeElem => {\n                if (iframeElem) {\n                  this.props.addNewIframeConsole(\n                    iframeElem.contentWindow.console\n                  );\n                }\n              }}\n              id={\"iframe\" + this.props.id}\n              scrolling=\"no\"\n              style={{\n                border: \"none\",\n                height: this.state.iframeHeight + globals.iframeMargin,\n                width: this.state.iframeWidth + 2*globals.iframeMargin,\n                margin: \"-\" + globals.iframeMargin.toString() + \"px\"\n                // pointerEvents:\"none\"\n              }}\n              srcdoc={this.state.iframeCode}\n              sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups  allow-same-origin allow-scripts\"\n              allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\"\n            />\n          </div>\n        </Resizable>\n \n      </div>\n    );\n  }\n\n  setIframeDisabled(status) {\n    this.setState({ iframeDisabled: status });\n  }\n\n  copyAndOpt(isOpt = false) {\n    if (this.props.isCss || this.props.isHtml) {\n      return;\n    }\n\n    var data = this.getData();\n\n    var updateName = false,\n      updatePosition = false,\n      setIframeDisabled = false;\n    if (isOpt) {\n      setIframeDisabled = true;\n    } else {\n      updateName = true;\n      updatePosition = true;\n    }\n\n    var callback = () => null\n    if(isOpt){\n      callback = () => this.cristalRef.current.changeZIndex()\n    }\n\n    var newName = this.props.addStamp(\n      data,\n      updateName,\n      updatePosition,\n      setIframeDisabled,\n      callback\n    );\n    if (isOpt) {\n      this.setState({ name: newName }, () => this.checkName());\n    }\n  }\n\n  getData() {\n    var data = {\n      name: this.state.name,\n      code: this.state.code,\n      args: this.state.args,\n      x: this.state.x,\n      y: this.state.y,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight,\n      iframeWidth: this.state.iframeWidth,\n      iframeHeight: this.state.iframeHeight,\n      isHtml: this.props.isHtml,\n      isCss: this.props.isCss,\n      originX: this.state.originX,\n      originY: this.state.originY,\n      scale: this.state.scale,\n      hidden: this.state.hidden\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff) {\n    var height = this.state.editorHeight + heightDiff;\n    var width = this.state.editorWidth + widthDiff;\n\n    if (height < 0 || width < 0) {\n      return true;\n    }\n\n    this.setState({\n      editorHeight: height,\n      editorWidth: width\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n  getIcon() {\n    var icon = FunctionStampIcon;\n    if (this.props.isHtml) {\n      icon = HtmlStampIcon;\n    } else if (this.props.isCss) {\n      icon = CssStampIcon;\n    } else if (this.state.isSpecialFn) {\n      if(globals.specialFns[this.state.name]){\n      icon = BuiltInStampIcon;\n      }else{\n        icon = ListenerStampIcon\n      }\n\n    }\n\n    return icon;\n  }\n\n  render() {\n    var headerColor = \"bg-white\";\n    if (0 in this.state.errorLines) {\n      headerColor = \"bg-warningOrange\";\n    }\n\n    var border = \"border border-borderGrey\";\n\n    if (Object.keys(this.state.errorLines).length > 0) {\n      border = \"border border-warningOrange\";\n    }\n    if (this.state.runningBorder) {\n      border = \"border border-blue\";\n    }\n\n    // <!-- @cameron little white div thing --> scroll down to style\n\n    var bgColor = \"bg-jsArea\";\n    if (this.props.isHtml || this.props.isCss) {\n      bgColor = \"bg-htmlCssArea\";\n    }\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n\n\n    return (\n      <div>\n        <Cristal\n          initialSize={{width:this.state.iframeWidth + this.state.editorWidth + 50}}\n          ref={this.cristalRef}\n          isResizable={true}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          closeHidden={this.props.isHtml || this.props.isCss}\n          copyHidden={this.props.isHtml || this.props.isCss}\n          initialPosition={{ x: this.state.x, y: this.state.y }}\n          initialScale={this.state.scale}\n          className={\n            \"stamp shadow-sm \" + bgColor + \" \" + border + \" vertex\" + this.props.id \n          }\n          onResize={this.resizeEditor.bind(this)}\n          onStartResize={this.props.onStartMove}\n          onStopResize={this.props.onStopMove}\n          onMove={s => this.setState({ x: s.x, y: s.y })}\n          icon={this.getIcon()}\n          parentID = {this.props.id}\n        >\n          <div onMouseLeave={this.compileCallback.bind(this)}>\n            <div\n              class={headerColor}\n              style={{\n                position: \"absolute\",\n                top: globals.headerHeight,\n                left: 0,\n                width: \"100%\",\n                height: globals.fnTitleHeight,\n                color: \"transparent\"\n              }}\n            >\n              {\" \"}\n            </div>\n\n            <div class=\"p-2\">\n              {this.renderFunctionName()}\n\n              <div class=\"row m-0 \">\n                {this.renderEditor()}\n\n                {this.renderIframe()}\n              </div>\n            </div>\n          </div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport { Hook, Console, Decode } from \"console-feed\";\nimport ConsoleStampIcon from \"./icons/printer.svg\";\n\nvar _ = require(\"lodash\");\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class ConsoleStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logs: [],\n      consoleHeight: this.props.starterConsoleHeight,\n      consoleWidth: this.props.starterConsoleWidth,\n      lastFreq: 0,\n      originX: this.props.initialOriginX,\n      originY: this.props.initialOriginY,\n      scale: this.props.initialScale,\n      hidden: this.props.initialHidden,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y\n    };\n\n    this.cristalRef = React.createRef();\n    this.limit = 100\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"message\", e => {\n      if(e.data.type != \"error\"){\n        return\n      }\n      this.logToConsole(e.data.message);\n\n      var lineNum = e.data.lineno;\n      var message = e.data.message;\n      var id = e.data.id;\n\n      this.props.addErrorLine(lineNum, id);\n    });\n  }\n\n  clearConsole() {\n    this.setState({ logs: [], lastFreq: 0 });\n  }\n\n  getIcon() {\n    return ConsoleStampIcon;\n  }\n\n  toggleHide(scale, originX, originY, callback) {\n    if (this.state.hidden) {\n      var distFromOriginX =\n        (this.state.originX - this.state.x) / this.state.scale;\n      var distFromOriginY =\n        (this.state.originY - this.state.y) / this.state.scale;\n      var x = originX - distFromOriginX * scale;\n      var y = originY - distFromOriginY * scale;\n      this.setState({ hidden: false, scale: scale, x: x, y: y }, \n        () => {\n          callback()\n      var consoleContainer = document.getElementById(\"consoleContainer\");\n      if(consoleContainer){\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n\n        });\n    } else {\n      this.setState(\n        { hidden: true, originX: originX, originY: originY, scale: scale },\n        callback\n      );\n    }\n  }\n\n  setEditorScrolling(isScrolling) {\n    this.props.disablePan(isScrolling);\n  }\n\n  addNewIframeConsole(newConsole) {\n    Hook(newConsole, newLogs => {\n      newLogs.map(log => {\n        if (log.method === \"log\") {\n          this.checkLastLog(log);\n        }\n      });\n    });\n  }\n\n  checkLastLog(log) {\n \n\n\n    var logs = this.state.logs;\n    if (logs.length < 1) {\n      this.setState({ logs: [log], lastFreq: 0 });\n      var consoleContainer = document.getElementById(\"consoleContainer\");\n      if(consoleContainer){\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n  \n    } else {\n      var lastLog = logs[logs.length - 1];\n\n      if (_.isEqual(lastLog.data, log.data)) {\n        if(this.state.lastFreq >= this.limit){\n          return\n        }\n        this.setState({ lastFreq: this.state.lastFreq + 1 });\n      } else {\n        if (this.state.lastFreq > 1) {\n                var freqString = this.state.lastFreq.toString() \n      if(this.state.lastFreq >= this.limit){\n        freqString += \"+\"\n      }\n          logs.push({\n            method: \"command\",\n            data: [\"(\" + freqString + \")\"]\n          });\n        }\n        logs.push(log);\n        this.setState({ logs: logs, lastFreq: 1 });\n        var consoleContainer = document.getElementById(\"consoleContainer\");\n        if(consoleContainer){\n          consoleContainer.scrollTop = consoleContainer.scrollHeight;\n        }\n\n      }\n    }\n  }\n\n  logToConsole(message, method = \"error\") {\n\n    this.checkLastLog({ method: method, data: [message] });\n  }\n\n  getData() {\n    var data = {\n      x: this.state.x,\n      y: this.state.y,\n      consoleWidth: this.state.consoleWidth,\n      consoleHeight: this.state.consoleHeight,\n      originX: this.state.originX,\n      originY: this.state.originY,\n      scale: this.state.scale,\n      hidden: this.state.hidden\n    };\n\n    return data;\n  }\n\n  resizeConsole(widthDiff, heightDiff) {\n    var height = this.state.consoleHeight;\n    var width = this.state.consoleWidth;\n    this.setState({\n      consoleHeight: height + heightDiff,\n      consoleWidth: width + widthDiff\n    });\n      var consoleContainer = document.getElementById(\"consoleContainer\");\n      if(consoleContainer){\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n  }\n\n  render() {\n    var renderedLogs = _.cloneDeep(this.state.logs);\n    if (this.state.lastFreq > 1) {\n      var freqString = this.state.lastFreq.toString() \n      if(this.state.lastFreq >= this.limit){\n        freqString += \"+\"\n      }\n\n      renderedLogs.push({\n        method: \"command\",\n        data: [\"(\" + freqString + \")\"]\n      });\n\n        var consoleContainer = document.getElementById(\"consoleContainer\");\n        if(consoleContainer){\n          consoleContainer.scrollTop = consoleContainer.scrollHeight;\n        }      \n    }\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n\n    return (\n      <Cristal\n       parentID = {this.props.id}\n        ref={this.cristalRef}\n        initialScale={this.state.scale}\n        closeHidden={true}\n        copyHidden={true}\n        onResize={this.resizeConsole.bind(this)}\n        initialPosition={{ x: this.state.x, y: this.state.y }}\n        onMove={s => this.setState({ x: s.x, y: s.y })}\n        className=\"stamp bg-lightGrey border border-borderGrey shadow-sm\"\n        icon={this.getIcon()}\n        showClear\n        onClear={this.clearConsole.bind(this)}\n      >\n        <div\n          id=\"consoleContainer\"\n          onMouseOver={() => this.setEditorScrolling(true)}\n          onMouseOut={() => this.setEditorScrolling(false)}\n          style={{\n            width: this.state.consoleWidth,\n            height: this.state.consoleHeight,\n            overflow: \"hidden\",\n            \"overflow-y\": \"scroll\",\n            \"white-space\": \"nowrap\"\n          }}\n        >\n          <Console\n            styles={{\n              LOG_COLOR: \"black\",\n              LOG_ERROR_BACKGROUND: \"rgba(255, 184, 0, .5)\",\n              LOG_ERROR_BORDER: \"transparent\",\n              LOG_ERROR_COLOR: \"rgba(102,102,102)\",\n              BASE_FONT_FAMILY: \"Inconsolata\",\n              BASE_FONT_SIZE: 10,\n              LOG_COMMAND_COLOR: \"rgba(150,150,150)\",\n              BASE_BACKGROUND_COLOR: \"transparent\",\n              LOG_BORDER: \"rgb(225,225,225)\",\n              LOG_COMMAND_ICON: \"\"\n            }}\n            logs={renderedLogs}\n            variant=\"light\"\n          />\n        </div>\n      </Cristal>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport BlobStampIcon from \"./icons/code.svg\";\nimport CodeSizeIcon from \"./icons/type.svg\";\n\n// import \"ace-builds/src-noconflict/mode-javascript\";\n// import \"ace-builds/src-noconflict/theme-tomorrow\";\n// import \"ace-builds/src-min-noconflict/ext-language_tools\";\n// import \"ace-builds/src-noconflict/snippets/javascript\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class BlobStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      editorScrolling: false,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      errorLines: this.props.errorLines,\n      exportableCode: \"\",\n      editsMade: \"\",\n      runningBorder: false,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y,\n      originX: this.props.initialOriginX,\n      originY: this.props.initialOriginY,\n      scale: this.props.initialScale,\n      hidden: this.props.initialHidden,\n      codeSize:this.props.starterCodeSize\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n  }\n\n  componentDidMount() {\n    // this.loadp5Lib()\n    this.setState({ exportableCode: \"\" }, () =>\n      this.props.requestCompile(this.props.id)\n    );\n  }\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n  mouseOutCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => this.setState({ runningBorder: false }), 100)\n      );\n    }\n  }\n\n  toggleHide(scale, originX, originY, callback) {\n    if (this.state.hidden) {\n      var distFromOriginX =\n        (this.state.originX - this.state.x) / this.state.scale;\n      var distFromOriginY =\n        (this.state.originY - this.state.y) / this.state.scale;\n      var x = originX - distFromOriginX * scale;\n      var y = originY - distFromOriginY * scale;\n      this.setState({ hidden: false, scale: scale, x: x, y: y }, callback);\n    } else {\n      this.setState(\n        { hidden: true, originX: originX, originY: originY, scale: scale },\n        callback\n      );\n    }\n  }\n  renderEditor() {\n    var markers = [];\n    for (var i in this.state.errorLines) {\n      if (i != 0) {\n        markers.push({\n          startRow: i - 1,\n          endRow: i,\n          type: \"background\",\n          className: \"bg-warningOrange marker\"\n        });\n      }\n    }\n\n    return (\n      <div\n        onMouseOut={() => {\n          this.setEditorScrolling(false);\n        }}\n      >\n        <AceEditor\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n            fontFamily: 'Inconsolata',\n          }}\n          mode=\"javascript\"\n          theme=\"p5\"\n          onChange={value => {\n            this.setState({ code: value });\n            ipc && ipc.send(\"edited\");\n            this.setState({ editsMade: true });\n          }}\n          markers={markers}\n          name={\"name\" + this.props.id.toString()}\n          fontSize={this.state.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          onScroll={() => this.setEditorScrolling(true)}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          className=\"bg-jsArea\"\n          setOptions={{\n            enableBasicAutocompletion: false,\n            enableLiveAutocompletion: false,\n            enableSnippets: false,\n            showLineNumbers: false,\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  copyAndOpt(isOpt = false) {\n    var data = this.getData();\n\n    var updatePosition = false;\n    if (isOpt === false) {\n      updatePosition = true;\n    }\n\n    var callback = () => null\n    if(isOpt){\n      callback = () => this.cristalRef.current.changeZIndex()\n    }\n\n    this.props.addStamp(data, updatePosition, callback);\n  }\n\n  addErrorLine(lineNum) {\n    var errorLines = this.state.errorLines;\n    errorLines[lineNum] = \"\";\n    this.setState({ errorLines: errorLines });\n  }\n\n  clearErrorsAndUpdate(editsMade, newErrors = []) {\n    var newErrorLines = this.state.errorLines;\n    if (editsMade) {\n      var newErrorLines = {};\n    }\n    this.setState({ errorLines: newErrorLines }, () => {\n      this.setState({ exportableCode: this.props.getExportableCode() });\n      for (var i = 0; i < newErrors.length; i++) {\n        this.addErrorLine(newErrors[i]);\n      }\n    });\n  }\n\n  getData() {\n    var data = {\n      code: this.state.code,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight,\n      x: this.state.x,\n      y: this.state.y,\n      originX: this.state.originX,\n      originY: this.state.originY,\n      scale: this.state.scale,\n      hidden: this.state.hidden,\n      codeSize:this.state.codeSize\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff) {\n    var height = this.state.editorHeight;\n    var width = this.state.editorWidth;\n    this.setState({\n      editorHeight: height + heightDiff,\n      editorWidth: width + widthDiff\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n  getIcon() {\n    return BlobStampIcon;\n  }\n\n    loadp5Lib() {\n        this.editorRef.current &&\n    this.editorRef.current.editor.completers.push({\n      getCompletions: function(editor, session, pos, prefix, callback) {\n        var completions = [];\n        p5Lib.forEach(function(w) {\n          completions.push({\n            value: w,\n            meta: \"p5.js\"\n          });\n        });\n        callback(null, completions);\n      }\n    });\n  }\n\n    compileCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => {\n          this.setState({ runningBorder: false })\n        }\n      , 300)\n      );\n    }\n  }\n\n  render() {\n    var border = \"border border-borderGrey\";\n    if (Object.keys(this.state.errorLines).length > 0) {\n      border = \"border border-warningOrange\";\n    }\n\n    if (this.state.runningBorder) {\n      border = \"border border-blue\";\n    }\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n    return (\n      <div>\n        <Cristal\n         parentID = {this.props.id}\n          ref={this.cristalRef}\n          onResize={this.resizeEditor.bind(this)}\n          isResizable={true}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          initialPosition={{ x: this.state.x, y: this.state.y }}\n          onMove={s => this.setState({ x: s.x, y: s.y })}\n          initialScale={this.state.scale}\n          className={\n            \"stamp shadow-sm bg-jsArea \" + border + \" vertex\" + this.props.id\n          }\n          title=\"Anything\"\n          icon={this.getIcon()}\n          makeBigIcon ={CodeSizeIcon}\n          showMakeBig\n          onMakeBig ={() => {\n            if(this.state.codeSize === globals.codeSize){\n              this.setState({codeSize:globals.bigCodeSize})\n            }else{\n              this.setState({codeSize:globals.codeSize})\n            }\n          }}\n\n        >\n          <div class=\"row m-0\" onMouseLeave={this.compileCallback.bind(this)}>\n            {this.renderEditor()}\n          </div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import pf, { globals, p5Lib } from \"./globals.js\";\n\nexport const builtInFns = [\n  {\n    name: \"draw\",\n    args: \"\",\n    code: `colorMode(RGB, 255, 255, 255, 1);\nbackground(0, 0, 0, .01);\nstroke(255);\nstrokeWeight(1)\n\nif (mouseIsPressed) {\nline(mouseX, mouseY, pmouseX, pmouseY);\n}`\n  },\n  {\n    name: \"setup\",\n    args: \"\",\n    code: `createCanvas(${globals.defaultIframeWidth},${globals.defaultEditorHeight})\nbackground(100);`\n  },\n  { name: \"preload\", args: \"\", code: \"\" }\n];\n\nvar keyPressCode =\n`fill(\"black\")\ntextSize(50);\n\n// display last key pressed.\ntext(key + ' ' + keyCode, 20, 70);`\n\nvar mousePressCode =\n`fill('black')\n\n// display last clicked location\ntext(mouseX + ', ' + mouseY, mouseX + 10, mouseY - 10)\nrectMode(CENTER)\nrect(mouseX, mouseY, 1, 20)\nrect(mouseX, mouseY, 20, 1)`\n\nexport const listenerFns = [\n  {\n    name: \"keyPressed\",\n    args: \"\",\n    code: `background('yellow')\\n` +keyPressCode\n  },\n   {\n    name: \"keyReleased\",\n    args: \"\",\n    code: `background('springgreen')\\n`  + keyPressCode\n  },\n   {\n    name: \"keyTyped\",\n    args: \"\",\n    code: `background('cyan')\\n`  + keyPressCode\n  },\n  {},\n  {\n    name: \"mousePressed\",\n    args: \"\",\n    code: `background('yellow')\\n` +mousePressCode\n  },\n  {\n    name: \"mouseReleased\",\n    args: \"\",\n    code: `background('springgreen')\\n`  + mousePressCode\n  },\n  {\n    name: \"mouseClicked\",\n    args: \"\",\n    code: `background('cyan')\\n`  + mousePressCode\n  },\n    {\n    name: \"doubleClicked\",\n    args: \"\",\n    code: `background('cyan')\\n`  + mousePressCode\n  },\n    {},\n  {\n    name: \"mouseMoved\",\n    args: \"\",\n    code: `background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)`\n  },\n\n   {\n    name: \"mouseDragged\",\n    args: \"\",\n    code: `background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)`\n  },\n  {},\n  {\n    name: \"mouseWheel\",\n    args: \"\",\n    code: `background('yellow')\nstrokeWeight(1)\nstroke(\"black\")\nvar y = random(0, height)\nline(0, y, width, y)`\n  }\n];\n\nexport const normalFn = {\n  name: \"blueCircle\",\n  args: \"posX=mouseX, posY=mouseY\",\n  code: \n `strokeWeight(1)\nstroke(\"black\")\nfill('lightblue')\nellipse(posX, posY, 30, 30)`\n};\n\nexport const commentBlob = {\n  code: `/*\\n  comment here\\n*/`,\n  codeSize: globals.bigCodeSize\n};\n\nexport const varBlob = { code: \"var global1 = 1\" };\n\nexport default function DefaultExportPlaceholder() {\n  return null;\n}\n\nvar world1 = {\n  blobs: [\n    {\n      code:\n        \"// globals\\n\\nvar actRandomSeed = 0;\\nvar count = 300;\\nvar faderX = 0\\nvar backgroundFade = 40\\nvar lastFaderX\\nvar speed\\nvar angleUnit = (360 / count);\",\n      codeSize: 12,\n      editorHeight: 201.84709943153263,\n      editorWidth: 200,\n      hidden: true,\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 311.70689585344496,\n      y: 665.1005595572993\n    },\n    {\n      code:\n        \"// a helper function to get the particle pattern, mouse over the canvas while pressing your mouse down to visualize what it does\",\n      codeSize: 24,\n      editorHeight: 56.38414040982718,\n      editorWidth: 864.7567589687693,\n      hidden: false,\n      originX: 0,\n      originY: 0,\n      scale: 0.5749355676770208,\n      x: 1109.0422118750803,\n      y: 440.64114822803793\n    },\n    {\n      code: \"// setup stuff\",\n      codeSize: 24,\n      editorHeight: 37.85493935071861,\n      editorWidth: 778.6149650048328,\n      hidden: true,\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 310.88018216407465,\n      y: 602.9347984240814\n    },\n    {\n      code: \"// the particle pattern\",\n      codeSize: 24,\n      editorHeight: 38.73195511379262,\n      editorWidth: 612.8513837941782,\n      hidden: false,\n      originX: 0,\n      originY: 0,\n      scale: 0.5749355676770208,\n      x: 1111.701254519014,\n      y: 89.19959331819723\n    },\n    {\n      code: \"// different types of dots, mouse over the canvases to see them\",\n      codeSize: 24,\n      editorHeight: 34.487326158190314,\n      editorWidth: 1147.3686095866817,\n      hidden: false,\n      originX: 0,\n      originY: 0,\n      scale: 0.5749355676770208,\n      x: 307.00786095894887,\n      y: 91.78839934748044\n    }\n  ],\n  console: {\n    consoleHeight: 312.41625580738497,\n    consoleWidth: 398.5547609288658,\n    hidden: true,\n    originX: 411.9482032963044,\n    originY: 85.51423660084197,\n    scale: 0.5749355676770208,\n    x: 24.76051168865979,\n    y: 597.3498463778498\n  },\n  fns: [\n    {\n      args: \" \",\n      code: \"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\n      editorHeight: 277.77679545226056,\n      editorWidth: 199.36438778632868,\n      hidden: true,\n      iframeHeight: 200,\n      iframeWidth: 225,\n      isCss: true,\n      isHtml: false,\n      name: \"style.css\",\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 109.96884819879574,\n      y: 336.6662834735052\n    },\n    {\n      args: \" \",\n      code:\n        '<html>\\n  <head>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\"></script>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\"></script>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\"></script>\\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\\n  </head>\\n  <body>\\n    <script src=\\'sketch.js\\'></script>\\n  </body>\\n</html>\\n',\n      editorHeight: 267.30348833629085,\n      editorWidth: 331.9915568373324,\n      hidden: true,\n      iframeHeight: 200,\n      iframeWidth: 225,\n      isCss: false,\n      isHtml: true,\n      name: \"index.html\",\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: -74.62259188131372,\n      y: 91.13686709888839\n    },\n    {\n      args: \"\",\n      code:\n        \"// nothing much to see here\\ncreateCanvas(300,300) // this won't alter the window size\\nbackground(backgroundFade)\\nnoStroke()\",\n      editorHeight: 95.77622017221594,\n      editorWidth: 300,\n      hidden: true,\n      iframeHeight: 125.05858664939339,\n      iframeWidth: 229.2823664771775,\n      isCss: false,\n      isHtml: false,\n      name: \"setup\",\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 450.8800400942755,\n      y: 666.3652028486166\n    },\n    {\n      args: \"x=mouseX, y=mouseY\",\n      code: \"fill(255);\\nellipse(x, y, 10, 10)\",\n      editorHeight: 175,\n      editorWidth: 300,\n      hidden: false,\n      iframeHeight: 200,\n      iframeWidth: 225,\n      isCss: false,\n      isHtml: false,\n      name: \"basicDot\",\n      originX: 560.9752218706174,\n      originY: 366.2956161443158,\n      scale: 0.5749355676770208,\n      x: 305.4633753997713,\n      y: 160.9581172797552\n    },\n    {\n      args: \"x = mouseX, y=mouseY\",\n      code:\n        \"if(!speed){\\n  speed = random(0, .01)\\n}\\n\\n// set the opacity and color based on the speed the dots are moving\\nvar opacity = max(100, speed *100 * 255)\\nvar colorOff = speed *100\\nfill(150 - colorOff*40, 100+ colorOff*80, 255, opacity);\\nellipse(x,y,5, 5);\\n\",\n      editorHeight: 176.59932474664424,\n      editorWidth: 296.7340422149467,\n      hidden: false,\n      iframeHeight: 200,\n      iframeWidth: 225,\n      isCss: false,\n      isHtml: false,\n      name: \"speedColorDot\",\n      originX: 332.9682053941128,\n      originY: 156.5425618995235,\n      scale: 0.5749355676770208,\n      x: 659.6158329684184,\n      y: 369.9719369814155\n    },\n    {\n      args: \"angle\",\n      code:\n        \"\\n if(angle === 0){\\n  lastFaderX = faderX\\n  faderX = faderX*.97 + .03* mouseX / width;\\n  speed = abs(faderX - lastFaderX)\\n  randomSeed(actRandomSeed); \\n }\\n var randomX = random(0,width);\\n  var randomY = random(0,height);\\n  var circleX = width / 2 + cos(angle) * 100;\\n  var circleY = height / 2 + sin(angle) * 100;\\n  var x = lerp(randomX,circleX,faderX);\\n  var y = lerp(randomY,circleY,faderX);\\n  if(mouseIsPressed){\\n     background(backgroundFade, 10)\\n  var angle = map(mouseX, 0, width, 0,7)\\n  var circleX = width / 2 + cos(angle) * 100;\\n  var circleY = height / 2 + sin(angle) * 100;\\n  basicDot(circleX, circleY) \\n  }\\n\\n  \\n  return {x:x, y:y}\\n  \",\n      editorHeight: 376.8484971084752,\n      editorWidth: 379.21463817319534,\n      hidden: false,\n      iframeHeight: 292.2735384641079,\n      iframeWidth: 289.3981629416132,\n      isCss: false,\n      isHtml: false,\n      name: \"getPosition\",\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 1108.9690915100741,\n      y: 511.6546173225238\n    },\n    {\n      args: \"\",\n      code:\n        \"background(backgroundFade, 20);\\n\\nfor (var i = 0; i < count; i++) {\\n  var angle = i*360/count\\n  \\n  // mix and match dot functions here!\\n  pos = getPosition(angle)\\n  basicDot(pos.x, pos.y)\\n}\",\n      editorHeight: 257.04445805245604,\n      editorWidth: 309.7943589626219,\n      hidden: true,\n      iframeHeight: 294.39447695632765,\n      iframeWidth: 299.39315922954154,\n      isCss: false,\n      isHtml: false,\n      name: \"drawFadedParticles\",\n      originX: 411.9482032963044,\n      originY: 85.51423660084197,\n      scale: 0.5749355676770208,\n      x: 1496.8384538520986,\n      y: 150.73430262752692\n    },\n    {\n      args: \"x = mouseX, y=mouseY\",\n      code:\n        \"\\nif(!speed){\\n  speed = random(0, .01)\\n}\\n\\n// set the opacity based on the speed the dots are moving\\nvar opacity = max(100, speed *100 * 255)\\nfill(150, 100, 255,opacity);\\nellipse(x,y,10, 10);\\n\\n\",\n      editorHeight: 185.16405770099925,\n      editorWidth: 308.7544796011597,\n      hidden: false,\n      iframeHeight: 204.18278884948927,\n      iframeWidth: 217.08265374726574,\n      isCss: false,\n      isHtml: false,\n      name: \"speedDot\",\n      originX: 332.9682053941128,\n      originY: 156.5425618995235,\n      scale: 0.5749355676770208,\n      x: 654.9682142458253,\n      y: 162.85783538504427\n    },\n    {\n      args: \"x = mouseX, y=mouseY\",\n      code:\n        \"// generate a random size\\nnoStroke()\\nvar size = random(0, 10)\\n\\n// use it to draw the dot\\nfill(86,186,255, size*.1 *255);\\nellipse(x,y,size, size);\",\n      editorHeight: 175,\n      editorWidth: 300,\n      hidden: false,\n      iframeHeight: 200,\n      iframeWidth: 225,\n      isCss: false,\n      isHtml: false,\n      name: \"sizeDot\",\n      originX: 608.278019611442,\n      originY: 357.6617464920328,\n      scale: 0.5749355676770208,\n      x: 307.34413522241096,\n      y: 368.4778870560692\n    },\n    {\n      args: \"\",\n      code:\n        \"\\nbackground(40);\\n\\nfor (var i = 0; i < count; i++) {\\n  var angle = i*360/count\\n  pos = getPosition(angle)\\n  \\n  // mix and match dot functions here!\\n  sizeDot(pos.x, pos.y)\\n  speedColorDot(pos.x, pos.y)\\n}\",\n      editorHeight: 297.9050695738547,\n      editorWidth: 300,\n      hidden: false,\n      iframeHeight: 300.1107008138324,\n      iframeWidth: 307.39606783817277,\n      isCss: false,\n      isHtml: false,\n      name: \"drawParticles\",\n      originX: -469.679587362437,\n      originY: 288.2190116923002,\n      scale: 0.5749355676770208,\n      x: 1109.1784092705043,\n      y: 150.36564893108584\n    }\n  ],\n  originX: 411.9482032963044,\n  originY: 85.51423660084197,\n  scale: 0.5749355676770208,\n  compressedJs:\n    \"\\u0010WgBP\"\n};\n\nvar world2 = {\n  blobs: [],\n  console: { hidden: true },\n  fns: [\n    {\n      args: \" \",\n      code: \"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\n      hidden: true,\n      isCss: true,\n      name: \"style.css\"\n    },\n    {\n      args: \" \",\n      code:\n        '<html>\\n  <head>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\"></script>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\"></script>\\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\"></script>\\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\\n  </head>\\n  <body>\\n    <script src=\\'sketch.js\\'></script>\\n  </body>\\n</html>\\n',\n      hidden: true,\n      isHtml: true,\n      name: \"index.html\"\n    }\n  ],\n  originX: 0,\n  originY: 0,\n  scale: 1\n};\n\nvar world3 = {\"blobs\":[{\"code\":\"var actRandomSeed = 0\\nvar count = 150\\nvar faderX = 0\",\"codeSize\":24,\"editorHeight\":135.8730721150204,\"editorWidth\":324.64861847467637,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":712.283413606399,\"y\":222.08575841213747}],\"console\":{\"consoleHeight\":60,\"consoleWidth\":200,\"hidden\":true,\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":139.2905045925266,\"y\":19.197088773970016},\"fns\":[{\"args\":\"\",\"code\":\"\\ncreateCanvas(225, 225)\\nnoStroke();\\n\\n\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"setup\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":918.2905045925265,\"y\":134.19708877397002},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"// generate a randome size\\nvar size = random(0, 10)\\n// use it to draw the dot\\nfill(0,130,164)\\nellipse(x,y,size * 2, size * 2)\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"sizedDotMaker\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":332.3149335151379,\"y\":572.5142247823878},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"// just a boring old dot maker\\nfill(50,50,50);\\nellipse(x, y, 10, 10)\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"basicDotMaker\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":335.7393159226647,\"y\":109.08113896375039},{\"args\":\"dotMaker=sizedDotMaker\",\"code\":\"\\n// a colored pattern\\npatternMaker(dotMaker)\\n\\n\\n\",\"editorHeight\":175,\"editorWidth\":0.12071497396732411,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"patternTester132\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":1169.005701754205,\"y\":531.4216358920653},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"// generate random colors\\nvar off = 40\\nvar r = random(-off, off)\\nvar g = random(-off, off)\\nvar b = random(-off, off)\\n// use them to color the dots\\nfill(229+r, 84+g, 122+b)\\nellipse(x, y,10, 10)\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"coloredDotMaker\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":333.2901038017544,\"y\":337.07787464362957},{\"args\":\" \",\"code\":\"html, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":true,\"isHtml\":false,\"name\":\"style.css\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":869.9845236241445,\"y\":116.06940190316178},{\"args\":\" \",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\",\"editorHeight\":175,\"editorWidth\":300,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":true,\"name\":\"index.html\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":553.9040047854674,\"y\":116.06940190316178},{\"args\":\"dotMaker=coloredDotMaker\",\"code\":\"\\n// a colored pattern\\npatternMaker(dotMaker)\\n\\n\\n\",\"editorHeight\":175,\"editorWidth\":0.12071497396732411,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"patternTester1\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":985.2305125502625,\"y\":532.5630966945743},{\"args\":\"dotMaker=basicDotMaker\",\"code\":\"background(255)\\nfaderX = faderX * 0.97 + 0.03 * mouseX / width\\nrandomSeed(actRandomSeed)\\nvar angle = radians(360 / count)\\n\\nfor (var i = 0; i < count; i++) {\\n  // positions\\n  var randomX = random(0,width)\\n  var randomY = random(0,height)\\n  var circleX = width / 2 + cos(angle * i) * 100\\n  var circleY = height / 2 + sin(angle * i) * 100\\n  var x = lerp(randomX,circleX,faderX)\\n  var y = lerp(randomY,circleY,faderX)\\n  dotMaker(x, y)\\n}\",\"editorHeight\":258.8790003054317,\"editorWidth\":415.53145325087803,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":225,\"isCss\":false,\"isHtml\":false,\"name\":\"patternMaker\",\"originX\":0,\"originY\":0,\"scale\":0.631862561630551,\"x\":984.9768322889943,\"y\":214.89919579749852}],\"scale\":0.631862561630551,\"compressedJs\":\"\\\\V\"}\n\nvar starter = {\"blobs\":[{\"code\":\"/* and comments!\\n \\n  click the 'T' to\\n  toggle text-size\\n  \\n*/\",\"codeSize\":28,\"editorHeight\":170.19109860377665,\"editorWidth\":354.70900337275435,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":1160.0981024936634,\"y\":316.509237954331},{\"code\":\"/*Stamps can be hidden by clicking their eye-cons in the layer list\\n*/\",\"codeSize\":28,\"editorHeight\":165.3477841240168,\"editorWidth\":307.1892154701716,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":524.2270491804414,\"y\":92.54728951263178},{\"code\":\"// This is an \\\"Anything\\\" Stamp\\n// Which can be used for global variables\\n\\nvar gridSize = 20;\",\"codeSize\":14,\"editorHeight\":98.52985762467915,\"editorWidth\":314.7556969719473,\"hidden\":false,\"originX\":282.62676656995563,\"originY\":-15.46266693473126,\"scale\":0.6545969459414475,\"x\":1025.2589414102165,\"y\":337.866364701934},{\"code\":\"/* READ ME\\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \\n  /\\\\  _\\\\  _\\\\ \\\\ _/\\\\__ \\\\    /\\\\  _`\\\\ /\\\\__  _/\\\\  _  \\\\  /'\\\\_/`\\\\/\\\\  _`\\\\ /\\\\  _`\\\\ /\\\\  _`\\\\     \\n  \\\\ \\\\ \\\\/ /\\\\_` ' \\\\/_/\\\\ \\\\   \\\\ \\\\,\\\\L\\\\_\\\\/_/\\\\ \\\\\\\\ \\\\ \\\\L\\\\ \\\\/\\\\      \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\L\\\\_\\\\ \\\\ \\\\L\\\\ \\\\   \\n   \\\\ \\\\ \\\\ \\\\/_>   <_ \\\\ \\\\ \\\\   \\\\/_\\\\__ \\\\  \\\\ \\\\ \\\\\\\\ \\\\  __ \\\\ \\\\ \\\\__\\\\ \\\\ \\\\ ,__/\\\\ \\\\  _\\\\L\\\\ \\\\ ,  /   \\n    \\\\ \\\\ \\\\_ /\\\\_, ,_\\\\ \\\\_\\\\ \\\\    /\\\\ \\\\L\\\\ \\\\ \\\\ \\\\ \\\\\\\\ \\\\ \\\\/\\\\ \\\\ \\\\ \\\\_/\\\\ \\\\ \\\\ \\\\/  \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\\\\\ \\\\  \\n     \\\\ \\\\___\\\\/_/\\\\_\\\\/ /\\\\___\\\\   \\\\ `\\\\____\\\\ \\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\   \\\\ \\\\____/\\\\ \\\\_\\\\ \\\\_\\\\\\n      \\\\/___/  \\\\/_/  \\\\/___/    \\\\/_____/  \\\\/_/ \\\\/_/\\\\/_/\\\\/_/ \\\\/_/\\\\/_/    \\\\/___/  \\\\/_/\\\\/ / \\n\\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\\n     \\n     In Stamper, your code is structured into \\\"Stamps\\\", there are 5 types:\\n     \\n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\\n     \\n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\\n     \\n     3. Console for printing messages\\n        \\n     4. HTML for updating the webpage which holds your sketch\\n     \\n     5. CSS for updating global style of that webpage\\n\\n*/\",\"codeSize\":14,\"editorHeight\":290,\"editorWidth\":676,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":244.65403846712002,\"y\":85.54951822210046},{\"code\":\"// P5.dom works too\\n\",\"codeSize\":14,\"editorHeight\":27.387469292907497,\"editorWidth\":173.8666440266595,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":664.4669334975154,\"y\":842.6902805039922},{\"code\":\"/*\\n  Duplicate a Stamp to try a new idea\\n  \\n  1. Click on Stamp titlebar\\n  2. Hold Option () and drag to new position\\n  3. Release Mouse\\n*/\",\"codeSize\":14,\"editorHeight\":104,\"editorWidth\":341,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":695.6925480964783,\"y\":593.095318458676},{\"code\":\"/*\\n  A Stamper project is ~= to one p5 sketch, this means:\\n    \\n    1. Everything is in global scope and you can call functions freely\\n    2. When you're export, the Stamp named \\\"draw\\\" will act as the draw() function, if you import this code into the p5 web editor.\\n*/\",\"codeSize\":14,\"editorHeight\":158,\"editorWidth\":465,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":329.4755092970614,\"y\":424.49112373739024}],\"console\":{\"consoleHeight\":224,\"consoleWidth\":220,\"hidden\":false,\"originX\":1004.6898982788305,\"originY\":-30.29915414513107,\"scale\":0.5,\"x\":657.8432199291099,\"y\":110.48172411963026},\"fns\":[{\"args\":\" \",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":true,\"isHtml\":false,\"name\":\"style.css\",\"originX\":1004.6898982788305,\"originY\":-30.29915414513107,\"scale\":0.6545969459414475,\"x\":400.46167041487115,\"y\":82.00211121778517},{\"args\":\" \",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":true,\"name\":\"index.html\",\"originX\":1004.6898982788305,\"originY\":-30.29915414513107,\"scale\":0.6545969459414475,\"x\":548.5300413776317,\"y\":84.38956768337084},{\"args\":\"bgColour = 'black', lineColour = 'cyan'                 \",\"code\":\"background(bgColour)\\nnoStroke()\\ntextSize(50);\\n\\nfor (let x = gridSize; x <= width - gridSize; x += gridSize) {\\n  for (let y = gridSize; y <= height - gridSize; y += gridSize) {\\n    noStroke();\\n    fill(lineColour);\\n    ellipse(x, y, 5, 5);\\n    stroke(lineColour);\\n    line(x, y, 0, 0);\\n  }\\n}\",\"editorHeight\":221.34053533603714,\"editorWidth\":499.91886949481443,\"hidden\":false,\"iframeHeight\":221.14120090399788,\"iframeWidth\":236.10915200348276,\"isCss\":false,\"isHtml\":false,\"name\":\"lines\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":1026.3276999822056,\"y\":410.3942277012918},{\"args\":\"\",\"code\":\"background('cyan')\\nfill(\\\"black\\\")\\ntextSize(50);\\n\\n// display last key pressed.\\ntext(gridSize + ' ' + keyCode, 20, 70)\\n\\nif (keyCode == 187) { // keyCode for '-'\\n  gridSize--\\n} else if (keyCode == 189) { // keyCode for '+'\\n  gridSize++\\n}\",\"editorHeight\":182,\"editorWidth\":413,\"hidden\":false,\"iframeHeight\":118,\"iframeWidth\":197,\"isCss\":false,\"isHtml\":false,\"name\":\"keyPressed\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":1062.8084297040891,\"y\":565.798804872135},{\"args\":\"\",\"code\":\"colorMode(RGB, 255, 255, 255, 1);\\nbackground(151, 97, 246, .01);\\nstroke(255);\\nstrokeWeight(1)\\n\\nif (mouseIsPressed) {\\n  line(mouseX, mouseY, pmouseX, pmouseY);\\n}\",\"editorHeight\":179,\"editorWidth\":309,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"draw\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":478.1184784319902,\"y\":284.6367545951341},{\"args\":\"name\",\"code\":\"return \\\"<link href='https://fonts.googleapis.com/css?family=\\\" + name + \\\"' rel='stylesheet'>\\\"\",\"editorHeight\":42,\"editorWidth\":689,\"hidden\":true,\"iframeHeight\":44,\"iframeWidth\":31,\"isCss\":false,\"isHtml\":false,\"name\":\"loadFromGoogleFonts\",\"originX\":1092.379796557661,\"originY\":-1082.5983082902621,\"scale\":0.6545969459414475,\"x\":339.5664567510112,\"y\":655.5805439137175},{\"args\":\" \",\"code\":\"createCanvas(200, 200)\",\"editorHeight\":178,\"editorWidth\":204,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"setup\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":299.41276472233824,\"y\":285.25367502120184},{\"args\":\"string = 'Orbitron', txtSize = 30, horShift = 20, vertShift = 100\",\"code\":\"select(\\\"head\\\").html(loadFromGoogleFonts(\\\"Orbitron\\\"), true)\\n\\nfill(\\\"black\\\")\\nnoStroke()\\ntextFont('Orbitron')\\ntextSize(txtSize)\\ntext(string, horShift, vertShift)\",\"editorHeight\":175,\"editorWidth\":430,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"Orbitron\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":747.6782404822538,\"y\":799.5934743757235},{\"args\":\"          \",\"code\":\"background(\\\"springgreen\\\")\\nshearX(PI / 4.0);\\ntranslate(-10,0)\\nOrbitron(Move me, mouseX, -mouseY, 100)\",\"editorHeight\":174,\"editorWidth\":343,\"hidden\":false,\"iframeHeight\":199,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"typePlay2\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":749.1423193031873,\"y\":661.6165822372296},{\"args\":\"\",\"code\":\"background(117, 250, 141, 10)\\nOrbitron('Orbitron', mouseX, 20, mouseY )\",\"editorHeight\":178,\"editorWidth\":5.684341886080802e-14,\"hidden\":false,\"iframeHeight\":199.35755929455925,\"iframeWidth\":201.06684775984823,\"isCss\":false,\"isHtml\":false,\"name\":\"typePlay1\",\"originX\":0,\"originY\":0,\"scale\":0.6545969459414475,\"x\":644.5284364828796,\"y\":660.0434411421869}],\"originX\":358.4859655160991,\"originY\":124.2580525919509,\"scale\":0.3932852737605565,\"compressedJs\":\"LKwcxE*%\"}\n\nvar starter2 = {\"blobs\":[{\"code\":\"/* and comments!\\n \\n  click the 'T' to\\n  toggle text-size\\n  \\n*/\",\"codeSize\":28,\"editorHeight\":170.19109860377665,\"editorWidth\":354.70900337275435,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":1852.2303712131875,\"y\":460.0827512550624},{\"code\":\"/*Stamps can be hidden by clicking their eye-cons in the layer list\\n*/\",\"codeSize\":28,\"editorHeight\":165.3477841240168,\"editorWidth\":307.1892154701716,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":824.9440861374821,\"y\":151.9388674746644},{\"code\":\"// This is an \\\"Anything\\\" Stamp\\n// Which can be used for global variables\\n\\nvar dotSize = 20;\",\"codeSize\":14,\"editorHeight\":98.52985762467915,\"editorWidth\":266.5912253449911,\"hidden\":false,\"originX\":282.62676656995563,\"originY\":-15.46266693473126,\"scale\":0.7676893919706339,\"x\":1644.793753629589,\"y\":502.0226501105607},{\"code\":\"/* READ ME\\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \\n  /\\\\  _\\\\  _\\\\ \\\\ _/\\\\__ \\\\    /\\\\  _`\\\\ /\\\\__  _/\\\\  _  \\\\  /'\\\\_/`\\\\/\\\\  _`\\\\ /\\\\  _`\\\\ /\\\\  _`\\\\     \\n  \\\\ \\\\ \\\\/ /\\\\_` ' \\\\/_/\\\\ \\\\   \\\\ \\\\,\\\\L\\\\_\\\\/_/\\\\ \\\\\\\\ \\\\ \\\\L\\\\ \\\\/\\\\      \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\L\\\\_\\\\ \\\\ \\\\L\\\\ \\\\   \\n   \\\\ \\\\ \\\\ \\\\/_>   <_ \\\\ \\\\ \\\\   \\\\/_\\\\__ \\\\  \\\\ \\\\ \\\\\\\\ \\\\  __ \\\\ \\\\ \\\\__\\\\ \\\\ \\\\ ,__/\\\\ \\\\  _\\\\L\\\\ \\\\ ,  /   \\n    \\\\ \\\\ \\\\_ /\\\\_, ,_\\\\ \\\\_\\\\ \\\\    /\\\\ \\\\L\\\\ \\\\ \\\\ \\\\ \\\\\\\\ \\\\ \\\\/\\\\ \\\\ \\\\ \\\\_/\\\\ \\\\ \\\\ \\\\/  \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\\\\\ \\\\  \\n     \\\\ \\\\___\\\\/_/\\\\_\\\\/ /\\\\___\\\\   \\\\ `\\\\____\\\\ \\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\   \\\\ \\\\____/\\\\ \\\\_\\\\ \\\\_\\\\\\n      \\\\/___/  \\\\/_/  \\\\/___/    \\\\/_____/  \\\\/_/ \\\\/_/\\\\/_/\\\\/_/ \\\\/_/\\\\/_/    \\\\/___/  \\\\/_/\\\\/ / \\n\\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\\n     \\n     In Stamper, your code is structured into \\\"Stamps\\\", there are 5 types:\\n     \\n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\\n     \\n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\\n     \\n     3. Console for printing messages\\n        \\n     4. HTML for updating the webpage which holds your sketch\\n     \\n     5. CSS for updating global style of that webpage\\n\\n*/\",\"codeSize\":14,\"editorHeight\":290,\"editorWidth\":676,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":349.00619896050864,\"y\":155.27021550077865},{\"code\":\"/*\\n  Stamps can call one another. Try switching out the 'basicDot' for the 'sizeDot'\\n*/\",\"codeSize\":14,\"editorHeight\":110.28612602487812,\"editorWidth\":300.5714094617597,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2575.6535841590558,\"y\":512.3757763314227},{\"code\":\"/*\\n  A Stamper project is ~= to one p5 sketch, this means:\\n    \\n    1. Everything is in global scope and you can call functions freely\\n    2. When you're export, the Stamp named \\\"draw\\\" will act as the draw() function, if you import this code into the p5 web editor.\\n*/\",\"codeSize\":14,\"editorHeight\":158,\"editorWidth\":465,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":643.4022632181682,\"y\":778.4010462972009},{\"code\":\"/*\\n  Duplicate a Stamp to try a new idea\\n  \\n  1. Click on Stamp titlebar\\n  2. Hold Option () and drag to new position\\n  3. Release Mouse\\n*/\",\"codeSize\":14,\"editorHeight\":113.07436560542837,\"editorWidth\":411.46198635889164,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2822.5651142202446,\"y\":512.1624845761107}],\"console\":{\"consoleHeight\":224,\"consoleWidth\":220,\"hidden\":false,\"originX\":1004.6898982788305,\"originY\":-30.29915414513107,\"scale\":0.7676893919706339,\"x\":282.25833447049956,\"y\":395.20177816351355},\"fns\":[{\"args\":\" \",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":true,\"isHtml\":false,\"name\":\"style.css\",\"originX\":1741.7078732136542,\"originY\":130.85751294965604,\"scale\":0.6775643374025817,\"x\":1228.6214214610281,\"y\":214.96242299706108},{\"args\":\" \",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":true,\"name\":\"index.html\",\"originX\":1741.7078732136542,\"originY\":130.85751294965604,\"scale\":0.6775643374025817,\"x\":1425.3752845524734,\"y\":217.0974917737948},{\"args\":\"\",\"code\":\"background(255)\\nfill(117,250,151)\\ntextSize(50);\\n\\n// display last key pressed.\\ntext(dotSize + ' ' + keyCode, 20, 70)\\n\\nif (keyCode == 187) { // keyCode for '+'\\n  dotSize++\\n} else if (keyCode == 189) { // keyCode for '-'\\n  dotSize--\\n}\",\"editorHeight\":182,\"editorWidth\":413,\"hidden\":true,\"iframeHeight\":118,\"iframeWidth\":197,\"isCss\":false,\"isHtml\":false,\"name\":\"keyPressed\",\"originX\":889.007514520416,\"originY\":269.8040062840238,\"scale\":0.7676893919706339,\"x\":961.253652168773,\"y\":539.9161365527827},{\"args\":\"\",\"code\":\"colorMode(RGB, 255, 255, 255, 1);\\nbackground(151, 97, 246, .01);\\nstroke(255);\\nstrokeWeight(1)\\n\\nif (mouseIsPressed) {\\n  line(mouseX, mouseY, pmouseX, pmouseY);\\n}\",\"editorHeight\":179,\"editorWidth\":309,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"draw\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":914.4621169685273,\"y\":545.8313547694676},{\"args\":\" \",\"code\":\"createCanvas(200, 200)\",\"editorHeight\":178,\"editorWidth\":204,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"setup\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":612.965425514595,\"y\":546.8721690976088},{\"args\":\"\",\"code\":\"background(255, 10)\\nfor(var i = 0; i < 10; i++){\\n  basicDot(mouseX, i*20 )\\n}\\n\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"dotPattern\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2434.1382983107806,\"y\":640.4186577408053},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"noStroke()\\nbackground(255, 10)\\nfill(117,250,151)\\nellipse(x, y, dotSize, dotSize)\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"basicDot\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":1524.8344849444825,\"y\":625.2196042839628},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"// generate a random size\\nnoStroke()\\nvar size = random(0, 20)\\n\\n// use it to draw the dot\\nfill(86,220,248, size*.05 *255);\\nellipse(x,y,size, size);\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"sizeDot\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2766.9123106515162,\"y\":640.4347516059636}],\"originX\":1711.8106112865134,\"originY\":90.05420049639952,\"scale\":0.6635166071355336,\"compressedJs\":\"V<o\\u0016,\"}\n\nexport const worlds = [\n  { name: \"empty\", data: world2 },\n  { name: \"particles\", data: world1 },\n  {name:\"more particles\", data:world3},\n  {name:\"starter\" , data:starter},\n  {name:\"starter2\", data:starter2}\n];\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport { saveAs } from \"file-saver\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport FunctionStamp from \"./FunctionStamp.js\";\nimport ConsoleStamp from \"./ConsoleStamp.js\";\nimport BlobStamp from \"./BlobStamp.js\";\nimport { Mutex } from \"async-mutex\";\nimport { Line } from \"react-lineto\";\nimport cheerio from \"cheerio\";\nimport { SteppedLineTo } from \"react-lineto\";\nimport parser from \"./parser.js\";\nimport anim from \"css-animation\";\nimport { Resizable, ResizableBox } from \"react-resizable\";\nimport styled from \"styled-components\";\nimport VisibilityIcon from \"./icons/eye.svg\";\nimport VisibilityOffIcon from \"./icons/eye-off.svg\";\n\nimport FunctionStampIcon from \"./icons/box.svg\";\nimport BuiltInStampIcon from \"./icons/tool.svg\";\nimport ListenerStampIcon from \"./icons/bell.svg\";\nimport BlobStampIcon from \"./icons/code.svg\";\nimport ExpandMoreIcon from \"./icons/chevron-down.svg\";\nimport DownloadIcon from \"./icons/download.svg\";\nimport WorldsIcon from \"./icons/archive.svg\";\nimport GlobalVarIcon from \"./icons/globe.svg\";\nimport CommentIcon from \"./icons/message-square.svg\";\n\nimport Overlay from \"react-bootstrap/Overlay\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\nimport pf1, {\n  normalFn,\n  commentBlob,\n  varBlob,\n  listenerFns,\n  builtInFns,\n  worlds\n} from \"./starterStamps.js\";\n\nvar _ = require(\"lodash\");\n\nvar esprima = require(\"esprima\");\n\nconst defaultSetup = require(\"./defaultSetup.js\");\n\nexport default class ControlBar extends Component {\n  constructor(props) {\n    super(props);\n    this.editorRef = React.createRef();\n    this.minPickerHeight = 30;\n    this.minJsImporterHeight = 30;\n    this.topBarHeight = 60;\n    this.minWidth = 150;\n    this.minNonSideBarWidth = 30\n    this.editorRef = React.createRef();\n    this.importButtonHeight = 50;\n    this.state = {\n      jsImporterHeight:110,\n      sideBarWidth: 200,\n      pickerHeight:\n        window.innerHeight -\n        (this.topBarHeight + this.importButtonHeight + 110),\n      pickerScrollEnabled: true,\n      codeHasError: false,\n      code: `\\n// import unstructured Javascript code or individual functions\n\n// like the below, feel free to delete: \nfunction noiseWave() {\nlet noiseScale=0.02;\nbackground(0);\nfor (let x=0; x < width; x++) {\nlet noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\nstroke(noiseVal*255);\nline(x, mouseY+noiseVal*80, x, height);\n}\n}`\n    };\n  }\n\n  componentDidMount() {\n    this.props.updateControlBarDimensions(this.state.sideBarWidth, this.topBarHeight)\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.onWindowResize)\n  }\n\n  onWindowResize(e){\n    this.setState({pickerHeight: window.innerHeight - (this.topBarHeight + this.importButtonHeight + this.state.jsImporterHeight)})\n    if(this.state.sideBarWidth > window.innerWidth - this.minNonSideBarWidth){\n      this.setState({sideBarWidth: window.innerWidth - this.minNonSideBarWidth})\n    }\n  }\n\n  renderSideBar() {\n    return (\n      <div\n        class=\"bg-white border border-borderGrey shadow-sm\"\n        onMouseOver={() => {\n          this.props.disablePan(true);\n          this.props.disableZoom(true);\n        }}\n        onMouseOut={() => {\n          this.props.disablePan(false);\n          this.props.disableZoom(false);\n        }}\n        style={{\n          position: \"absolute\",\n          top: this.topBarHeight,\n          left: 0,\n          height: window.innerHeight - this.topBarHeight,\n\n          zIndex: 1000000000000000000\n        }}\n      >\n        <Resizable\n          width={this.state.sideBarWidth}\n          onResize={e => {\n            var newWidth = this.state.sideBarWidth + e.movementX;\n            if (newWidth > this.minWidth && newWidth <= window.innerWidth - this.minNonSideBarWidth) {\n              this.setState({ sideBarWidth: newWidth }, () =>\n                this.editorRef.current.editor.resize()\n              );\n            }\n          }}\n          onResizeStop={e => this.props.updateControlBarDimensions(this.state.sideBarWidth, this.topBarHeight)}\n          height={window.innerHeight - this.topBarHeight}\n          axis=\"x\"\n          handle={this.renderSideBarResizeHandle()}\n        >\n          <div>\n            {this.renderLayerPicker()}\n            {this.renderJsImporter()}\n            {this.renderImportButton()}\n          </div>\n        </Resizable>\n      </div>\n    );\n  }\n\n  parseCode() {\n    try {\n      var stamps = parser.jsToStamps(this.state.code);\n      stamps.fns.map(data => {\n        this.props.addFnStamp(data);\n      });\n      stamps.blobs.map(data => {\n        this.props.addBlobStamp(data);\n      });\n\n      this.setState({ code: \"\" });\n    } catch (e) {\n      this.setState({ codeHasError: true });\n    }\n  }\n  renderJsImporter() {\n    return (\n      <div\n        class=\"bg-jsArea\"\n        style={{\n          width: this.state.sideBarWidth,\n          height:\n            window.innerHeight - (this.state.pickerHeight + this.topBarHeight)\n        }}\n      >\n        <AceEditor\n          style={{\n            width: this.state.sideBarWidth,\n            height:\n              window.innerHeight -\n              (this.state.pickerHeight +\n                this.topBarHeight +\n                this.importButtonHeight),\n            background: \"transparent\",\n            fontFamily: 'Inconsolata',\n          }}\n          mode=\"javascript\"\n          theme=\"p5\"\n          onChange={value =>\n            this.setState({ code: value, codeHasError: false })\n          }\n          name={\"jsImporter\"}\n          fontSize={globals.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          highlightActiveLine={false}\n          onMouseOver={() => this.props.disablePan(true)}\n          onMouseOut={() => this.props.disablePan(false)}\n          value={this.state.code}\n          ref={this.editorRef}\n          setOptions={{\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  renderImportButton() {\n    var text = \"import javascript\";\n    var color = \"grey\";\n    if (this.state.codeHasError) {\n      text = \"syntax error\";\n      color = \"warningOrangeDark\";\n    }\n\n    return (\n      <div\n        class=\"p-2\"\n        style={{ position: \"absolute\", bottom: -2, left: -5, width: \"100%\" }}\n      >\n        <button\n          class={\n            \"btn btn-block shadow-sm m-1 bg-\" + color + \" border-borderGrey\"\n          }\n          style={{\n            fontSize: globals.buttonTextSize\n          }}\n          onClick={this.parseCode.bind(this)}\n          disabled={this.state.codeHasError}\n        >\n          {text}\n        </button>\n      </div>\n    );\n  }\n\n  renderLayerPicker() {\n    var pickers = [];\n    this.props.pickerData.map(item => {\n      if (item.status) {\n        var iconType = VisibilityIcon;\n      } else {\n        var iconType = VisibilityOffIcon;\n      }\n\n      var overalOpacity = 1;\n      var centerCallback = item.centerCallback;\n\n      if (item.status === false) {\n        overalOpacity = 0.5;\n        centerCallback = () => null;\n      }\n      if (item.name) {\n        pickers.push(\n          <div class=\"border-bottom border-borderGrey\">\n            <div\n              style={{ opacity: overalOpacity }}\n              class=\"d-flex justify-content-between p-1 pl-2 pr-3\"\n            >\n              <div clas=\"row border-bottom\" style={{ overflow: \"hidden\" }}\n                                onClick={() =>\n                    centerCallback(this.state.sideBarWidth, this.topBarHeight)\n                  }>\n                {this.createIcon(\n                  \"type\" + item.id.toString(),\n                  item.icon,\n                  null\n                )}\n                <b\n                  class=\"text-greyText picker ml-1\"\n\n                >\n                  {item.name}\n                </b>\n              </div>\n\n              {this.createIcon(\n                \"hide\" + item.id.toString(),\n                iconType,\n                item.hideCallback\n              )}\n            </div>\n          </div>\n        );\n      } else {\n        pickers.push(<br />);\n      }\n    });\n\n    var overflowY = \"hidden\";\n    if (this.state.pickerScrollEnabled) {\n      overflowY = \"scroll\";\n    }\n    return (\n      <Resizable\n        width={this.state.sideBarWidth}\n        onResize={e => {\n          var newHeight = this.state.pickerHeight + e.movementY;\n          if (\n            newHeight > this.minPickerHeight &&\n            newHeight <\n              window.innerHeight -\n                (this.topBarHeight +\n                  this.minJsImporterHeight +\n                  +this.importButtonHeight)\n          ) {\n            this.setState(\n              { pickerHeight: this.state.pickerHeight + e.movementY, jsImporterHeight:this.state.jsImporterHeight - e.movementY },\n              () => this.editorRef.current.editor.resize()\n            );\n          }\n        }}\n        onResizeStart={() => this.setState({ pickerScrollEnabled: false })}\n        onResizeStop={() => this.setState({ pickerScrollEnabled: true })}\n        height={this.state.pickerHeight}\n        axis=\"y\"\n        handle={this.renderPickerResizeHandle()}\n      >\n        <div>\n          <div\n            className=\" bg-white\"\n            style={{\n              overflow: \"hidden\",\n              \"overflow-y\": overflowY,\n              width: this.state.sideBarWidth,\n              height: this.state.pickerHeight\n            }}\n          >\n            {pickers}\n          </div>\n        </div>\n      </Resizable>\n    );\n  }\n\n  createIcon(\n    uniqueClass,\n    iconType,\n    hideCallback = null,\n  ) {\n\n    var mouseOverCallback = () => {\n      $(\".\" + uniqueClass).css({ opacity: \"1\" });\n    };\n\n    var mouseOutCallback = () => {\n      $(\".\" + uniqueClass).css({ opacity:globals.iconOpacity });\n    };\n    if (!hideCallback) {\n      mouseOverCallback = () => {};\n      mouseOutCallback = () => {};\n    }\n\n    return React.createElement(\"img\", {\n      style: { height: globals.iconSize, opacity:globals.iconOpacity, width: globals.iconSize },\n      className: \" m-1 text-greyIcon \" + uniqueClass,\n      onClick: hideCallback,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback,\n      src: iconType\n    });\n  }\n\n  renderSideBarResizeHandle() {\n    return (\n      <div\n        style={{\n          width: 10,\n          cursor: \"ew-resize\",\n          height: \"100%\",\n          right: 0,\n          top: 0,\n          position: \"absolute\",\n          background: \"transparent\",\n          color: \"transparent\"\n        }}\n      >\n        hi\n      </div>\n    );\n  }\n\n  renderPickerResizeHandle() {\n    return (\n      <div\n        className=\"border-bottom border-borderGrey border-top bg-grey\"\n        style={{\n          width: \"100%\",\n          cursor: \"ns-resize\",\n          height: 15,\n          right: 0,\n          bottom: 0,\n          position: \"absolute\",\n          background: \"transparent\",\n          color: \"transparent\"\n        }}\n      >\n        hi\n      </div>\n    );\n  }\n\n  renderTopBar() {\n    return (\n      <div\n        class=\"bg-white border border-borderGrey shadow-sm row justify-content-between\"\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 15,\n          height: this.topBarHeight + 2,\n          width: \"100%\",\n          zIndex: 1000000000000000001\n        }}\n      >\n        <TopButton\n          iconType={DownloadIcon}\n          uniqueClass=\"download\"\n          iconCallback={() => {\n\n            var js = this.props.getFileData().js;\n            var blob =  new Blob([js], { type: \"text/plain;charset=utf-8\" });\n            saveAs(blob, \"sketch.js\");\n\n            var js = this.props.getFileData().stamper;\n            var blob =  new Blob([JSON.stringify(js)], { type: \"text/plain;charset=utf-8\" });\n            saveAs(blob, \"meta.stamper\");\n          }}\n          tooltipText=\"download javascript\"\n          alignLeft\n        />\n\n        <div class=\"row\">\n          <TopButton\n            iconType={FunctionStampIcon}\n            uniqueClass=\"basic\"\n            iconCallback={() =>\n              this.props.addFnStamp(normalFn)\n            }\n            dropDownData={builtInFns.map(data => ({\n              name: data.name,\n              callback: () =>\n                this.props.addFnStamp(data)\n            }))}\n            tooltipText=\"function\"\n          />\n          <span style={{width:50}}/>\n\n\n          <TopButton\n            iconType={ListenerStampIcon}\n            uniqueClass=\"listenerFns\"\n            iconCallback={null}\n            dropDownData={listenerFns.map(data => ({\n              name: data.name,\n              callback: () =>\n                this.props.addFnStamp(data)\n            }))}\n            tooltipText=\"listener\"\n          />\n\n                  <span style={{width:50}}/>\n\n          <TopButton\n            iconType={ BlobStampIcon}\n            uniqueClass=\"varStamp\"\n            iconCallback={() =>\n              this.props.addBlobStamp(varBlob)\n            }\n            tooltipText=\"global variable\"\n          />\n        <span style={{width:50}}/>\n          <TopButton\n            iconType={BlobStampIcon}\n            uniqueClass=\"commentStamp\"\n            iconCallback={() =>\n              this.props.addBlobStamp(commentBlob)\n            }\n            tooltipText=\"comment\"\n          />\n\n\n        </div>\n\n        <TopButton\n          iconType={WorldsIcon}\n          uniqueClass=\"worlds\"\n          iconCallback={null}\n          dropDownData={worlds.map(world => ({\n            name: world.name,\n            callback: () => this.props.loadStamperFile(world.data)\n          }))}\n          tooltipText=\"overwrite with example\"\n          alignRight\n        />\n\n\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSideBar()}\n        {this.renderTopBar()}\n      </div>\n    );\n  }\n}\n\nclass TopButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { down: false, mouseOverDropDown: false };\n  }\n\n  onMouseDown() {\n    if (this.state.mouseOverDropDown === false) {\n      this.setState({ down: false });\n    }\n  }\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onMouseDown);\n  }\n\n  createIcon(iconType, callback, givenUniqueClass, size) {\n    var uniqueClass = givenUniqueClass;\n    var mouseOverCallback = () => {\n\n        this.setState({ mouseOverDropDown: true }, () =>\n          $(\".\" + uniqueClass).css({ opacity: \"1\" })\n        );\n\n    };\n\n    var mouseOutCallback = () => {\n\n        this.setState(\n          { mouseOverDropDown: false },\n\n          () => {\n            if (this.state.down === false || (iconType != ExpandMoreIcon && this.props.iconCallback) ) {\n              $(\".\" + uniqueClass).css({ opacity: globals.iconOpacity });\n            }\n          }\n        );\n\n    };\n\n    if (!callback) {\n      callback = () => this.setState({ down: !this.state.down });\n      uniqueClass += \"expand\";\n    }\n\n    return React.createElement(\"img\", {\n      style: { opacity: globals.iconOpacity, height: size, width: size },\n      className: \" text-greyIcon \" + uniqueClass,\n      onClick: callback,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback,\n      src: iconType\n    });\n  }\n\n  renderDropDowns() {\n    if (this.state.down === false) {\n      return null;\n    }\n\n    var dropDowns = this.props.dropDownData.map(data => (\n\n      <div\n        class={\n          this.props.uniqueClass +\n          data.name +\n          \" picker text-greyText p-2 pl-3 pr-3\"\n        }\n        onMouseOver={() => { if(!data.name){return}\n          this.setState({ mouseOverDropDown: true });\n          $(\".\" + this.props.uniqueClass + data.name).css({\n            background: \"rgb(240, 240, 240)\"\n          });\n        }}\n        onMouseOut={() => {if(!data.name){return}\n          this.setState({ mouseOverDropDown: false });\n          $(\".\" + this.props.uniqueClass + data.name).css({\n            background: \"transparent\"\n          });\n        }}\n        onClick={() => {if(!data.name){return}\n          data.callback();\n          this.setState({ down: false });\n        }}\n      >\n        {data.name}\n      </div>\n    ));\n\n    var right = \"default\";\n    if (this.props.alignRight) {\n      right = 0;\n    }\n    return (\n      <div\n        class=\"bg-white border border-borderGrey rounded mt-2\"\n        style={{ position: \"absolute\", right: right }}\n      >\n        {dropDowns}\n      </div>\n    );\n  }\n\n\n  renderTooltip(){\n    if(this.props.alignRight){\n      return(\n\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", position:\"absolute\", right:15, top:5,\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n\n        )\n    }\n\n    if(this.props.alignLeft){\n      return(\n\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", position:\"absolute\", left:15, top:5,\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n\n        )\n    }\n\n    var offset = \"-138px\"\n    if(this.props.dropDownData){\n      var offset = \"-133px\"\n    }\n    return(\n      <div style = {{position:\"absolute\", top:5}}>\n      <div style={{position:\"absolute\", width:300, left:offset}} >\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", textAlign:\"center\",\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n      </div>\n      </div>\n     \n  \n    )\n\n  }\n  render() {\n    if (this.state.down) {\n      $(\".\" + this.props.uniqueClass + \"expand\").css({\n        opacity: \"1\"\n      });\n    } else {\n      $(\".\" + this.props.uniqueClass + \"expand\").css({\n        opacity: \".5\"\n      });\n    }\n\n    var expandButton = null;\n    if (this.props.dropDownData) {\n      expandButton = this.createIcon(\n        ExpandMoreIcon,\n        () => this.setState({ down: !this.state.down }),\n        this.props.uniqueClass + \"expand\",\n        16\n      );\n    }\n\n          // onMouseOver={() => $(\".tooltip\" + this.props.uniqueClass).css({opacity: \"1\"})}\n      // onMouseOut={() => $(\".tooltip\" + this.props.uniqueClass).css({opacity: \"0\"})}\n\n    return (\n      <div class=\"m-3 mt-4\"\n\n      >\n\n            {this.renderTooltip()}\n              <div\n\n\n              >\n\n            {this.createIcon(\n              this.props.iconType,\n              this.props.iconCallback,\n              this.props.uniqueClass,\n              20\n            )}\n\n            {expandButton}\n          </div>\n     \n\n        {this.renderDropDowns()}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport { saveAs } from \"file-saver\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport FunctionStamp from \"./FunctionStamp.js\";\nimport ConsoleStamp from \"./ConsoleStamp.js\";\nimport ControlBar from \"./ControlBar.js\";\nimport BlobStamp from \"./BlobStamp.js\";\nimport { Mutex } from \"async-mutex\";\nimport { Line } from \"react-lineto\";\nimport cheerio from \"cheerio\";\nimport { SteppedLineTo } from \"react-lineto\";\nimport parser from \"./parser.js\";\nimport anim from \"css-animation\";\nimport { Resizable, ResizableBox } from \"react-resizable\";\nimport styled from \"styled-components\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\nvar _ = require(\"lodash\");\n\nvar esprima = require(\"esprima\");\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nconst defaultSetup = require(\"./defaultSetup.js\");\n\nexport default class View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fnStamps: {},\n      scale: 1,\n      counter: 0,\n      blobStamps: {},\n      htmlID: -1,\n      cssID: -1,\n      consoleStamp: null,\n      setupExists: true,\n      htmlAsksForCss: true,\n      htmlAsksForJs: true,\n      lines: [],\n      lineData: [],\n      traversalGraph: {},\n      consoleId: -1,\n      numToggles: 0,\n      originX: 0,\n      originY: 0,\n      scale: 1,\n      originCristal: null,\n      pickerData: [],\n      sideBarWidth:0,\n      topBarHeight:0\n\n    };\n    this.counterMutex = new Mutex();\n    this.aceRef = React.createRef()\n    this.newStampMarginVariance = 100;\n        this.newStampMargin = 20;\n\n    ipc &&\n      ipc.on(\"writeToView\", (event, files) => \n\n            this.loadStamperFile(files.stamper)\n      );\n\n    ipc &&\n      ipc.on(\"resetView\", (event) => \n\n           this.loadStamperFile(defaultSetup.getSetup())\n      );\n\n    ipc &&\n      ipc.on(\"requestSave\", (event, rawCode) => {\n        this.sendSaveData();\n      });\n  }\n\n  componentDidMount() {\n    this.loadStamperFile(defaultSetup.getSetup());\n    document.addEventListener(\"mousedown\", this.onGlobalMouseDown);\n  }\n\n  updateControlBarDimensions(sideBarWidth, topBarHeight){\n    console.log(sideBarWidth, topBarHeight)\n    this.setState({sideBarWidth:sideBarWidth, topBarHeight:topBarHeight})\n  }\n\n  loadStamperFile(stamperFile) {\n        this.setState(\n          {\n            fnStamps: {},\n            blobStamps: {},\n            counter: 0,\n            htmlID: -1,\n            cssID: -1,\n            scale: 1,\n            consoleStamp: null,\n            consoleId: -1,\n            originX: 0,\n            originY: 0,\n            originCristal: null\n          },\n          () => {\n\n\n    this.setState(\n      {\n        scale: stamperFile.scale,\n        originX: stamperFile.originX,\n        originY: stamperFile.originY\n      },\n      () => {\n        this.addConsoleStamp(stamperFile.console);\n        stamperFile.fns.map(data => this.addFnStamp(data));\n        stamperFile.blobs.map(data => this.addBlobStamp(data));\n\n        this.setOriginCristal()\n      }\n    )\n\n          }\n)\n\n  }\n\n  getIframeErrorCallBack(ranges, offset = 0) {\n    var strRanges = JSON.stringify(ranges);\n    return `\n  // window.addEventListener('error', function(e) { \n  //   console.log(\"addEventListener\")\n  //     logToConsole(e.message, e.lineno)\n  //   }, false);\n\nwindow.onerror = function (message, url, lineno, colno) {\n\n  logToConsole(message, lineno)\n}\n\nfunction logToConsole(message, lineno){\n\n      var adjLineNum = -1\n      var stampId = -1\n      var ranges = ${strRanges}\n\n      ranges.map(range => {\n        var start = range.start\n        var end = range.end\n        var id = range.id\n        var isFN = range.isFN\n        var isInRange = start + ${offset} < lineno + 1 && lineno -1 < end + ${offset}\n\n        \n        if(isInRange){\n          adjLineNum = lineno - start - ${offset} + 1\n          stampId = id\n          if(range.isFn){\n            adjLineNum -= 1\n          }\n        }\n      })\n\n      window.parent.postMessage({type:\"error\", message:message, lineno:adjLineNum, id:stampId}, '*')\n\n    }`;\n  }\n\n  getHTML(id) {\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return \"\";\n    }\n\n    if (id === this.state.htmlID || id === this.state.cssID) {\n      var runnableCode = \"\";\n      var ranges = [];\n    } else {\n      var codeData = this.getRunnableCode(id);\n      var runnableCode = codeData.runnableCode;\n      var ranges = codeData.ranges;\n    }\n\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var html = htmlStamp.ref.current.state.code;\n\n    const parser = cheerio.load(html, { withStartIndices: true });\n    var jsBlockStr =\n      \"<script type='text/javascript'>\" + runnableCode + \"</script>\";\n    var cssBlockStr =\n      \"<style>\" + cssStamp.ref.current.state.runnableInnerCode + \"</style>\";\n    var jsSelector = '[src=\"sketch.js\"]';\n    var cssSelector = '[href=\"style.css\"]';\n\n    var jsBlock = parser(jsBlockStr);\n    var cssBlock = parser(cssBlockStr);\n\n    // const start = parser(jsSelector).get(0).startIndex;\n\n    var htmlAsksForCss = parser(cssSelector).length > 0;\n    if (htmlAsksForCss === false && this.state.htmlAsksForCss === true) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: Your index.html is missing a div for style.css. Make sure you're linking to style.css and not another stylesheet.`\n      );\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1);\n      this.setState({ htmlAsksForCss: htmlAsksForCss });\n    } else if (htmlAsksForCss === true && this.state.htmlAsksForCss === false) {\n      this.setState({ htmlAsksForCss: htmlAsksForCss });\n    }\n\n    var htmlAsksForJs = parser(jsSelector).length > 0;\n    if (htmlAsksForJs === false && this.state.htmlAsksForJs === true) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: Your index.html is missing a div for sketch.js. Make sure you're linking to sketch.js and not another sketch file.`\n      );\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1);\n      this.setState({ htmlAsksForJs: htmlAsksForJs });\n    } else if (htmlAsksForJs === true && this.state.htmlAsksForJs === false) {\n      this.setState({ htmlAsksForJs: htmlAsksForJs });\n    }\n\n    parser(cssSelector).replaceWith(cssBlock);\n\n    parser(\"head\").prepend(\n      \"<script class='errorListener' >\" +\n        this.getIframeErrorCallBack(ranges) +\n        \"</script>\"\n    );\n\n    var htmlStr = parser.html();\n    var linesToJs = 0;\n    for (var i = 0; i < htmlStr.length; i++) {\n      if (htmlStr[i] === \"\\n\") {\n        linesToJs += 1;\n      }\n      if (htmlStr.substr(i, \"sketch.js\".length) === \"sketch.js\") {\n        break;\n      }\n    }\n\n    parser(\".errorListener\").replaceWith(\n      \"<script class='errorListener' >\" +\n        this.getIframeErrorCallBack(ranges, linesToJs) +\n        \"</script>\"\n    );\n    parser(jsSelector).replaceWith(jsBlock);\n    return parser.html();\n  }\n\n  addErrorLine(lineNum, id) {\n    if (id in this.state.fnStamps) {\n      this.state.fnStamps[id].ref.current.addErrorLine(lineNum);\n    } else if (id in this.state.blobStamps) {\n      this.state.blobStamps[id].ref.current.addErrorLine(lineNum);\n    }\n  }\n\n  manualZoom(newScale, mouseX, mouseY) {\n    if (this.state.scale === 1) {\n      return;\n    }\n\n    Object.values(this.state.fnStamps).map(fnStamp =>\n      fnStamp.ref.current.cristalRef.current.zoom(newScale, mouseX, mouseY)\n    );\n    Object.values(this.state.blobStamps).map(varStamp =>\n      varStamp.ref.current.cristalRef.current.zoom(newScale, mouseX, mouseY)\n    );\n\n    this.state.console.ref.current.zoom(newScale, mouseX, mouseY);\n    this.cristalRef.current.zoom(newScale, mouseX, mouseY);\n    this.setState({ scale: newScale });\n  }\n\n  setInitialPosition(dimension) {\n    if(dimension === \"x\"){\n      return this.state.sideBarWidth +\n      this.newStampMargin +\n      Math.random() * this.newStampMarginVariance;\n    }else if(dimension === \"y\"){\n      return this.state.topBarHeight +\n      this.newStampMargin +\n      Math.random() * this.newStampMarginVariance;\n    }\n  }\n\n  addConsoleStamp(data) {\n    var defaults = {\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      consoleWidth: globals.defaultEditorWidth,\n      consoleHeight: globals.defaultVarEditorHeight,\n      hidden: false,\n      originX: 0,\n      originY: 0\n    };\n\n    Object.keys(defaults).map(setting => {\n      if ((setting in data)) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults\n\n    this.createConsoleStamp(data);\n  }\n\n  async createConsoleStamp(data) {\n    var x = data.x,\n      y = data.y,\n      consoleWidth = data.consoleWidth,\n      consoleHeight = data.consoleHeight;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var ref = React.createRef();\n\n    var elem = (\n      <ConsoleStamp\n        initialScale={this.state.scale}\n        ref={ref}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        initialScale={this.state.scale}\n        disablePan={this.disablePan.bind(this)}\n        starterConsoleWidth={consoleWidth}\n        starterConsoleHeight={consoleHeight}\n        addErrorLine={this.addErrorLine.bind(this)}\n        initialHidden={data.hidden}\n        initialOriginX={data.originX}\n        initialOriginY={data.originY}\n      />\n    );\n\n    var consoleStamp = { elem: elem, ref: ref };\n    this.setState({ consoleStamp: consoleStamp, consoleId: counter });\n  }\n\n  addFnStamp(\n    data,\n    updateName = false,\n    updatePosition = false,\n    setIframeDisabled = false,\n    callback = () => null\n  ) {\n    var defaults = {\n      name: \"sketch\",\n      code: \"rect(50, 50, 50, 50)\",\n      args: \"x=mouseX, y=mouseY\",\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      iframeDisabled: false,\n      editorWidth: globals.defaultEditorWidth,\n      editorHeight: globals.defaultEditorHeight - globals.brHeight,\n      iframeWidth: globals.defaultIframeWidth,\n      iframeHeight: globals.defaultEditorHeight,\n      isHtml: false,\n      isCss: false,\n      hidden: false,\n      originX: 0,\n      originY: 0\n    };\n\n    Object.keys(defaults).map(setting => {\n      if ((setting in data)) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults\n\n    if (updatePosition) {\n      data.x += globals.copyOffset * 2 * this.state.scale;\n      data.y += globals.copyOffset * 2 * this.state.scale;\n    }\n\n    var newName = data.name + (this.state.counter + 1).toString();\n\n    if (updateName) {\n      data.name = newName;\n    }\n\n    data.iframeDisabled = setIframeDisabled;\n\n    this.createFnStamp(data, callback);\n    this.refreshBlobStamps(this.state.blobStamps);\n    return newName;\n  }\n\n  async createFnStamp(data, callback) {\n    var name = data.name,\n      code = data.code,\n      args = data.args,\n      args = data.args,\n      x = data.x,\n      y = data.y,\n      iframeDisabled = data.iframeDisabled,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      iframeWidth = data.iframeWidth,\n      iframeHeight = data.iframeHeight,\n      isHtml = data.isHtml,\n      isCss = data.isCss,\n      hidden = data.hidden;\n\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var fnStamps = this.state.fnStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <FunctionStamp\n        ref={ref}\n        isHtml={isHtml}\n        isCss={isCss}\n        starterCode={code}\n        starterArgs={args}\n        starterName={name}\n        errorLines={{}}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        deleteFrame={this.deleteFrame}\n        initialHidden={hidden}\n        initialOriginX={data.originX}\n        initialOriginY={data.originY}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addFnStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        initialScale={this.state.scale}\n        starterIframeWidth={iframeWidth}\n        starterIframeHeight={iframeHeight}\n        checkAllNames={this.checkAllNames.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        iframeDisabled={iframeDisabled}\n        requestCompile={this.requestCompile.bind(this)}\n        getHTML={this.getHTML.bind(this)}\n        getScale={() => {\n          return this.state.scale;\n        }}\n        addNewIframeConsole={this.addNewIframeConsole.bind(this)}\n      />\n    );\n\n    fnStamps[counter] = { elem: elem, ref: ref };\n\n\n    this.setState({ fnStamps: fnStamps }, callback);\n\n    if (isHtml) {\n      this.setState({ htmlID: counter });\n    } else if (isCss) {\n      this.setState({ cssID: counter });\n    }\n  }\n\n  addNewIframeConsole(newConsole) {\n    if (this.state.consoleStamp === null) {\n      return;\n    }\n    this.state.consoleStamp.ref.current.addNewIframeConsole(newConsole);\n  }\n\n  addBlobStamp(data, updatePosition = false,\n    callback = () => null) {\n    var defaults = {\n      code: \"var z = 10\",\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      editorWidth: globals.defaultEditorWidth,\n      editorHeight: globals.defaultVarEditorHeight,\n      hidden: false,\n      originX: 0,\n      originY: 0,\n      codeSize:globals.codeSize\n    };\n\n    Object.keys(defaults).map(setting => {\n      if ((setting in data)) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults\n    \n    if (updatePosition) {\n      data.x += globals.copyOffset * 2 * this.state.scale;\n      data.y += globals.copyOffset * 2 * this.state.scale;\n    }\n\n    this.createBlobStamp(data, callback);\n  }\n\n  async createBlobStamp(data, callback) {\n    var x = data.x,\n      y = data.y,\n      code = data.code,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      errorLines = data.errorLines,\n      hidden = data.hidden;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var blobStamps = this.state.blobStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <BlobStamp\n        ref={ref}\n        starterCode={code}\n        errorLines={{}}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        starterCodeSize ={data.codeSize}\n        deleteFrame={this.deleteFrame}\n        initialHidden={hidden}\n        initialOriginX={data.originX}\n        initialOriginY={data.originY}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addBlobStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        initialScale={this.state.scale}\n        disablePan={this.disablePan.bind(this)}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        requestCompile={this.requestCompile.bind(this)}\n        getExportableCode={this.getExportableCode.bind(this)}\n      />\n    );\n\n    blobStamps[counter] = { elem: elem, ref: ref };\n    this.setState({ blobStamps: blobStamps }, callback);\n  }\n\n  getFileData(){\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return;\n    }\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var fileData = {\n      html: htmlStamp.ref.current.state.code,\n      stamper: this.getAllData(),\n      css: cssStamp.ref.current.state.code,\n      js: this.getExportableCode()\n    };\n\n    return fileData    \n  }\n\n  sendSaveData() {\n    var fileData = this.getFileData()\n    if(fileData){\n    ipc && ipc.send(\"save\", fileData);\n    }\n\n  }\n\n  checkForSetup() {\n    var newSetupExists = false;\n    var fnStamps = Object.values(this.state.fnStamps);\n    for (var i = 0; i < fnStamps.length; i++) {\n      var fnStampRef = fnStamps[i].ref.current;\n\n      if (fnStampRef.state.name === \"setup\") {\n        newSetupExists = true;\n      }\n    }\n\n    if (this.state.setupExists && newSetupExists === false) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: You don't have a setup. This will constrain your canvas to a default width and height.`\n      );\n    }\n\n    this.setState({ setupExists: newSetupExists });\n\n    return newSetupExists;\n  }\n\n  requestCompile(id) {\n    // var newTraversalGraph = this.setLineData()\n    // var oldTravarsalGraph = this.state.traversalGraph\n    // this.setState({traversalGraph:newTraversalGraph})\n    this.state.consoleStamp.ref.current.logToConsole(\"Updated code\", \"debug\");\n\n    this.setLayerPicker();\n\n    var duplicateNamedStamps = this.checkAllNames();\n\n    this.checkForSetup();\n\n\n\n    this.sendSaveData();\n\n    // this.compileStamp(id, {}, newTraversalGraph, duplicateNamedStamps)\n\n    // this.compileStamp(id, {}, oldTravarsalGraph, duplicateNamedStamps)\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var stampRef = stamp.ref.current;\n      if (stampRef) {\n        var newErrors = [];\n        if (\n          stampRef.props.id in duplicateNamedStamps &&\n          stampRef.props.isCss === false &&\n          stampRef.props.isHtml === false\n        ) {\n          newErrors.push(0);\n        }\n\n        stampRef.clearErrorsAndUpdate(newErrors);\n      }\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var stampRef = stamp.ref.current;\n      if (stampRef) {\n        var newErrors = [];\n\n        if (\n          stampRef.props.id in duplicateNamedStamps &&\n          stampRef.props.isCss === false &&\n          stampRef.props.isHtml === false\n        ) {\n          newErrors.push(0);\n        }\n\n        stampRef.clearErrorsAndUpdate(newErrors);\n      }\n    });\n  }\n\n  compileStamp(id, seen, traversalGraph, duplicateNamedStamps) {\n    if (id in seen) {\n      return;\n    } else {\n      seen[id] = \"\";\n    }\n\n    if (id in this.state.fnStamps) {\n      var stampRef = this.state.fnStamps[id].ref.current;\n    } else if (id in this.state.blobStamps) {\n      var stampRef = this.state.blobStamps[id].ref.current;\n    } else {\n      return;\n    }\n\n    if (stampRef) {\n      var newErrors = [];\n\n      if (\n        stampRef.props.id in duplicateNamedStamps &&\n        stampRef.props.isCss === false &&\n        stampRef.props.isHtml === false\n      ) {\n        newErrors.push(0);\n      }\n\n      stampRef.clearErrorsAndUpdate(newErrors);\n\n      if (id in traversalGraph === false) {\n        return;\n      }\n      traversalGraph[id].map(id =>\n        this.compileStamp(id, seen, traversalGraph, duplicateNamedStamps)\n      );\n    }\n  }\n\n  setOriginCristal(panDisabled = false){\n      var originCristal = (\n        <Cristal\n         parentID = {-1}\n          panDisabled = {panDisabled}\n          className=\" bg-grey\"\n          closeHidden\n          headerHidden\n          copyHidden\n          isResizable={false}\n          initialPosition={{ x: this.state.originX, y: this.state.originY }}\n          initialScale={this.state.scale}\n          onStopMove={s =>\n            this.setState({ originX: s.x, originY: s.y, scale: s.scale })\n          }\n        ></Cristal>\n      );\n      this.setState({ originCristal: originCristal });\n\n  }\n\n  disablePan(status) {\n    this.setOriginCristal(status)\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.disablePan(status);\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.disablePan(status);\n    });\n\n    var consoleCristalRef = this.state.consoleStamp.ref.current.cristalRef;\n    consoleCristalRef.current && consoleCristalRef.current.disablePan(status);\n  }\n\n  disableZoom(status) {\n    this.setOriginCristal(status)\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.disableZoom(status);\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.disableZoom(status);\n    });\n\n    var consoleCristalRef = this.state.consoleStamp.ref.current.cristalRef;\n    consoleCristalRef.current && consoleCristalRef.current.disableZoom(status);\n  }\n\n  checkAllNames() {\n    var nameDict = {};\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var name = stamp.ref.current.state.name;\n        if (!(name in nameDict)) {\n          nameDict[name] = 0;\n        }\n        nameDict[name] += 1;\n      }\n    });\n\n    var duplicateNamedStamps = {};\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var stampRef = stamp.ref.current;\n        var name = stamp.ref.current.state.name;\n        if (nameDict[name] > 1) {\n          duplicateNamedStamps[stamp.ref.current.props.id] = \"\";\n\n          this.state.consoleStamp.ref.current.logToConsole(\n            `Stamper Error: Multiple functions shouldn't have the same name. Consider channging one of your ${name}s to something else.`\n          );\n        }\n      }\n    });\n\n    return duplicateNamedStamps;\n  }\n\n  getExportableCode() {\n    var runnableCode = [];\n    var ranges = [];\n    var curLine = 1;\n    var code;\n\n    Object.values(this.state.blobStamps).map(blobStamp => {\n      code = blobStamp.ref.current.state.code;\n      curLine = this.addCodeBlock(\n        code,\n        blobStamp.ref.current.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    });\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (\n        stamp.ref.current.props.isCss === false &&\n        stamp.ref.current.props.isHtml === false \n      ) {\n        var state = stamp.ref.current.state;\n        code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n        curLine = this.addCodeBlock(\n          code,\n          stamp.ref.current.props.id,\n          runnableCode,\n          ranges,\n          curLine,\n          true\n          )\n      }\n    });\n\n    return runnableCode.join(\"\");\n  }\n\n  getNumLines(code) {\n    var numLines = 0;\n    for (var i = 0; i < code.length; i++) {\n      if (code[i] === \"\\n\") {\n        numLines += 1;\n      }\n    }\n\n    return numLines;\n  }\n\n  addCodeBlock(code, id, runnableCode, ranges, curLine, isFn) {\n    code = code.trim() + \"\\n\";\n    var start = curLine;\n    var end = curLine + this.getNumLines(code) - 1;\n    runnableCode.push(code);\n    ranges.push({ start: start, end: end, id: id, isFn: isFn });\n    return end + 1;\n  }\n\n  setLines() {\n    var lines = [];\n    var borderColorInt = 205 + 15 - 15 * this.state.scale;\n    var style = {\n      borderColor: `rgb(${borderColorInt}, ${borderColorInt}, ${borderColorInt})`,\n      borderWidth: 1\n    };\n\n    this.state.lineData.map(singleLineData => {\n      lines.push(\n        <SteppedLineTo\n          {...style}\n          from={\"vertex\" + singleLineData[0]}\n          to={\"vertex\" + singleLineData[1]}\n          orientation=\"v\"\n        />\n      );\n    });\n\n    this.setState({ lines: lines });\n  }\n\n  setLineData() {\n    var declaredDict = {};\n    var undeclaredArr = [];\n    var lineData = [];\n    var setupID = -1;\n    var traversalGraph = {};\n\n    Object.keys(this.state.blobStamps).map(id => {\n      var stampRef = this.state.blobStamps[id].ref.current;\n      var code = stampRef.state.code;\n      var identifiers = parser.getIdentifiers(code);\n\n      if (identifiers) {\n        identifiers.declared.map(identifier => (declaredDict[identifier] = id));\n        identifiers.undeclared.map(identifier =>\n          undeclaredArr.push([identifier, id])\n        );\n      }\n    });\n\n    Object.keys(this.state.fnStamps).map(id => {\n      var stampRef = this.state.fnStamps[id].ref.current;\n\n      if (stampRef.state.name === \"setup\") {\n        setupID = id;\n      }\n      var state = stampRef.state;\n      var code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n      var identifiers = parser.getIdentifiers(code);\n      if (identifiers) {\n        identifiers.declared.map(identifier => (declaredDict[identifier] = id));\n        identifiers.undeclared.map(identifier =>\n          undeclaredArr.push([identifier, id])\n        );\n      }\n    });\n\n    undeclaredArr.map(undeclaredItem => {\n      var identifier = undeclaredItem[0];\n      var usingFn = undeclaredItem[1];\n      var declaringFn = declaredDict[identifier];\n      if (declaringFn && usingFn) {\n        lineData.push([usingFn, declaringFn]);\n        if (declaringFn in traversalGraph === false) {\n          traversalGraph[declaringFn] = [];\n        }\n        traversalGraph[declaringFn].push(usingFn);\n      }\n    });\n\n    Object.keys(this.state.fnStamps).map(id => {\n      if (id != this.state.htmlID && id != this.state.cssID && id != setupID) {\n        lineData.push([id, setupID]);\n        if (setupID in traversalGraph === false) {\n          traversalGraph[setupID] = [];\n        }\n        traversalGraph[setupID].push(id);\n      }\n    });\n\n    this.setState({ lineData: lineData }, () => this.setLines());\n\n    Object.keys(this.state.fnStamps).map(id => {\n      if (id != this.state.htmlID && id != this.state.cssID) {\n        if (this.state.htmlID in traversalGraph === false) {\n          traversalGraph[this.state.htmlID] = [];\n        }\n        traversalGraph[this.state.htmlID].push(id);\n      }\n    });\n\n    traversalGraph[this.state.cssID] = [this.state.htmlID];\n\n    return traversalGraph;\n  }\n\n  getRunnableCode(id) {\n    var runnableCode = [];\n    var ranges = [];\n    var curLine = 1;\n    var code;\n\n    Object.values(this.state.blobStamps).map(blobStamp => {\n      code = blobStamp.ref.current.state.code;\n      curLine = this.addCodeBlock(\n        code,\n        blobStamp.ref.current.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    });\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (\n        stamp.ref.current.state.name != \"draw\" &&\n        stamp.ref.current.props.isCss === false &&\n        stamp.ref.current.props.isHtml === false  && \n        (this.isListener(stamp.ref.current.state.name) === false || this.isListener(this.state.fnStamps[id].ref.current.state.name)  === false)\n\n      ) {\n        var state = stamp.ref.current.state;\n        code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n        curLine = this.addCodeBlock(\n          code,\n          stamp.ref.current.props.id,\n          runnableCode,\n          ranges,\n          curLine,\n          true\n        );\n      }\n    });\n\n    if (\n      id in this.state.fnStamps == false ||\n      this.state.fnStamps[id].ref.current === null\n    ) {\n      return runnableCode.join(\"\");\n    }\n\n    var fnStampRef = this.state.fnStamps[id].ref.current;\n    var state = fnStampRef.state;\n    if (state.name === \"draw\" || this.isListener(state.name)) {\n\n      var fullFun = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n      curLine = this.addCodeBlock(\n        fullFun,\n        fnStampRef.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        true\n      );\n    } else if (state.name === \"setup\") {\n      // do nothing\n    }else {\n      code = `function draw(){\\n${state.name}()\\n}`;\n      curLine = this.addCodeBlock(\n        code,\n        -1,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    }\n    return { ranges: ranges, runnableCode: this.setLoopingControl(id, runnableCode.join(\"\")) };\n  }\n\n  setLoopingControl(id, runnableCode){\n\nvar loopingVar = \"_isLooping\"\n\nvar loopingCallbacks = `\\n\nvar _isLooping = true\\n\nwindow.parent.postMessage({type:\"loop\", message:\"stop\", id:${id}}, '*')\nvar _userSetLoop = true\nvar _stopLooping = setTimeout(() => {\n noLoop() \n}, 1000)\n\ndocument.addEventListener('mouseenter', () => {\nclearTimeout(_stopLooping)\nif(_isLooping){\nloop()\n}\n\nwindow.parent.postMessage({type:\"loop\", message:\"start\", id:${id}}, '*')\n});\ndocument.addEventListener('mouseleave', () => {\n  window.parent.postMessage({type:\"loop\", message:\"stop\", id:${id}}, '*')\nstopLooping =setTimeout(() => {\n noLoop() \n}, 1000)\n});\n`\n\nrunnableCode = runnableCode.replace(\"noLoop()\", `noLoop()\\n_isLooping = false`)\nrunnableCode = runnableCode.replace(\"loop()\", `loop()\\n_isLooping = true`)\nrunnableCode += loopingCallbacks\n\nreturn runnableCode\n\n  }\n\n  isListener(name){\n    return name in globals.specialFns && globals.specialFns[name] === false\n  }\n\n  onDelete(id) {\n    var fnStamps = this.state.fnStamps;\n    var blobStamps = this.state.blobStamps;\n\n    if (id in fnStamps) {\n      ipc && ipc.send(\"edited\");\n      delete fnStamps[id];\n    } else if (id in blobStamps) {\n      ipc && ipc.send(\"edited\");\n      delete blobStamps[id];\n    }\n\n    this.refreshFnStamps(fnStamps);\n    this.refreshBlobStamps(blobStamps);\n    // this.refreshConsoleStamp(this.state.consoleStamp)\n  }\n\n  refreshConsoleStamp(consoleStamp) {\n    var data = consoleStamp.ref.current.getData();\n    this.setState({ consoleStamp: null }, () => this.addConsoleStamp(data));\n  }\n\n  getAllData() {\n    var data = {\n      fns: [],\n      blobs: [],\n      scale: this.state.scale,\n      console: this.state.consoleStamp.ref.current.getData(),\n      originX: this.state.originX,\n      originY: this.state.originY\n    };\n    Object.values(this.state.fnStamps).map(stamp =>\n      data.fns.push(stamp.ref.current.getData())\n    );\n\n    Object.values(this.state.blobStamps).map(stamp =>\n      data.blobs.push(stamp.ref.current.getData())\n    );\n\n    return data;\n  }\n\n  refreshFnStamps(fnStamps) {\n    var fnStampData = [];\n    for (var i in fnStamps) {\n      var stamp = fnStamps[i];\n      var data = stamp.ref.current.getData();\n\n      fnStampData.push(data);\n    }\n\n    this.setState({ fnStamps: {} }, () =>\n      fnStampData.map(data => this.addFnStamp(data))\n    );\n  }\n\n  refreshBlobStamps(blobStamps) {\n    var varStampData = [];\n    for (var i in blobStamps) {\n      var stamp = blobStamps[i];\n      var data = stamp.ref.current.getData();\n\n      varStampData.push(data);\n    }\n\n    this.setState({ blobStamps: {} }, () =>\n      varStampData.map(data => this.createBlobStamp(data))\n    );\n  }\n\n  onStartMove() {\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n\n      fnStamp.setIframeDisabled(true);\n    }\n\n    this.setState({ lines: [] });\n  }\n\n  onStopMove(s) {\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n      fnStamp.setIframeDisabled(false);\n    }\n\n    this.setLines();\n  }\n\n  centerOnStamp(id, xOff, yOff){\n\n    var stampRef \n\n    if(id in this.state.fnStamps){\n      stampRef = this.state.fnStamps[id].ref.current\n    }else if(id in this.state.blobStamps){\n      stampRef = this.state.blobStamps[id].ref.current\n    }else if(this.state.consoleStamp.ref.current && id === this.state.consoleStamp.ref.current.props.id){\n      stampRef = this.state.consoleStamp.ref.current\n    }\n\n    if(stampRef){\n      var cristalRef = stampRef.cristalRef.current\n      if(cristalRef){\n\n        var x = cristalRef.state.x, y=cristalRef.state.y, width = cristalRef.state.width,\n        height = cristalRef.state.height\n\n\n        var newX = (window.innerWidth-xOff)/2 + xOff - width/2*this.state.scale\n        var newY = (window.innerHeight-yOff)/2 + yOff - height/2*this.state.scale\n\n        this.manualPan(newX - x, newY - y) \n        cristalRef.changeZIndex()\n\n      }\n    }\n  }\n\n\n  manualPan(xDiff, yDiff){\n\n    var oldTransition = $(\".stamp\").css(\"transition\")\n    $(\".stamp\").css({transition: \"all .5s ease\"})\n    setTimeout(() => $(\".stamp\").css({transition: oldTransition}), 500)\n\n    this.setState({originX:this.state.originX + xDiff, \n      originY:this.state.originY + yDiff, originCristal:null},\n      () => this.setOriginCristal())\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.setPos(xDiff, yDiff);\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var cristalRef = stamp.ref.current.cristalRef;\n      cristalRef.current && cristalRef.current.setPos(xDiff, yDiff);\n    });\n\n    var consoleCristalRef = this.state.consoleStamp.ref.current.cristalRef;\n    consoleCristalRef.current && consoleCristalRef.current.setPos(xDiff, yDiff);\n\n\n  }\n\n  toggleHide(stampRef) {\n    stampRef.toggleHide(\n      this.state.scale,\n      this.state.originX,\n      this.state.originY,\n      () => this.setLayerPicker()\n    );\n  }\n\n  getFirstLine(text) {\n    for (var i = 0; i < text.length; i++) {\n      if (text[i] === \"\\n\") {\n        if(i === 0){\n          return \" \"\n        }\n        return text.substr(0, i);\n      }\n    }\n    return text.substr(0, Math.min(text.length, 15));\n  }\n\n  setLayerPicker() {\n    var pickerData = [];\n\n    if (this.state.consoleStamp && this.state.consoleStamp.ref.current) {\n      var consoleRef = this.state.consoleStamp.ref.current;\n      pickerData.push({\n        name: \"console\",\n        status: !consoleRef.state.hidden,\n        icon: consoleRef.getIcon(),\n        centerCallback:(xOff, yOff) => this.centerOnStamp(consoleRef.props.id, xOff, yOff),\n        hideCallback: () => this.toggleHide(consoleRef),\n        id:consoleRef.props.id\n      });\n    }\n\n    var fnIds = Object.keys(this.state.fnStamps)\n    var blobIds = Object.keys(this.state.blobStamps)\n    var allIds = fnIds.concat(blobIds)\n    allIds.map(id => {\n      if(id in this.state.fnStamps){\n        var stampRef = this.state.fnStamps[id].ref.current;\n        if(!stampRef){return}\n        var name = stampRef.state.name\n\n        \n      }else if(id in this.state.blobStamps){\n        var stampRef = this.state.blobStamps[id].ref.current\n        if(!stampRef){return}\n        var name = this.getFirstLine(stampRef.state.code)\n      }\n\n          pickerData.push({\n          name: name,\n          icon: stampRef.getIcon(),\n          status: !stampRef.state.hidden,\n        centerCallback:(xOff, yOff) => this.centerOnStamp(stampRef.props.id, xOff, yOff),\n          hideCallback: () => this.toggleHide(stampRef),\n        id:stampRef.props.id\n        });\n    })\n\n    this.setState({ pickerData: pickerData });\n  }\n\n  \n  render() {\n    if (this.state.consoleStamp) {\n      var consoleElem = this.state.consoleStamp.elem;\n    } else {\n      var consoleElem = null;\n    }\n\n    var elems = [];\n\n    Object.values(this.state.fnStamps).map(stamp => elems.push(stamp.elem));\n    Object.values(this.state.blobStamps).map(stamp => elems.push(stamp.elem));\n\n    return (\n      <div>\n              {this.state.originCristal}\n        <div class=\"row bg-grey\" style={{ height: \"100vh\" }}>\n          {elems}\n          {consoleElem}\n          {this.state.lines}\n        </div>\n            \n  \n        <ControlBar pickerData={this.state.pickerData} \n        addBlobStamp={this.addBlobStamp.bind(this)}\n        addFnStamp={this.addFnStamp.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        disableZoom={this.disableZoom.bind(this)}\n        loadStamperFile={this.loadStamperFile.bind(this)}\n        getFileData = {this.getFileData.bind(this)}\n        updateControlBarDimensions ={this.updateControlBarDimensions.bind(this)}/>\n\n     \n      </div>\n    );\n  }\n}\n","import './App.scss';\n\nimport React, {Component} from \"react\";\n\nimport View from \"./View.js\"\n\n\n\nfunction App() {\n  document.title = \"Stamper\"\n  return (\n    <div>\n\n    \t<View/>\n    </div>\n  );\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/box.310d8273.svg\";","module.exports = __webpack_public_path__ + \"static/media/bell.86facacc.svg\";","module.exports = __webpack_public_path__ + \"static/media/tool.d68b9b61.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevron-down.c66b213d.svg\";","var cssCode = `\nhtml, body {\n  margin: 0;\n  padding: 0;\n}`;\n\nvar htmlCode = `<html>\n  <head>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n  </head>\n  <body>\n    <script src='sketch.js'></script>\n  </body>\n</html>\n`;\n\nvar setup = {\"blobs\":[{\"code\":\"/* and comments!\\n \\n  click the 'T' to\\n  toggle text-size\\n  \\n*/\",\"codeSize\":28,\"editorHeight\":170.19109860377665,\"editorWidth\":354.70900337275435,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":1852.2303712131875,\"y\":460.0827512550624},{\"code\":\"/*Stamps can be hidden by clicking their eye-cons in the layer list\\n*/\",\"codeSize\":28,\"editorHeight\":165.3477841240168,\"editorWidth\":307.1892154701716,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":824.9440861374821,\"y\":151.9388674746644},{\"code\":\"// This is an \\\"Anything\\\" Stamp\\n// Which can be used for global variables\\n\\nvar dotSize = 20;\",\"codeSize\":14,\"editorHeight\":98.52985762467915,\"editorWidth\":266.5912253449911,\"hidden\":false,\"originX\":282.62676656995563,\"originY\":-15.46266693473126,\"scale\":0.7676893919706339,\"x\":1644.793753629589,\"y\":502.0226501105607},{\"code\":\"/* READ ME\\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \\n  /\\\\  _\\\\  _\\\\ \\\\ _/\\\\__ \\\\    /\\\\  _`\\\\ /\\\\__  _/\\\\  _  \\\\  /'\\\\_/`\\\\/\\\\  _`\\\\ /\\\\  _`\\\\ /\\\\  _`\\\\     \\n  \\\\ \\\\ \\\\/ /\\\\_` ' \\\\/_/\\\\ \\\\   \\\\ \\\\,\\\\L\\\\_\\\\/_/\\\\ \\\\\\\\ \\\\ \\\\L\\\\ \\\\/\\\\      \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\L\\\\_\\\\ \\\\ \\\\L\\\\ \\\\   \\n   \\\\ \\\\ \\\\ \\\\/_>   <_ \\\\ \\\\ \\\\   \\\\/_\\\\__ \\\\  \\\\ \\\\ \\\\\\\\ \\\\  __ \\\\ \\\\ \\\\__\\\\ \\\\ \\\\ ,__/\\\\ \\\\  _\\\\L\\\\ \\\\ ,  /   \\n    \\\\ \\\\ \\\\_ /\\\\_, ,_\\\\ \\\\_\\\\ \\\\    /\\\\ \\\\L\\\\ \\\\ \\\\ \\\\ \\\\\\\\ \\\\ \\\\/\\\\ \\\\ \\\\ \\\\_/\\\\ \\\\ \\\\ \\\\/  \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\\\\\ \\\\  \\n     \\\\ \\\\___\\\\/_/\\\\_\\\\/ /\\\\___\\\\   \\\\ `\\\\____\\\\ \\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\   \\\\ \\\\____/\\\\ \\\\_\\\\ \\\\_\\\\\\n      \\\\/___/  \\\\/_/  \\\\/___/    \\\\/_____/  \\\\/_/ \\\\/_/\\\\/_/\\\\/_/ \\\\/_/\\\\/_/    \\\\/___/  \\\\/_/\\\\/ / \\n\\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\\n     \\n     In Stamper, your code is structured into \\\"Stamps\\\", there are 5 types:\\n     \\n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\\n     \\n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\\n     \\n     3. Console for printing messages\\n        \\n     4. HTML for updating the webpage which holds your sketch\\n     \\n     5. CSS for updating global style of that webpage\\n\\n*/\",\"codeSize\":14,\"editorHeight\":290,\"editorWidth\":676,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":349.00619896050864,\"y\":155.27021550077865},{\"code\":\"/*\\n  Stamps can call one another. Try switching out the 'basicDot' for the 'sizeDot'\\n*/\",\"codeSize\":14,\"editorHeight\":110.28612602487812,\"editorWidth\":300.5714094617597,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2575.6535841590558,\"y\":512.3757763314227},{\"code\":\"/*\\n  A Stamper project is ~= to one p5 sketch, this means:\\n    \\n    1. Everything is in global scope and you can call functions freely\\n    2. When you're export, the Stamp named \\\"draw\\\" will act as the draw() function, if you import this code into the p5 web editor.\\n*/\",\"codeSize\":14,\"editorHeight\":158,\"editorWidth\":465,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":643.4022632181682,\"y\":778.4010462972009},{\"code\":\"/*\\n  Duplicate a Stamp to try a new idea\\n  \\n  1. Click on Stamp titlebar\\n  2. Hold Option () and drag to new position\\n  3. Release Mouse\\n*/\",\"codeSize\":14,\"editorHeight\":113.07436560542837,\"editorWidth\":411.46198635889164,\"hidden\":false,\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2822.5651142202446,\"y\":512.1624845761107}],\"console\":{\"consoleHeight\":224,\"consoleWidth\":220,\"hidden\":false,\"originX\":1004.6898982788305,\"originY\":-30.29915414513107,\"scale\":0.7676893919706339,\"x\":282.25833447049956,\"y\":395.20177816351355},\"fns\":[{\"args\":\" \",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":true,\"isHtml\":false,\"name\":\"style.css\",\"originX\":1741.7078732136542,\"originY\":130.85751294965604,\"scale\":0.6775643374025817,\"x\":1228.6214214610281,\"y\":214.96242299706108},{\"args\":\" \",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":true,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":true,\"name\":\"index.html\",\"originX\":1741.7078732136542,\"originY\":130.85751294965604,\"scale\":0.6775643374025817,\"x\":1425.3752845524734,\"y\":217.0974917737948},{\"args\":\"\",\"code\":\"background(255)\\nfill(117,250,151)\\ntextSize(50);\\n\\n// display last key pressed.\\ntext(dotSize + ' ' + keyCode, 20, 70)\\n\\nif (keyCode == 187) { // keyCode for '+'\\n  dotSize++\\n} else if (keyCode == 189) { // keyCode for '-'\\n  dotSize--\\n}\",\"editorHeight\":182,\"editorWidth\":413,\"hidden\":true,\"iframeHeight\":118,\"iframeWidth\":197,\"isCss\":false,\"isHtml\":false,\"name\":\"keyPressed\",\"originX\":889.007514520416,\"originY\":269.8040062840238,\"scale\":0.7676893919706339,\"x\":961.253652168773,\"y\":539.9161365527827},{\"args\":\"\",\"code\":\"colorMode(RGB, 255, 255, 255, 1);\\nbackground(151, 97, 246, .01);\\nstroke(255);\\nstrokeWeight(1)\\n\\nif (mouseIsPressed) {\\n  line(mouseX, mouseY, pmouseX, pmouseY);\\n}\",\"editorHeight\":179,\"editorWidth\":309,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"draw\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":914.4621169685273,\"y\":545.8313547694676},{\"args\":\" \",\"code\":\"createCanvas(200, 200)\",\"editorHeight\":178,\"editorWidth\":204,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"setup\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":612.965425514595,\"y\":546.8721690976088},{\"args\":\"\",\"code\":\"background(255, 10)\\nfor(var i = 0; i < 10; i++){\\n  basicDot(mouseX, i*20 )\\n}\\n\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"dotPattern\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2434.1382983107806,\"y\":640.4186577408053},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"noStroke()\\nbackground(255, 10)\\nfill(117,250,151)\\nellipse(x, y, dotSize, dotSize)\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"basicDot\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":1524.8344849444825,\"y\":625.2196042839628},{\"args\":\"x=mouseX, y=mouseY\",\"code\":\"// generate a random size\\nnoStroke()\\nvar size = random(0, 20)\\n\\n// use it to draw the dot\\nfill(86,220,248, size*.05 *255);\\nellipse(x,y,size, size);\",\"editorHeight\":175,\"editorWidth\":225,\"hidden\":false,\"iframeHeight\":200,\"iframeWidth\":200,\"isCss\":false,\"isHtml\":false,\"name\":\"sizeDot\",\"originX\":0,\"originY\":0,\"scale\":0.7676893919706339,\"x\":2766.9123106515162,\"y\":640.4347516059636}],\"originX\":1711.8106112865134,\"originY\":90.05420049639952,\"scale\":0.6635166071355336,\"compressedJs\":\"V<o\\u0016,\"}\n\nexports.getSetup = () => setup;\n","module.exports = __webpack_public_path__ + \"static/media/trash.e6887622.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy.745449c2.svg\";","module.exports = __webpack_public_path__ + \"static/media/slash.c6f7141b.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen-tool.e6eb6671.svg\";","module.exports = __webpack_public_path__ + \"static/media/layout.8a437d55.svg\";","module.exports = __webpack_public_path__ + \"static/media/printer.cb409233.svg\";","module.exports = __webpack_public_path__ + \"static/media/type.3950b751.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye.62517b9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye-off.c68b9e9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/download.ce2002cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/archive.97582ec6.svg\";","import ace from \"ace-builds\"\nace.define(\"ace/theme/p5\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\nexports.isDark = false;\nexports.cssClass = \"ace-p5\";\nexports.cssText = \".ace-p5 .ace_gutter {\\\n\tbackground: #F5F8FC;\\\n\tcolor: #333 !important;\\\n}\\\n\\\n.ace-p5 .ace_identifier {\\\n\tcolor: #000000;\\\n}\\\n.ace-p5 .ace_print-margin {\\\n\twidth: 1px;\\\n\tbackground: #F5F8FC;\\\n}\\\n\\\n.ace-p5 {\\\n\tbackground-color: #F5F8FC;\\\n\tcolor: #586E75\\\n}\\\n\\\n.ace-p5 .ace_cursor {\\\n\tcolor: #000000\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_selection {\\\n\tbackground: rgb(181, 213, 255)\\\n}\\\n\\\n.ace-p5.ace_multiselect .ace_selection.ace_start {\\\n\tbox-shadow: 0 0 3px 0px #FDF6E3;\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_step {\\\n\tbackground: rgb(255, 255, 0)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_bracket {\\\n\tmargin: -1px 0 0 -1px;\\\n\tborder: 1px solid rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_active-line {\\\n\tbackground: #EEE8D5\\\n}\\\n\\\n.ace-p5 .ace_gutter-active-line {\\\n\tbackground-color : #EDE5C1\\\n}\\\n.ace-p5 .ace_marker-layer .ace_selected-word {\\\n\tborder: 1px solid #7f9390\\\n}\\\n\\\n.ace-p5 .ace_invisible {\\\n\tcolor: rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_keyword  {\\\n\tcolor: #00A1D3\\\n}\\\n\\\n.ace-p5 .ace_keyword.ace_operator {\\\n\tcolor: #A67F59\\\n}\\\n.ace-p5 .ace_meta,\\\n.ace-p5 .ace_support.ace_class,\\\n.ace-p5 .ace_support.ace_type {\\\n\tcolor: #859900\\\n}\\\n\\\n.ace-p5 .ace_paren{\\\n\tcolor: #666\\\n}\\\n.ace-p5 .ace_constant.ace_character,\\\n.ace-p5 .ace_constant.ace_other {\\\n\tcolor: #CB4B16\\\n}\\\n.ace-p5 .ace_constant.ace_language {\\\n\tcolor: #B58900\\\n}\\\n.ace-p5 .ace_constant.ace_numeric {\\\n\tcolor: #dc3787\\\n}\\\n.ace-p5 .ace_fold {\\\n\tbackground-color: #268BD2;\\\n\tborder-color: #586E75\\\n}\\\n.ace-p5 .ace_function, {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_entity.ace_name.ace_function,\\\n.ace-p5 .ace_entity.ace_name.ace_tag,\\\n.ace-p5 .ace_support.ace_function,\\\n.ace-p5 .ace_variable,\\\n.ace-p5 .ace_variable.ace_language {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_storage {\\\n\tcolor: #704f21 !important\\\n}\\\n.ace-p5 .ace_string {\\\ncolor: #00a1d3 !important;\\\n}\\\n.ace-p5 .ace_string.ace_regexp {\\\ncolor: #D30102\\\n}\\\n.ace-p5 .ace_comment,\\\n.ace-p5 .ace_entity.ace_other.ace_attribute-name {\\\ncolor: #a0a0a0\\\n}\\\n.ace-p5 .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y\\\n}\"\n;\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});                (function() {\n                    ace.require([\"ace/theme/p5\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","module.exports = __webpack_public_path__ + \"static/media/code.d7ef8adb.svg\";","var esprima = require(\"esprima\");\nvar _ = require(\"lodash\");\nconst log = require(\"electron-log\");\n\n\n\n\n// function printQ(q){\n//   var str = \"\"\n//   q.map(data => {\n//     if(data[0] === null){\n//       str +=  \"null\" + \",\"\n//     }else{\n//       str +=  data[0].toString() + \",\"\n//     }\n\n//   })\n// }\n\n//////////////////////////////////// jsToStamps\n\nfunction jsToStamps(rawCode) {\n  try{\n    var program = esprima.parseScript(rawCode, {\n      range: true,\n      comment: true,\n      tolerant: true,\n      loc: true\n    });\n  }catch(error){\n    return null\n  }\n\n  var body = _.cloneDeep(program.body);\n  insertComments(body, program.comments);\n  var stamps = { fns: [], blobs: [] };\n  fillStampArrays(body, stamps.blobs, stamps.fns, rawCode);\n\n  return stamps;\n}\n\nfunction fillStampArrays(body, blobStamps, fnStamps, rawCode) {\n  var lastBlobLine = 0;\n  var tempBlobStamps = [];\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.type === \"FunctionDeclaration\") {\n      addFn(fnStamps, item, rawCode);\n    } else if (item.type === \"Block\" || item.type === \"Line\") {\n      lastBlobLine = addBlob(tempBlobStamps, item, rawCode, lastBlobLine, true);\n    } else {\n      lastBlobLine = addBlob(\n        tempBlobStamps,\n        item,\n        rawCode,\n        lastBlobLine,\n        false\n      );\n    }\n  }\n\n  for (var i = 0; i < tempBlobStamps.length; i++) {\n    var blobStamp = tempBlobStamps[i];\n    if (blobStamp.code != \"\") {\n      blobStamps.push(blobStamp);\n    }\n  }\n}\n\nfunction insertComments(body, comments) {\n  for (var i = 0; i < comments.length; i++) {\n    var comment = comments[i];\n    var pos = getPos(body, comment);\n\n    if (pos >= 0) {\n      body.splice(pos, 0, comment);\n    }\n  }\n}\n\nfunction getPos(body, comment) {\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.range[0] < comment.range[0] && comment.range[1] < item.range[1]) {\n      return -1;\n    }\n    if (comment.range[1] < item.range[0]) {\n      return i;\n    }\n  }\n  return body.length;\n}\n\nfunction addBlob(blobStamps, item, rawCode, lastBlobLine, isComment) {\n  if (isComment) {\n    if ((item.type = \"Block\")) {\n      var code = \"/*\\n\" + item.value + \"\\n*/\";\n    } else {\n      var code = \"// \" + item.value;\n    }\n  } else {\n    var code = rawCode.substr(item.range[0], item.range[1] - item.range[0]);\n  }\n\n  if (blobStamps.length === 0) {\n    blobStamps.push({ code: \"\" });\n  }\n\n  var lastStamp = blobStamps[blobStamps.length - 1];\n\n  var lineDiff = item.loc.start.line - lastBlobLine;\n  if (lineDiff == 0) {\n    lastStamp.code += code;\n  } else if (lineDiff === 1) {\n    lastStamp.code += \"\\n\" + code;\n  } else {\n    blobStamps.push({ code: code });\n  }\n\n  return item.loc.end.line;\n}\n\nfunction addFn(fnStamps, item, rawCode) {\n  var range = item.range;\n  var name = item.id.name;\n\n  var args = \"\";\n  if (item.params.length >= 1) {\n    var argStart = item.params[0].range[0];\n    var argEnd = item.params[item.params.length - 1].range[1];\n    var args = rawCode.substr(argStart, argEnd - argStart);\n  }\n\n  var start = item.body.range[0] + 1;\n  var end = item.body.range[1] - 1;\n  var code = rawCode.substr(start, end - start);\n  fnStamps.push({ code: code, name: name, args: args });\n}\n\nexports.jsToStamps = jsToStamps;\n\n//////////////////////////////////// getIdentifiers\n\nfunction isDeclaration(typeName){\n  return typeName.includes(\"Declaration\") || typeName.includes(\"Declarator\")\n}\n\nfunction getIdentifiers(rawCode) {\n\n\n  try {\n    var fullDict = esprima.parseScript(rawCode);\n  } catch (error) {\n    // throw error i guess\n  }\n\n\n  var declared = {};\n  var undeclared = {};\n\n  var q = [[null, fullDict, 0, null]];\n\n  while (q.length > 0) {\n\n    var cur = q.shift();\n  \n  \n    var key = cur[0];\n    var val = cur[1];\n    var pVal = cur[3];\n    var lvl = cur[2];\n\n\n\n\n    if (val === null) {\n      continue;\n    }\n\n    if (key && val && pVal) {\n\n      if (\n        key === \"id\" &&\n        val.type === \"Identifier\" &&\n        isDeclaration(pVal.type) &&\n        val.name in declared === false\n      ) {\n  \n        declared[val.name] = [pVal.type, lvl];\n      }\n    }\n   \n    if (key && key === \"name\") {\n      if (val in declared === false) {\n        undeclared[val] = lvl;\n      }\n    }\n\n\n    if (val instanceof Array) {\n\n      val.map(newVal => q.push([null, newVal, lvl + 1, val]));\n    } else if (val instanceof Object) {\n  \n      Object.keys(val).map(newKey => {\n        q.push([newKey, val[newKey], lvl + 1, val]);\n      });\n\n    } else {\n      // let it die\n    }\n    \n  }\n\n\n  var result = {declared:[], undeclared:[]}\n  Object.keys(declared).map(name => {\n    if (declared[name][1] === 3 && declared[name][0].includes(\"Declaration\") ) {\n      result.declared.push(name)\n    }else if(declared[name][1] === 5 && declared[name][0].includes(\"Declarator\")){\n    result.declared.push(name)\n    }\n  });\n\n  var relevantUndeclared = {}\n  Object.keys(undeclared).map(name => {\n    result.undeclared.push(name)\n  })\n\n  return result\n}\n\n\nexports.getIdentifiers = getIdentifiers;\n"],"sourceRoot":""}