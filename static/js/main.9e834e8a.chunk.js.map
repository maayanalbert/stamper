{"version":3,"sources":["icons/globe.svg","icons/message-square.svg","react-cristal/dist/es2015/styled.js","react-cristal/dist/es2015/domain.js","react-cristal/dist/es2015/utils.js","react-cristal/dist/es2015/stacker.js","globals.js","react-cristal/dist/es2015/cristal.js","react-cristal/dist/es2015/content.js","react-cristal/dist/es2015/header.js","FunctionStamp.js","starterStamps.js","ModalManager.js","ConsoleStamp.js","BlobStamp.js","ControlBar.js","View.js","App.js","index.js","icons/box.svg","icons/bell.svg","icons/tool.svg","icons/chevron-down.svg","icons/trash.svg","icons/copy.svg","icons/slash.svg","icons/type.svg","icons/pen-tool.svg","icons/layout.svg","icons/printer.svg","icons/eye.svg","icons/eye-off.svg","icons/download.svg","icons/archive.svg","parser.js","theme-p5.js","icons/code.svg"],"names":["module","exports","templateObject_1","templateObject_2","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","templateObject_10","templateObject_11","__makeTemplateObject","cooked","raw","Object","defineProperty","value","minWidth","minHeight","padding","Wrapper","styled","div","_a","isActive","Header","isDraggable","BottomRightResizeHandle","BottomLeftResizeHandle","ContentWrapper","RightResizeHandle","img","LeftResizeHandle","BottomResizeHandle","isSmartPosition","position","defaultSize","width","height","getBoundaryCoords","coords","size","x","y","innerWidth","window","innerHeight","maxX","maxY","Math","min","max","getCordsFromInitialPosition","initialPosition","xCenter","yCenter","Infinity","Stacker","getNextIndex","index","maxIndex","updateMaxIndex","globals","defaultEditorWidth","defaultVarEditorHeight","defaultEditorHeight","defaultIframeWidth","iframeMargin","headerHeight","brHeight","codeSize","buttonTextSize","bigCodeSize","fnTitleHeight","copyOffset","iconOpacity","iconSize","iconTransition","borderTransition","specialFns","draw","preload","setup","windowResized","deviceMoved","deviceTurned","deviceShaken","keyPressed","keyReleased","keyTyped","mouseMoved","mouseDragged","mousePressed","mouseReleased","mouseClicked","doubleClicked","mouseWheel","fnStampWidth","fnStampHeight","p5Lib","navigator","userAgent","toLowerCase","indexOf","ipc","require","ipcRenderer","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","Cristal","_super","_this","apply","arguments","props","zIndex","state","isDragging","isResizingX","isResizingY","isResizingXLeft","downKey","isMoving","originalHeight","opt","cmd","ctrl","plus","minus","zero","onWindowResize","_b","undefined","newX","newY","setState","saveWrapperRef","el","childrenElement","initialSize","rect","getBoundingClientRect","setInitialPosition","cords","saveHeaderRef","headerElement","onKeyDown","e","keyCode","preventDefault","onKeyUp","onMouseDown","manualResize","widthDiff","heightDiff","onWheel","ctrlKey","onMouseMove","isResizing","scale","getScale","currentX","currentY","currentWidth","currentHeight","movementX","movementY","send","onStartMove","resizeCristal","_c","newWidth","newHeight","notifyResize","onStoppedMove","notifyStopMove","notifyMove","notifyOptMove","onMove","notifyZChange","onZChange","onResize","resizeBlocked","notifyStartMove","onStopMove","onOptMove","notifyStartResize","onStartResize","notifyStopResize","onStopResize","onMouseUp","mouseIsDown","startFullResize","startFullLeftResize","startXResize","startXLeftResize","startYResize","renderResizeHandles","isResizable","color","React","key","style","background","right","bottom","left","changeZIndex","createIcon","iconType","hiddenFlag","classVal","callBack","tooltipText","uniqueClass","parentID","toString","mouseOverCallback","$","css","opacity","mouseOutCallback","icon","onClick","className","onMouseOver","onMouseOut","src","OverlayTrigger","trigger","placement","overlay","Tooltip","id","fontSize","componentDidMount","document","addEventListener","onGlobalMouseDown","passive","componentWillUnmount","removeEventListener","get","enumerable","configurable","title","onClose","closeHidden","onCopy","copyHidden","closeBtn","DeleteStampIcon","copyBtn","CopyIcon","clearBtn","ClearConsoleIcon","showClear","onClear","onMinimize","minimizeBtn","MinimzeIcon","titleIcon","makeBigIcon","CodeSizeIcon","showMakeBig","onMakeBig","sideButtons","class","cursor","top","ref","children","render","border","outline","HeaderComponent","header","ContentComponent","content","headerHidden","wrapperName","defaultProps","Component","CristalContent","CristalHeader","FunctionStamp","code","starterCode","name","starterName","args","starterArgs","iframeDisabled","iframeWidth","starterIframeWidth","iframeHeight","editorHeight","starterEditorHeight","editorWidth","starterEditorWidth","isSpecialFn","editorScrolling","errorLines","iframeCode","editsMade","runningBorder","resizingIframe","hidden","initialHidden","looping","loopingTransition","cristalRef","createRef","editorRef","updateLooping","bind","callback","savedIframeHeight","data","type","message","starterIframeHeight","checkName","lineNum","newErrors","newErrorLines","getHTML","i","length","addErrorLine","current","editor","completers","push","getCompletions","session","pos","prefix","completions","forEach","w","meta","isScrolling","disablePan","markers","startRow","endRow","theme","mode","isHtml","isCss","setEditorScrolling","fontFamily","onChange","showPrintMargin","wrapEnabled","showGutter","highlightActiveLine","onScroll","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","hasCssTransforms","requestCompile","setTimeout","Name","nameColor","placeholder","disabled","event","target","loopingOpacity","floor","transition","updateIframeDimensions","onResizeStart","onResizeStop","overflow","compileCallback","iframeElem","addNewIframeConsole","contentWindow","console","scrolling","margin","srcdoc","sandbox","allow","status","isOpt","getData","updateName","updatePosition","setIframeDisabled","newName","addStamp","exported","resize","FunctionStampIcon","HtmlStampIcon","CssStampIcon","BuiltInStampIcon","ListenerStampIcon","headerColor","keys","bgColor","starterZIndex","s","log","onDelete","copyAndOpt","resizeEditor","getIcon","onMouseLeave","renderFunctionName","renderEditor","renderIframe","stamperHeader","builtInFns","keyPressCode","mousePressCode","listenerFns","normalFn","commentBlob","varBlob","starter1","starter","worlds","detect","deepEqual","browser","ModalManager","modalButtons","modalVisible","modalHeader","modalContent","saveInterval","inputElem","uploadProject","hideModal","setInterval","sendSaveData","on","files","openFiles","html","js","stamper","path","rawCode","createElement","webkitdirectory","multiple","idAttr","createAttribute","setAttributeNode","typeAttr","multipleAttr","directoryAttr","styleAttr","getElementById","appendChild","clearInterval","click","readDict","reader","FileReader","onload","result","readAsText","text","attemptToReadFile","curStamper","getAllData","worldStamper","originX","originY","compressedJs","newWorldStamper","buttons","loadStamperFile","requestDownload","curIsAWorld","fileData","getFileData","zip","JSZip","file","generateAsync","then","saveAs","lastDownloaded","oldJs","LZUTF8","decompress","inputEncoding","newStamper","parser","jsToStamps","fns","JSON","parse","substring","updateStamperJs","map","stamp","buttonElems","btnData","Button","variant","Modal","show","centered","onHide","closeButton","Title","Body","Footer","_","ConsoleStamp","logs","consoleHeight","starterConsoleHeight","consoleWidth","starterConsoleWidth","lastFreq","limit","logToConsole","lineno","ConsoleStampIcon","newConsole","Hook","newLogs","method","checkLastLog","consoleContainer","scrollTop","scrollHeight","lastLog","isEqual","freqString","renderedLogs","cloneDeep","resizeConsole","clearConsole","styles","LOG_COLOR","LOG_ERROR_BACKGROUND","LOG_ERROR_BORDER","LOG_ERROR_COLOR","BASE_FONT_FAMILY","BASE_FONT_SIZE","LOG_COMMAND_COLOR","BASE_BACKGROUND_COLOR","LOG_BORDER","LOG_COMMAND_ICON","BlobStamp","exportableCode","starterCodeSize","getExportableCode","BlobStampIcon","ControlBar","minPickerHeight","minJsImporterHeight","topBarHeight","minNonSideBarWidth","importButtonHeight","jsImporterHeight","sideBarWidth","pickerHeight","pickerScrollEnabled","codeHasError","updateControlBarDimensions","disableZoom","axis","handle","renderSideBarResizeHandle","renderLayerPicker","renderJsImporter","renderImportButton","stamps","curNumStamps","getNumStamps","recompileIfEnoughStamps","blobs","addFnStamp","addBlobStamp","parseCode","pickers","pickerData","item","VisibilityIcon","iconNameCallback","centerCallback","VisibilityOffIcon","overalOpacity","clas","hideCallback","overflowY","renderPickerResizeHandle","removeClass","addClass","DownloadIcon","iconCallback","modalManagerRef","requestUpload","alignLeft","dropDownData","WorldsIcon","world","requestWorldLoad","alignRight","renderSideBar","renderTopBar","TopButton","down","mouseOverDropDown","givenUniqueClass","ExpandMoreIcon","dropDowns","offset","textAlign","expandButton","renderTooltip","renderDropDowns","View","compiledBefore","fnStamps","counter","blobStamps","htmlID","cssID","consoleStamp","setupExists","htmlAsksForCss","htmlAsksForJs","lines","lineData","traversalGraph","consoleId","numToggles","counterMutex","Mutex","newStampMarginVariance","newStampMargin","space","centerX","centerY","zoom","body","pan","mouseWheelTimeout","clearTimeout","newTimeOut","deltaY","clientX","clientY","deltaX","changeX","changeY","panDisabled","a","newScale","mouseX","mouseY","zoomDisabled","numFns","numBlobs","stamperFile","addConsoleStamp","ranges","strRanges","stringify","runnableCode","codeData","getRunnableCode","htmlStamp","cssStamp","cheerio","load","withStartIndices","jsBlockStr","cssBlockStr","runnableInnerCode","jsBlock","cssBlock","replaceWith","prepend","getIframeErrorCallBack","htmlStr","linesToJs","substr","dimension","random","defaults","setting","createConsoleStamp","acquire","release","elem","createFnStamp","refreshBlobStamps","deleteFrame","checkAllNames","createBlobStamp","newSetupExists","values","compress","outputEncoding","setLayerPicker","duplicateNamedStamps","checkForSetup","stampRef","clearErrorsAndUpdate","seen","recursiveCompileStamp","nameDict","curLine","blobStamp","addCodeBlock","join","numLines","isFn","trim","start","end","getNumLines","borderColorInt","borderColor","borderWidth","singleLineData","from","to","orientation","declaredDict","undeclaredArr","setupID","identifiers","getIdentifiers","declared","identifier","undeclared","undeclaredItem","usingFn","declaringFn","setLines","isListener","fnStampRef","fullFun","setLoopingControl","loopingCallbacks","replace","refreshFnStamps","stampData","xOff","yOff","manualPan","xDiff","yDiff","toggleHide","firstN","consoleRef","centerOnStamp","fnIds","blobIds","concat","getFirstLine","consoleElem","elems","transform","App","ReactDOM","esprima","getPos","comment","range","addBlob","lastBlobLine","isComment","lastStamp","lineDiff","loc","line","addFn","params","argStart","argEnd","program","parseScript","tolerant","error","comments","splice","insertComments","tempBlobStamps","fillStampArrays","fullDict","typeName","q","cur","shift","val","pVal","lvl","includes","newVal","newKey","ace","define","isDark","cssClass","cssText","importCssString","m"],"mappings":"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ChBC,YAAY,GACZC,cAAe,GACfC,WAAY,GACZC,YAAY,GACZC,SAAS,GACTC,eAAgB,eAChBC,iBAAkB,sBAElBC,WAAY,CACVC,MAAgB,EAChBC,SAAgB,EAChBC,OAAgB,EAEhBC,eAAgB,EAChBC,aAAc,EACdC,cAAc,EACdC,cAAc,EAEdC,YAAY,EACZC,aAAc,EACdC,UAAU,EAEVC,YAAY,EACZC,cAAc,EAEdC,cAAc,EACdC,eAAgB,EAChBC,cAAc,EACdC,eAAgB,EAEhBC,YAAY,GAGdC,aAAkB,IAClBC,cAAkB,KAIPC,GAAQ,CACrB,QACA,SACA,eACA,iBACA,sBACA,sBACA,+EACA,4BACA,8BACA,SACA,SACA,UACA,oBACA,gBACA,iBACA,8BACA,iCACA,eACA,kCACA,uBACA,yBACA,2BACA,kCACA,yBACA,sCACA,kBACA,cACA,iBACA,YACA,oBACA,cACA,6DACA,SACA,cACA,UACA,eACA,kBACA,cACA,cACA,gCACA,QACA,wBACA,sBACA,0BACA,wBACA,yBACA,yBACA,+BACA,yBACA,cACA,iCACA,sBACA,wBACA,0BACA,4BACA,mBACA,QACA,YACA,mCACA,mBACA,SACA,4BACA,oBACA,kBACA,cACA,eACA,WACA,cACA,aACA,QACA,yBACA,cACA,iBACA,eACA,UACA,iBACA,0CACA,uBACA,WACA,eACA,sBACA,SACA,aACA,mBACA,kBACA,aACA,uBACA,eACA,SACA,kCACA,0CACA,WACA,uBACA,oBACA,sBACA,qBACA,sBACA,eACA,0CACA,sBACA,wBACA,gCACA,oBACA,QACA,QACA,QACA,uBACA,0BACA,QACA,WACA,QACA,WACA,gBACA,gBACA,gBACA,UACA,iBACA,mBACA,oBACA,kBACA,aACA,aACA,WACA,UACA,gBACA,cACA,aACA,SACA,mBACA,aACA,aACA,WACA,+BACA,6BACA,sCACA,wBACA,aACA,0BACA,cACA,QACA,mBACA,oBACA,gBACA,qBACA,gBACA,oBACA,eACA,8BACA,6BACA,YACA,WACA,mBACA,eACA,yBACA,iBACA,aACA,yBACA,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,UACA,oBACA,iBACA,2BACA,0BACA,4BACA,6BACA,sCACA,kCACA,WACA,eACA,eACA,eACA,WACA,gCACA,+BACA,gCACA,iBACA,iBACA,mBACA,kBACA,gBACA,gBACA,mBACA,gBACA,QACA,8BACA,WACA,qBACA,kBACA,iBACA,oBACA,2BACA,sBACA,4BACA,sDACA,OACA,SACA,gBACA,gBACA,iBACA,mBACA,uBACA,6BACA,QACA,mBACA,6BACA,eACA,gBACA,wBACA,uBACA,iBACA,iBACA,iBACA,oBACA,oBACA,oBACA,cACA,iBACA,8BACA,eACA,kBACA,eACA,iBACA,cACA,SACA,UACA,KACA,aACA,MACA,SACA,aACA,YACA,UACA,eACA,gBACA,cACA,eACA,QACA,SACA,wBACA,aACA,QACA,QACA,kBACA,UACA,cACA,eACA,gBACA,oBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,YACA,YACA,YACA,aACA,aACA,aACA,WACA,eACA,MACA,UACA,SACA,SACA,SACA,SACA,UACA,UACA,YACA,YACA,aACA,aACA,cACA,iBACA,UACA,UACA,SACA,UACA,SACA,SACA,oBACA,kBACA,UACA,oBACA,kBACA,kBACA,sDACA,sCACA,mEACA,SACA,0EACA,wDACA,4CACA,iEACA,mDACA,2CACA,kEACA,oDACA,4CACA,0EACA,qDACA,uCACA,8BACA,sBACA,+DACA,cACA,kBACA,uEACA,sDACA,6HACA,gBACA,4BACA,uBACA,sBACA,wBACA,uBACA,iCACA,mBACA,uCACA,yBACA,wCACA,0BACA,wCACA,0BACA,iBACA,kB,wBCvVA,GADgBC,UAAUC,UAAUC,cACtBC,QAAQ,eAAiB,EACrC,IACIC,GADa3D,OAAO4D,QAAQ,YACbC,iBAEfF,IAAM,EAGZ,IAAIG,GAED,WACC,IAAIC,EACF9F,OAAO+F,gBACN,CAAEC,UAAW,cAAgBC,OAC5B,SAASC,EAAGC,GACVD,EAAEF,UAAYG,IA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","file":"static/js/main.9e834e8a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/globe.50d70b6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/message-square.42f61b6c.svg\";","import styled from 'styled-components';\n\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n\nexport var minWidth = 60;\nexport var minHeight = 60;\nexport var padding = 10;\nvar wrapperStyles = function (_a) {\n    var isActive = _a.isActive;\n    if (isActive) {\n        return \"\\n      \\n    \";\n    }\n    return \"opacity: 1;\";\n};\nexport var Wrapper = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"], [\"\\n  \", \"\\n  position: fixed;\\n  display: inline-flex;\\n  flex-direction: column;\\n  background: white;\\n  min-width: \", \"px;\\n  min-height: \", \"px;\\n  user-select: none;\\n\"])), wrapperStyles, minWidth, minHeight);\nexport var Header = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  height: 30px;\\n  border-bottom: 1px solid rgb(215,215,215);\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"], [\"\\n  height: 30px;\\n  border-bottom: 1px solid #ccc;\\n  cursor: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\"])), function (_a) {\n    var isDraggable = _a.isDraggable;\n    return isDraggable ? \"-webkit-grab\" : \"default\";\n}, padding);\nexport var BottomRightResizeHandle = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var BottomLeftResizeHandle = styled.div(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  cursor: nesw-resize;\\n\"], [\"\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  cursor: nwse-resize;\\n\"])));\nexport var ContentWrapper = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\" \\n  padding: \", \"px;\\n\"], [\"\\n  padding: \", \"px;\\n\"])), padding);\n\nexport var CloseIcon = styled.img(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 15px;\\n  height: 15px;\\n margin-left:12px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 60px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 30px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\nexport var CopyIcon = styled.img(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 17px;\\n  height: 17px;\\n  opacity: 0.3;\\n  cursor: auto;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #FF0000;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"], [\"\\n  position: relative;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 1;\\n  }\\n\\n  &:before, &:after {\\n    position: absolute;\\n    right: 40px;\\n    content: ' ';\\n    height: 21px;\\n    width: 2px;\\n    background-color: #333;\\n  }\\n\\n  &:before {\\n    transform: rotate(45deg);\\n  }\\n\\n  &:after {\\n    transform: rotate(-45deg);\\n  }\\n\"])));\n\nexport var Title = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"], [\"\\n  white-space: nowrap;\\n  max-width: calc(100% - 25px);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"])));\nexport var RightResizeHandle = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var LeftResizeHandle = styled.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  left: 0;\\n  cursor: ew-resize;\\n\"], [\"\\n  width: 20px;\\n  height: calc(100% - 50px);\\n  position: absolute;\\n  bottom: 20px;\\n  right: 0;\\n  cursor: ew-resize;\\n\"])));\n\nexport var BottomResizeHandle = styled.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"], [\"\\n  width: calc(100% - 40px);\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  left: 20px;\\n  cursor: ns-resize;\\n\"])));\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8,templateObject_9, templateObject_10, templateObject_11;\n","export var isSmartPosition = function (position) {\n    return typeof position === 'string';\n};\n","import { minHeight, minWidth, padding } from \"./styled\";\nvar defaultSize = { width: minWidth, height: minHeight };\nexport var getBoundaryCoords = function (coords, size) {\n    if (size === void 0) { size = defaultSize; }\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var maxX = innerWidth - (width || 0) - padding;\n    var maxY = innerHeight - (height || 0) - padding;\n    return {\n        x: Math.min(Math.max(x, padding), maxX),\n        y: Math.min(Math.max(y, padding), maxY)\n    };\n};\nexport var getCordsFromInitialPosition = function (initialPosition, size) {\n    if (size === void 0) { size = defaultSize; }\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var width = size.width, height = size.height;\n    var xCenter = (innerWidth / 2) - (width / 2);\n    var yCenter = (innerHeight / 2) - (height / 2);\n    switch (initialPosition) {\n        case 'top-left':\n        default:\n            return { x: 10, y: 10 };\n        case 'top-center':\n            return { x: xCenter, y: 10 };\n        case 'bottom-center':\n            return { x: xCenter, y: Infinity };\n        case 'top-right':\n            return { x: Infinity, y: 10 };\n        case 'bottom-left':\n            return { x: 10, y: Infinity };\n        case 'bottom-right':\n            return { x: Infinity, y: Infinity };\n        case 'center':\n            return { x: xCenter, y: yCenter };\n    }\n};\n\nexport var isInView = function(coords, size){\n    var x = coords.x, y = coords.y;\n    var width = size.width, height = size.height;\n    var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n    var left = x, right = x + width, top = y, bottom = y + height;\n\n    var result = left < innerWidth && right > 0 && bottom > 0 && top < innerHeight\n    return result\n}\n","var Stacker = (function () {\n    function Stacker() {\n    }\n    Stacker.getNextIndex = function (index) {\n        if (index === Stacker.maxIndex) {\n            return index;\n        }\n        Stacker.maxIndex++;\n        return Stacker.maxIndex;\n    };\n     Stacker.updateMaxIndex = function (index) {\n        Stacker.maxIndex = Math.max(Stacker.maxIndex, index)\n    };\n    Stacker.maxIndex = 100;\n    return Stacker;\n}());\nexport { Stacker };\n","export const globals = {\n  defaultEditorWidth: 225,\n  defaultVarEditorHeight: 200,\n  defaultEditorHeight:200,\n  defaultIframeWidth: 200,\n  iframeMargin: 8,\n  headerHeight: 30,\n  brHeight: 25,\n  codeSize: 14,\n  buttonTextSize: 12,\n  bigCodeSize:28,\n  fnTitleHeight: 90,\n  copyOffset: 17,\n  iconOpacity:.5,\n  iconSize:15,\n  iconTransition: \"all .3s ease\",\n  borderTransition: \"border .3s ease-out\",\n\n  specialFns: {\n    draw:           true,\n    preload:        true,\n    setup:          true,\n    \n    windowResized:  false,\n    deviceMoved:  false,\n    deviceTurned: false,\n    deviceShaken: false,\n\n    keyPressed: false,\n    keyReleased:  false,\n    keyTyped: false,\n\n    mouseMoved: false,\n    mouseDragged: false,\n\n    mousePressed: false,\n    mouseReleased:  false,\n    mouseClicked: false,\n    doubleClicked:  false,\n    \n    mouseWheel: false,\n  },\n\n  fnStampWidth:     557,\n  fnStampHeight:    318\n\n};\n\nexport const p5Lib = [\n\"abs()\",\n\"acos()\",\n\"alpha(color)\",\n\"ambient(color)\",\n\"ambientLight(r,g,b)\",\n\"append(array,value)\",\n\"applyMatrix(n00,n01,n02,n03,n10,n11,n12,n13,n20,n21,n22,n23,n30,n31,n32,n33)\",\n\"arc(x,y,width,start,stop)\",\n\"arrayCopy(src,dst,(length))\",\n\"asin()\",\n\"atan()\",\n\"atan2()\",\n\"background(color)\",\n\"beginCamera()\",\n\"beginContour()\",\n\"beginRaw(renderer,filename)\",\n\"beginRecord(renderer,filename)\",\n\"beginShape()\",\n\"bezier(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"bezierDetail(detail)\",\n\"bezierPoint(a,b,c,d,t)\",\n\"bezierTangent(a,b,c,d,t)\",\n\"bezierVertex(x2,y2,x3,y3,x4,y4)\",\n\"binary(value,(digits))\",\n\"blend(sx,sy,sw,sh,dx,dy,dw,dh,mode)\",\n\"blendMode(mode)\",\n\"blue(color)\",\n\"boolean(value)\",\n\"box(size)\",\n\"brightness(color)\",\n\"byte(value)\",\n\"camera(eyeX,eyeY,eyeZ,centerX,centerY,centerZ,upX,upY,upZ)\",\n\"ceil()\",\n\"char(value)\",\n\"clear()\",\n\"color(color)\",\n\"colorMode(mode)\",\n\"concat(a,b)\",\n\"constrain()\",\n\"copy(sx,sy,sw,sh,dx,dy,dw,dh)\",\n\"cos()\",\n\"createFont(name,size)\",\n\"createGraphics(w,h)\",\n\"createImage(w,h,format)\",\n\"createInput(filename)\",\n\"createOutput(filename)\",\n\"createReader(filename)\",\n\"createShape(kind,parameters)\",\n\"createWriter(filename)\",\n\"cursor(img)\",\n\"curve(x1,y1,x2,y2,x3,y3,x4,y4)\",\n\"curveDetail(detail)\",\n\"curvePoint(a,b,c,d,t)\",\n\"curveTangent(a,b,c,d,t)\",\n\"curveTightness(tightness)\",\n\"curveVertex(x,y)\",\n\"day()\",\n\"degrees()\",\n\"directionalLight(r,g,b,nx,ny,nz)\",\n\"displayDensity()\",\n\"dist()\",\n\"ellipse(x,y,width,height)\",\n\"ellipseMode(mode)\",\n\"emissive(color)\",\n\"endCamera()\",\n\"endContour()\",\n\"endRaw()\",\n\"endRecord()\",\n\"endShape()\",\n\"exp()\",\n\"expand(list,(newSize))\",\n\"fill(color)\",\n\"filter(shader)\",\n\"float(value)\",\n\"floor()\",\n\"frameRate(fps)\",\n\"frustum(left,right,bottom,top,near,far)\",\n\"fullScreen(renderer)\",\n\"get(x,y)\",\n\"green(color)\",\n\"hex(value,(digits))\",\n\"hour()\",\n\"hue(color)\",\n\"image(image,x,y)\",\n\"imageMode(mode)\",\n\"int(value)\",\n\"join(list,seperator)\",\n\"launch(args)\",\n\"lerp()\",\n\"lerpColor(color1,color2,amount)\",\n\"lightFalloff(constant,linear,quadratic)\",\n\"lights()\",\n\"lightSpecular(r,g,b)\",\n\"line(x1,y1,x2,y2)\",\n\"loadBytes(filename)\",\n\"loadFont(filename)\",\n\"loadImage(filename)\",\n\"loadPixels()\",\n\"loadShader(fragFilename,(vertFilename))\",\n\"loadShape(filename)\",\n\"loadStrings(filename)\",\n\"loadTable(filename,(options))\",\n\"loadXML(filename)\",\n\"log()\",\n\"mag()\",\n\"map()\",\n\"match(string,regexp)\",\n\"matchAll(string,regexp)\",\n\"max()\",\n\"millis()\",\n\"min()\",\n\"minute()\",\n\"modelX(x,y,z)\",\n\"modelY(x,y,z)\",\n\"modelZ(x,y,z)\",\n\"month()\",\n\"nf(num,digits)\",\n\"nfc(num,(right))\",\n\"nfp(num,(digits))\",\n\"nfs(num,digits)\",\n\"noCursor()\",\n\"noCursor()\",\n\"noFill()\",\n\"noise()\",\n\"noiseDetail()\",\n\"noiseSeed()\",\n\"noLights()\",\n\"norm()\",\n\"normal(nx,ny,nz)\",\n\"noSmooth()\",\n\"noStroke()\",\n\"noTint()\",\n\"ortho(left,right,bottom,top)\",\n\"parseXML(string,(options))\",\n\"perspective(fovy,aspect,zNear,zFar)\",\n\"pixelDensity(density)\",\n\"point(x,y)\",\n\"pointLight(r,g,b,x,y,z)\",\n\"popMatrix()\",\n\"pow()\",\n\"print(variables)\",\n\"printArray(array)\",\n\"printCamera()\",\n\"println(variables)\",\n\"printMatrix()\",\n\"printProjection()\",\n\"pushMatrix()\",\n\"quad(x,y,x2,y2,x3,y3,x4,y4)\",\n\"quadraticVertex(x,y,x2,y2)\",\n\"radians()\",\n\"random()\",\n\"randomGaussian()\",\n\"randomSeed()\",\n\"rect(x,y,width,height)\",\n\"rectMode(mode)\",\n\"red(color)\",\n\"requestImage(filename)\",\n\"resetMatrix()\",\n\"resetShader()\",\n\"reverse(list)\",\n\"rotate(angle)\",\n\"rotateX(angle)\",\n\"rotateY(angle)\",\n\"rotateZ(angle)\",\n\"round()\",\n\"saturation(color)\",\n\"save(filename)\",\n\"saveBytes(filename,data)\",\n\"saveFrame(filename####)\",\n\"saveStream(target,source)\",\n\"saveStrings(filename,data)\",\n\"saveTable(table,filename,(options))\",\n\"saveXML(xml,filename,(options))\",\n\"scale(s)\",\n\"screenX(x,y)\",\n\"screenY(x,y)\",\n\"screenZ(x,y)\",\n\"second()\",\n\"selectFolder(prompt,callback)\",\n\"selectInput(prompt,callback)\",\n\"selectOutput(prompt,callback)\",\n\"set(x,y,color)\",\n\"shader(shader)\",\n\"shape(shape,x,y)\",\n\"shapeMode(mode)\",\n\"shearX(angle)\",\n\"shearY(angle)\",\n\"shininess(shine)\",\n\"shorten(list)\",\n\"sin()\",\n\"size(width,height,renderer)\",\n\"smooth()\",\n\"sort(list,(count))\",\n\"specular(color)\",\n\"sphere(radius)\",\n\"sphereDetail(res)\",\n\"splice(list,value,index)\",\n\"split(value,digits)\",\n\"splitTokes(value,(delim))\",\n\"spotLight(r,g,b,x,y,z,nx,ny,nz,angle,concentration)\",\n\"sq()\",\n\"sqrt()\",\n\"string(value)\",\n\"stroke(color)\",\n\"strokeCap(cap)\",\n\"strokeJoin(join)\",\n\"strokeWeight(weight)\",\n\"subset(list,start,(count))\",\n\"tan()\",\n\"text(string,x,y)\",\n\"textAlign(alignX,(alignY))\",\n\"textAscent()\",\n\"textDescent()\",\n\"textFont(font,(size))\",\n\"textLeading(leading)\",\n\"textMode(mode)\",\n\"textSize(size)\",\n\"texture(image)\",\n\"textureMode(mode)\",\n\"textureWrap(wrap)\",\n\"textWidth(string)\",\n\"tint(color)\",\n\"translate(x,y)\",\n\"triangle(x1,y1,x2,y2,x3,y3)\",\n\"trim(string)\",\n\"unbinary(value)\",\n\"unhex(value)\",\n\"updatePixels()\",\n\"vertex(x,y)\",\n\"year()\",\n\"HALF_PI\",\n\"PI\",\n\"QUARTER_PI\",\n\"TAU\",\n\"TWO_PI\",\n\"frameCount\",\n\"deltaTime\",\n\"focused\",\n\"displayWidth\",\n\"displayHeight\",\n\"windowWidth\",\n\"windowHeight\",\n\"width\",\n\"height\",\n\"disableFriendlyErrors\",\n\"p5.Element\",\n\"VIDEO\",\n\"AUDIO\",\n\"p5.MediaElement\",\n\"p5.File\",\n\"p5.Graphics\",\n\"p5.TypedDict\",\n\"p5.NumberDict\",\n\"deviceOrientation\",\n\"accelerationX\",\n\"accelerationY\",\n\"accelerationZ\",\n\"pAccelerationX\",\n\"pAccelerationY\",\n\"pAccelerationZ\",\n\"rotationX\",\n\"rotationY\",\n\"rotationZ\",\n\"pRotationX\",\n\"pRotationY\",\n\"pRotationZ\",\n\"turnAxis\",\n\"keyIsPressed\",\n\"key\",\n\"keyCode\",\n\"movedX\",\n\"movedY\",\n\"mouseX\",\n\"mouseY\",\n\"pmouseX\",\n\"pmouseY\",\n\"winMouseX\",\n\"winMouseY\",\n\"pwinMouseX\",\n\"pwinMouseY\",\n\"mouseButton\",\n\"mouseIsPressed\",\n\"DEGREES\",\n\"RADIANS\",\n\"CORNER\",\n\"CORNERS\",\n\"CENTER\",\n\"RADIUS\",\n\"exitPointerLock()\",\n\"angleMode(mode)\",\n\"touches\",\n\"touchStarted(fxn)\",\n\"touchMoved(fxn)\",\n\"touchEnded(fxn)\",\n\"saveCanvas(selectedCanvas, [filename], [extension])\",\n\"saveCanvas([filename], [extension])\",\n\"saveFrames(filename, extension, duration, framerate, [callback])\",\n\"pixels\",\n\"loadJSON(path, [jsonpOptions], [datatype], [callback], [errorCallback])\",\n\"loadJSON(path, datatype, [callback], [errorCallback])\",\n\"loadJSON(path, callback, [errorCallback])\",\n\"httpGet(path, [datatype], [data], [callback], [errorCallback])\",\n\"httpGet(path, data, [callback], [errorCallback])\",\n\"httpGet(path, callback, [errorCallback])\",\n\"httpPost(path, [datatype], [data], [callback], [errorCallback])\",\n\"httpPost(path, data, [callback], [errorCallback])\",\n\"httpPost(path, callback, [errorCallback])\",\n\"httpDo(path, [method], [datatype], [data], [callback], [errorCallback])\",\n\"httpDo(path, options, [callback], [errorCallback])\",\n\"saveJSON(json, filename, [optimize])\",\n\"createVector([x], [y], [z])\",\n\"textStyle(theStyle)\",\n\"orbitControl([sensitivityX], [sensitivityY], [sensitivityZ])\",\n\"debugMode()\",\n\"debugMode(mode)\",\n\"debugMode(mode, [gridSize], [gridDivisions], [xOff], [yOff], [zOff])\",\n\"debugMode(mode, [axesSize], [xOff], [yOff], [zOff])\",\n\"debugMode([gridSize], [gridDivisions], [gridXOff], [gridYOff], [gridZOff], [axesSize], [axesXOff], [axesYOff], [axesZOff])\",\n\"noDebugMode()\",\n\"specularColor(v1, v2, v3)\",\n\"specularColor(value)\",\n\"specularColor(gray)\",\n\"specularColor(values)\",\n\"specularColor(color)\",\n\"createShader(vertSrc, fragSrc)\",\n\"normalMaterial()\",\n\"ambientMaterial(v1, [v2], [v3], [a])\",\n\"ambientMaterial(color)\",\n\"emissiveMaterial(v1, [v2], [v3], [a])\",\n\"emissiveMaterial(color)\",\n\"specularMaterial(v1, [v2], [v3], [a])\",\n\"specularMaterial(color)\",\n\"createCamera()\",\n\"setCamera(cam)\"\n];\n\nexport default function DefaultExportPlaceholder() {\n  return null;\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Component } from \"react\";\nimport {\n  Wrapper,\n  Header,\n  BottomRightResizeHandle,\n  BottomLeftResizeHandle,\n  RightResizeHandle,\n  BottomResizeHandle,\n  LeftResizeHandle,\n  ContentWrapper,\n  padding,\n  Title,\n  minWidth,\n  minHeight\n} from \"./styled\";\nimport { isSmartPosition } from \"./domain\";\nimport {\n  getCordsFromInitialPosition,\n  getBoundaryCoords,\n  isInView\n} from \"./utils\";\nimport { Stacker } from \"./stacker\";\nimport styled from \"styled-components\";\nimport DeleteStampIcon from \"./../../../icons/trash.svg\";\nimport CopyIcon from \"./../../../icons/copy.svg\";\nimport ClearConsoleIcon from \"./../../../icons/slash.svg\";\nimport CodeSizeIcon from \"./../../../icons/type.svg\";\nimport MinimzeIcon from \"@material-ui/icons/MinimizeOutlined\";\nimport \"./../../../App.scss\";\nimport $ from \"jquery\";\nimport pf, { globals, p5Lib } from \"./../../../globals.js\";\n\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\n\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nvar __extends =\n  (this && this.__extends) ||\n  (function() {\n    var extendStatics =\n      Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array &&\n        function(d, b) {\n          d.__proto__ = b;\n        }) ||\n      function(d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n    return function(d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype =\n        b === null\n          ? Object.create(b)\n          : ((__.prototype = b.prototype), new __());\n    };\n  })();\n\nvar Cristal = (function(_super) {\n  __extends(Cristal, _super);\n  function Cristal() {\n    var _this = (_super !== null && _super.apply(this, arguments)) || this;\n\n    if(_this.props.zIndex){\n      var zIndex = _this.props.zIndex\n      Stacker.updateMaxIndex(zIndex)\n    }else{\n    var zIndex = Stacker.getNextIndex()\n    }\n\n    _this.state = {\n      x: padding,\n      y: padding,\n      isDragging: false,\n      isResizingX: false,\n      isResizingY: false,\n      isResizingXLeft: false,\n      zIndex: zIndex,\n      downKey: -1,\n      isMoving: false,\n      originalHeight: null,\n    };\n\n\n    _this.opt = 18;\n    _this.cmd = 91\n    _this.ctrl = 17\n    _this.plus = 187\n    _this.minus = 189\n    _this.zero = 48\n    _this.onWindowResize = function() {\n      var _a = _this.state,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n      var size = width && height ? { width: width, height: height } : undefined;\n      var _b = getBoundaryCoords({ x: x, y: y }, size),\n        newX = _b.x,\n        newY = _b.y;\n      _this.setState({\n        x: newX,\n        y: newY\n      });\n    };\n    _this.saveWrapperRef = function(el) {\n      _this.childrenElement = el;\n      if (!_this.childrenElement) return;\n      var initialSize = _this.props.initialSize;\n      var width, height;\n      if (initialSize) {\n        var rect = _this.childrenElement.getBoundingClientRect();\n        if(initialSize.width){\n          width = initialSize.width\n        }else{\n          width = rect.width;\n        }\n        if(initialSize.height){\n          height = initialSize.height\n        }else{\n          height = rect.height;\n        }\n      } else {\n        var rect = _this.childrenElement.getBoundingClientRect();\n        width = rect.width;\n        height = rect.height;\n      }\n\n      _this.setState({ width: width, height: height, originalHeight: height });\n      _this.setInitialPosition({ width: width, height: height });\n    };\n    _this.setInitialPosition = function(size) {\n      var initialPosition = _this.props.initialPosition;\n\n      if (!initialPosition) return;\n      var cords;\n      if (isSmartPosition(initialPosition)) {\n        cords = getCordsFromInitialPosition(initialPosition, size);\n      } else {\n        cords = initialPosition;\n      }\n      // var _a = getBoundaryCoords(cords, size),\n      //   x = _a.x,\n      //   y = _a.y;\n      _this.setState({ x: cords.x, y: cords.y });\n    };\n    _this.saveHeaderRef = function(el) {\n      _this.headerElement = el;\n    };\n\n\n    _this.onKeyDown = function(e) {\n\n\n      if(_this.state.downKey === _this.cmd || _this.state.downKey === _this.ctrl){\n  \n        if(e.keyCode === _this.zero){\n           e.preventDefault()\n        }else if(e.keyCode === _this.plus){\n           e.preventDefault()\n        }else if(e.keyCode === _this.minus){\n           e.preventDefault()\n        }\n      }else{\n        _this.setState({ downKey: e.keyCode });\n\n      }\n \n    };\n\n\n\n    _this.onKeyUp = function(e) {\n      if(e.keyCode === _this.state.downKey){\n      _this.setState({ downKey: -1 });\n      }\n    };\n\n    _this.onMouseDown = function() {\n      var isDraggable = _this.props.isDraggable;\n      if (!isDraggable) return;\n\n      _this.setState({\n        isDragging: true\n      });\n    };\n\n    _this.manualResize = function(widthDiff, heightDiff){\n\n \n        var width = _this.state.width, height = _this.state.height, originalHeight = _this.state.originalHeight\n\n        _this.setState({width:width+widthDiff})\n    }\n\n  _this.onWheel = function(e){\n    if(e.ctrlKey){\n      e.preventDefault()\n    }\n  }\n\n    _this.onMouseMove = function(e) {\n      var isResizing = _this.isResizing;\n     var scale = _this.props.getScale()\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX,\n        movementY = e.movementY;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX/scale;\n      var newY = currentY + movementY/scale;\n \n\n      if (isDragging) {\n        ipc && ipc.send(\"edited\");\n        var size =\n          currentWidth && currentHeight\n            ? { width: currentWidth, height: currentHeight }\n            : undefined;\n        var _b = getBoundaryCoords({ x: newX, y: newY }, size),\n          x = _b.x,\n          y = _b.y;\n        _this.setState({ x: newX, y: newY }, _this.onStartMove);\n        return;\n      } else if (isResizing) {\n        ipc && ipc.send(\"edited\");\n        _this.resizeCristal(e);\n      }\n    };\n\n    _this.resizeCristal = function(e) {\n      var isResizing = _this.isResizing;\n        var scale = _this.props.getScale()\n      var _a = _this.state,\n        isDragging = _a.isDragging,\n        currentX = _a.x,\n        currentY = _a.y,\n        currentWidth = _a.width,\n        currentHeight = _a.height;\n      var movementX = e.movementX/scale,\n        movementY = e.movementY/scale;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      var newX = currentX + movementX;\n      var newY = currentY + movementY;\n      var _c = _this.state,\n        isResizingX = _c.isResizingX,\n        isResizingY = _c.isResizingY,\n        isResizingXLeft = _c.isResizingXLeft;\n\n      var height = currentHeight;\n      var width = currentWidth;\n      var x = currentX;\n\n      if (isResizingX) {\n        var newWidth = (currentWidth || 0) + movementX;\n        var width = Math.max(newWidth, minWidth);\n      }\n      if (isResizingXLeft) {\n        var newWidth = (currentWidth || 0) - movementX;\n        var width = Math.max(newWidth, minWidth);\n        var x = currentX + movementX;\n      }\n      if (isResizingY) {\n        var newHeight = (currentHeight || 0) + movementY;\n        var height = Math.max(newHeight, minHeight);\n      }\n\n      _this.notifyResize(width, height, x);\n    };\n\n    _this.onStoppedMove = function() {\n      if (this.state.isMoving) {\n        _this.notifyStopMove();\n      }\n\n      _this.setState({ isMoving: false });\n    };\n\n    _this.onStartMove = function() {\n      _this.notifyMove();\n      if (_this.state.isMoving === false) {\n        if (_this.state.downKey === _this.opt) {\n        \n          _this.notifyOptMove();\n        }\n      }\n      _this.setState({ isMoving: true });\n    };\n    _this.notifyMove = function() {\n      var onMove = _this.props.onMove;\n      onMove && onMove(_this.state);\n    };\n    _this.notifyZChange = function() {\n\n      var onZChange = _this.props.onZChange;\n      onZChange && onZChange(_this.state);\n    };\n    _this.notifyResize = function(newWidth, newHeight, newX) {\n      var onResize = _this.props.onResize;\n      var heightDiff = newHeight - _this.state.height;\n      var widthDiff = newWidth - _this.state.width;\n      var resizeBlocked = false;\n      if (onResize) {\n        var resizeBlocked = onResize(widthDiff, heightDiff, _this.state.x);\n      }\n      if (!resizeBlocked) {\n        _this.setState({ height: newHeight, width: newWidth, x: newX });\n      }\n    };\n\n    _this.notifyStartMove = function() {\n      var onStartMove = _this.props.onStartMove;\n      onStartMove && onStartMove(_this.state);\n    };\n    _this.notifyStopMove = function() {\n      var onStopMove = _this.props.onStopMove;\n      onStopMove && onStopMove(_this.state);\n    };\n    _this.notifyOptMove = function() {\n      var onOptMove = _this.props.onOptMove;\n      onOptMove && onOptMove(_this.state);\n    };\n    _this.notifyStartResize = function() {\n      var onStartResize = _this.props.onStartResize;\n      onStartResize && onStartResize(_this.state);\n    };\n    _this.notifyStopResize = function() {\n      var onStopResize = _this.props.onStopResize;\n      onStopResize && onStopResize(_this.state);\n    };\n\n    _this.onMouseUp = function() {\n      _this.onStoppedMove();\n      if (\n        _this.state.isResizingY ||\n        _this.state.isResizingX ||\n        _this.state.isResizingXLeft\n      ) {\n        _this.notifyStopResize();\n      }\n      _this.setState({\n        isDragging: false,\n        isResizingX: false,\n        isResizingXLeft: false,\n        isResizingY: false,\n        mouseIsDown: false\n      });\n    };\n    _this.startFullResize = function() {\n      _this.notifyStartResize();\n      _this.setState({\n        isResizingX: true,\n        isResizingY: true\n      });\n    };\n    _this.startFullLeftResize = function() {\n      _this.notifyStartResize();\n      _this.setState({\n        isResizingXLeft: true,\n        isResizingY: true\n      });\n    };\n    _this.startXResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingX: true });\n    };\n    _this.startXLeftResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingXLeft: true });\n    };\n    _this.startYResize = function() {\n      _this.notifyStartResize();\n      return _this.setState({ isResizingY: true });\n    };\n    _this.renderResizeHandles = function() {\n      var isResizable = _this.props.isResizable;\n      if (!isResizable) return;\n\n      var scale = _this.props.getScale();\n      var height = _this.state.height;\n      var width = _this.state.width;\n      var thickness = 5\n      var color = \"transparent\"\n      return [\nReact.createElement(RightResizeHandle, {\n          key: \"right-resize\",\n          onMouseDown: _this.startXResize,\n          style: {\n            background:color,\n            right:-thickness/2,\n            width: thickness / scale,\n            bottom: thickness / scale,\n            height: height - 30 - thickness / scale\n          }\n        }),\n        React.createElement(LeftResizeHandle, {\n          key: \"left-resize\",\n          onMouseDown: _this.startXLeftResize,\n          style: {\n                        background:color,\n            left:-thickness/2,\n            width: thickness / scale,\n            bottom: thickness / scale,\n            height: height - 30 - thickness / scale\n          }\n        }),\n        React.createElement(BottomRightResizeHandle, {\n          key: \"bottom-right-resize\",\n          onMouseDown: _this.startFullResize,\n          style: { \nbackground:color,\n   right:-thickness/2,\n   bottom:-thickness/2,\n            width: thickness / scale, \n            height: thickness / scale }\n        }),\n        React.createElement(BottomLeftResizeHandle, {\n          key: \"bottom-left-resize\",\n          onMouseDown: _this.startFullLeftResize,\n          style: { \nbackground:color,\n   left:-thickness/2,\n   bottom:-thickness/2,\n            width: thickness / scale, height: thickness / scale }\n        }),\n        React.createElement(BottomResizeHandle, {\n          key: \"bottom-resize\",\n          onMouseDown: _this.startYResize,\n          style: {\n                        background:color,\n            bottom:-thickness/2,\n            height: thickness / scale,\n            left: thickness / scale,\n            width: width - (2 * thickness) / scale\n          }\n        })\n      ];\n    };\n\n    _this.changeZIndex = function() {\n      var zIndex = _this.state.zIndex;\n      _this.setState({\n        zIndex: Stacker.getNextIndex(zIndex)\n      }, _this.notifyZChange);\n\n    };\n\n    return _this;\n  }\n  Cristal.prototype.componentDidMount = function() {\n    document.addEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    document.addEventListener(\"wheel\", this.onWheel, { passive: false });\n\n    this.notifyZChange()\n    // window.addEventListener('resize', this.onWindowResize);\n  };\n  Cristal.prototype.componentWillUnmount = function() {\n    document.removeEventListener(\"mousedown\", this.onGlobalMouseDown);\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    document.removeEventListener(\"wheel\", this.onWheel);\n    // window.removeEventListener('resize', this.onWindowResize);\n  };\n\n\n  Object.defineProperty(Cristal.prototype, \"isResizing\", {\n    get: function() {\n      var _a = this.state,\n        isResizingX = _a.isResizingX,\n        isResizingY = _a.isResizingY,\n        isResizingXLeft = _a.isResizingXLeft;\n      return isResizingX || isResizingY || isResizingXLeft;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  function createIcon(\n    _this,\n    iconType,\n    hiddenFlag = false,\n    classVal = \"\",\n    callBack = null,\n    tooltipText\n  ) {\n    if (hiddenFlag) {\n      return null;\n    }\n\n    var uniqueClass = classVal +  _this.props.parentID.toString()\n    var mouseOverCallback = () => {\n      $(\".\" + uniqueClass).css({opacity: \"1\"})\n    };\n\n    var mouseOutCallback = () => {\n      $(\".\" + uniqueClass).css({opacity: globals.iconOpacity})\n    };\n    var opacity = globals.iconOpacity\n    if (!callBack) {\n      mouseOverCallback = () => {};\n      mouseOutCallback = () => {};\n      opacity = globals.iconOpacity\n    }\n\n\n    var icon = React.createElement(\"img\", {\n      onClick: callBack,\n      style: { opacity: opacity, height: globals.iconSize, width: globals.iconSize },\n      className: \"text-greyIcon m-1 \" + uniqueClass ,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback, \n      src:iconType\n    });\n\n    if(!tooltipText){\n      return icon\n    }\n        return (\n        <div     onMouseOver={mouseOverCallback} onMouseOut={mouseOutCallback}     >\n        <OverlayTrigger \n          trigger=\"hover\"\n          placement=\"top\"\n\n          overlay={\n            <Tooltip id=\"alert\" className=\"picker\" style={{fontSize:12}}\n                     >\n              {tooltipText}\n            </Tooltip>\n            \n          }\n        >\n          {icon}\n        </OverlayTrigger></div>)\n   \n\n\n  }\n\n  Object.defineProperty(Cristal.prototype, \"header\", {\n    get: function() {\n      var _a = this.props,\n        title = _a.title,\n        isDraggable = _a.isDraggable,\n        onClose = _a.onClose,\n        closeHidden = _a.closeHidden,\n        onCopy = _a.onCopy,\n        copyHidden = _a.copyHidden;\n\n      var closeBtn = createIcon(\n        this,\n        DeleteStampIcon,\n        closeHidden,\n        \"mouseOnClose\",\n        onClose,\n        \"delete stamp\"\n      );\n      var copyBtn = createIcon(\n        this,\n        CopyIcon,\n        copyHidden,\n        \"mouseOnCopy\",\n        onCopy,\n        \"copy stamp\"\n      );\n      var clearBtn = createIcon(\n        this,\n        ClearConsoleIcon,\n        !_a.showClear,\n        \"mousOnClear\",\n        _a.onClear,\n        \"clear console\"\n      );\n\n      if(_a.onMinimize){\n      var minimizeBtn = createIcon(\n        this,\n        MinimzeIcon,\n        _a.onMinimize === null,\n        \"mouseOnMinimize\",\n        _a.onMinimize\n      );        \n      }\n\n      var titleIcon = null;\n      if (this.props.icon) {\n        var titleIcon = createIcon(this, this.props.icon);\n      }\n\n      var makeBigIcon = createIcon(this, \n        CodeSizeIcon, \n        !_a.showMakeBig, \"mouseOnBig\",\n         _a.onMakeBig,\n         \"toggle text size\" )\n\n      var sideButtons = (\n        <div\n          class=\"row mt-1\"\n          style={{ position: \"absolute\", cursor: \"auto\", right: 18, top: 0 }}\n        >\n          {makeBigIcon}\n          {copyBtn}\n          {closeBtn}\n          {clearBtn}\n          {minimizeBtn}\n        </div>\n      );\n\n      return React.createElement(\n        Header,\n        {\n          className: \"bg-white rounded-top\",\n          isDraggable: isDraggable,\n          ref: this.saveHeaderRef,\n          onMouseDown: this.onMouseDown\n        },\n        titleIcon,\n        sideButtons\n      );\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Cristal.prototype, \"content\", {\n    get: function() {\n      var children = this.props.children;\n      return React.createElement(ContentWrapper, {}, children);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Cristal.prototype.render = function() {\n    var isResizing = this.isResizing;\n    var _a = this.state,\n      x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height,\n      isDragging = _a.isDragging,\n      zIndex = _a.zIndex\n    var className = this.props.className;\n    var isActive = isDragging || isResizing;\n    var style = {\n      left: x,\n      top: y,\n      width: width,\n      height: height,\n      zIndex: zIndex,\n      position: \"absolute\",\n      border: this.props.border,\n      outline: this.props.outline\n    };\n\n    var HeaderComponent = this.header;\n    var ContentComponent = this.content;\n    if (this.props.headerHidden) {\n      HeaderComponent = null;\n    }\n\n    return React.createElement(\n        Wrapper,\n        {\n          style: style,\n          ref: this.saveWrapperRef,\n          isActive: isActive,\n          className: className + \" rounded \" + this.props.wrapperName,\n          onMouseDown: this.changeZIndex\n        },\n        <div>{HeaderComponent}</div>,\n        ContentComponent,\n        this.renderResizeHandles()\n      )\n  };\n  Cristal.defaultProps = {\n    children: null,\n    isResizable: true,\n    isDraggable: true\n  };\n  return Cristal;\n})(Component);\nexport { Cristal };\n","import * as React from 'react';\nimport { Component } from 'react';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalContent = (function (_super) {\n    __extends(CristalContent, _super);\n    function CristalContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalContent.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom Content\");\n    };\n    return CristalContent;\n}(Component));\nexport { CristalContent };\n","import * as React from 'react';\nimport { Component } from 'react';\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar CristalHeader = (function (_super) {\n    __extends(CristalHeader, _super);\n    function CristalHeader() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CristalHeader.prototype.render = function () {\n        return React.createElement(\"div\", null, \"Custom header\");\n    };\n    return CristalHeader;\n}(Component));\nexport { CristalHeader };\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\n\nimport FunctionStampIcon from \"./icons/box.svg\";\nimport CssStampIcon from \"./icons/pen-tool.svg\";\nimport HtmlStampIcon from \"./icons/layout.svg\";\nimport BuiltInStampIcon from \"./icons/tool.svg\";\nimport ListenerStampIcon from \"./icons/bell.svg\";\n\nimport \"./theme-p5.js\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\nimport { Resizable, ResizableBox } from \"react-resizable\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class FunctionStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      name: this.props.starterName,\n      args: this.props.starterArgs,\n      iframeDisabled: this.props.iframeDisabled,\n      iframeWidth: this.props.starterIframeWidth,\n      iframeHeight: 0,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      isSpecialFn: false,\n      editorScrolling: false,\n      errorLines: this.props.errorLines,\n      iframeCode: \"\",\n      editsMade: false,\n      runningBorder: false,\n      resizingIframe: false,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y,\n      hidden: this.props.initialHidden,\n      looping:false,\n      loopingTransition:\"\",\n      zIndex:-1\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n\n  this.updateLooping = this.updateLooping.bind(this)\n  }\n\n  toggleHide(callback) {\n    ipc && ipc.send(\"edited\");\n    if (this.state.hidden) {\n      this.setState({ hidden: false, savedIframeHeight:this.state.iframeHeight, iframeHeight:0 }, \n        () => this.setState({iframeHeight:this.state.savedIframeHeight}, callback)\n\n      )\n\n    } else {\n      this.setState(\n        { hidden: true},\n        callback\n      );\n    }\n  }\n\n\n  updateLooping(e){\n\n\n      if(e.data.type != \"loop\" || e.data.id != this.props.id){\n        return\n      }\n      if(e.data.message === \"start\"){\n\n  \n        this.setState({looping : true, loopingTransition : \"\"})\n      }else if (e.data.message === \"stop\"){\n\n        this.setState({looping : false, loopingTransition:\"all 1s ease-in\"})\n      }\n\n  }\n\n  componentDidMount() {\n    // this.loadp5Lib()\n    this.setState({ \n      iframeHeight: this.props.starterIframeHeight }\n    );\n    this.checkName();\n    window.addEventListener(\"message\", this.updateLooping);\n\n  }\n\n  componentWillUnmount(){\n\n    window.removeEventListener(\"message\", this.updateLooping);\n  }\n\n  checkName() {\n    var isSpecialFn = this.state.name in globals.specialFns;\n    this.setState({ isSpecialFn: isSpecialFn });\n  }\n\n  addErrorLine(lineNum) {\n    var errorLines = this.state.errorLines;\n    errorLines[lineNum] = \"\";\n    this.setState({ errorLines: errorLines });\n  }\n\n  clearErrorsAndUpdate(newErrors = []) {\n    var newErrorLines = this.state.errorLines;\n    var newErrorLines = {};\n\n    this.setState({ errorLines: newErrorLines }, () => {\n      this.setState({ iframeCode: this.props.getHTML(this.props.id), looping:true, loopingTransition:\"\" });\n      for (var i = 0; i < newErrors.length; i++) {\n        this.addErrorLine(newErrors[i]);\n      }\n    });\n  }\n\n  loadp5Lib() {\n    this.editorRef.current &&\n    this.editorRef.current.editor.completers.push({\n      getCompletions: function(editor, session, pos, prefix, callback) {\n        var completions = [];\n        p5Lib.forEach(function(w) {\n          completions.push({\n            value: w,\n            meta: \"p5.js\"\n          });\n        });\n        callback(null, completions);\n      }\n    });\n  }\n\n  updateIframeDimensions(movementX = 0, movementY = 0) {\n    ipc && ipc.send(\"edited\");\n\n    var width = this.state.iframeWidth + movementX;\n    var height = this.state.iframeHeight + movementY;\n    if (width < 30) {\n      movementX = 0;\n      width = 30;\n    }\n    if (height < 30) {\n      movementY = 0;\n      height = 30;\n    }\n\n    this.setState({ iframeWidth: width, iframeHeight: height });\n    this.cristalRef.current.manualResize(movementX, movementY);\n  }\n\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n  renderEditor() {\n    var markers = [];\n    for (var i in this.state.errorLines) {\n      if (i != 0) {\n        markers.push({\n          startRow: i - 1,\n          endRow: i,\n          type: \"background\",\n          className: \"bg-warningOrange marker\"\n        });\n      }\n    }\n\n    var theme = \"p5\";\n    var mode = \"javascript\";\n    if (this.props.isHtml || this.props.isCss) {\n      theme = \"solarized_light\";\n    }\n\n    if (this.props.isCss) {\n      mode = \"css\";\n    } else if (this.props.isHtml) {\n      mode = \"html\";\n    }\n\n    return (\n      <div\n        onMouseOut={() => {\n          this.setEditorScrolling(false);\n        }}\n      >\n        <br />\n        <AceEditor\n          markers={markers}\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n            background: \"transparent\",\n            fontFamily: 'Inconsolata',\n          }}\n          mode={mode}\n          theme={theme}\n          onChange={value => {\n            this.setState({ code: value, editsMade: true });\n            ipc && ipc.send(\"edited\");\n          }}\n          name={\"name\" + this.props.id.toString()}\n          fontSize={globals.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          onScroll={() => this.setEditorScrolling(true)}\n          setOptions={{\n            enableBasicAutocompletion: false,\n            enableLiveAutocompletion: false,\n            enableSnippets: false,\n            showLineNumbers: false,\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  compileCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => {\n          this.setState({ runningBorder: false }, )\n        }\n      , 300)\n      );\n    }\n  }\n\n  renderFunctionName() {\n    var displayName = \"\";\n    if (this.state.name != this.props.starterName) {\n      var displayName = this.state.Name;\n    }\n\n    var nameColor = \"blue\";\n    if (this.state.isSpecialFn) {\n      nameColor = \"pink\";\n    } else if (this.props.isHtml || this.props.isCss) {\n      nameColor = \"htmlCssName\";\n    }\n\n    var argsColor = \"greyText\";\n\n    return (\n      <div>\n        <input\n          placeholder=\"function name...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ name: event.target.value, editsMade: true }, () =>\n              this.checkName()\n            );\n\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{ background: \"transparent\" }}\n          value={this.state.name}\n          class={\"text-\" + nameColor + \" name\"}\n        />\n\n        <br />\n\n        <input\n          // @cameron styling for arguments field\n          placeholder=\"arguments...\"\n          disabled={this.props.isHtml || this.props.isCss}\n          onChange={event => {\n            this.setState({ args: event.target.value, editsMade: true });\n            ipc && ipc.send(\"edited\");\n          }}\n          style={{ background: \"transparent\" }}\n          value={this.state.args}\n          class={\"text-\" + argsColor + \" args\"}\n        />\n      </div>\n    );\n  }\n\n  renderIframe() {\n\n    var loopingOpacity = .0\n    if(this.state.looping){\n      loopingOpacity = .5\n    }\n\n    return (\n      <div hidden={this.props.isCss}>\n\n        <div\n          hidden={!this.state.resizingIframe}\n          style={{\n            position: \"absolute\",\n            fontSize: globals.codeSize,\n            opacity: 0.5,\n            top: 80,\n            right: 25,\n          }}\n          class=\"text-greyText \"\n        >\n         {\"W:\" + Math.floor(this.state.iframeWidth) +\n            \" H:\" +\n            Math.floor(this.state.iframeHeight)}\n        </div>\n<div\n\n          style={{\n            transition:this.state.loopingTransition,\n            position: \"absolute\",\n            fontSize: globals.codeSize,\n            opacity: loopingOpacity,\n            top: 80,\n            left: 25 + this.state.editorWidth\n          }}\n          class=\"text-greyText \"\n        >\n         {\"active\"}\n        </div>\n        <Resizable\n          className=\"ml-1 bg-white shadow\" \n          onResize={e => {\n\n            this.updateIframeDimensions(e.movementX/this.props.getScale(), \n              e.movementY/this.props.getScale());\n          }}\n          onResizeStart={() => {\n            this.props.onStartMove();\n            this.setState({ resizingIframe: true });\n          }}\n          onResizeStop={e => {\n            this.props.onStopMove();\n            this.setState({ resizingIframe: false });\n          }}\n          width={this.state.iframeHeight}\n          height={this.state.iframeWidth}\n          style={{\n            overflow: \"hidden\",\n            zIndex: 5\n          }}\n        >\n          <div onMouseOver={this.compileCallback.bind(this)}>\n            <div\n              style={{\n                position: \"absolute\",\n                width: this.state.iframeWidth,\n                height: this.state.iframeHeight,\n                background:\"transparent\"\n              }}\n              hidden={!this.state.iframeDisabled}\n            >\n              {\" \"}\n            </div>\n            <iframe\n              ref={iframeElem => {\n                if (iframeElem) {\n                  this.props.addNewIframeConsole(\n                    iframeElem.contentWindow.console\n                  );\n                }\n              }}\n              id={\"iframe\" + this.props.id}\n              scrolling=\"no\"\n              style={{\n                border: \"none\",\n                height: this.state.iframeHeight + globals.iframeMargin,\n                width: this.state.iframeWidth + 2*globals.iframeMargin,\n                margin: \"-\" + globals.iframeMargin.toString() + \"px\"\n                // pointerEvents:\"none\"\n              }}\n              srcdoc={this.state.iframeCode}\n              sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups  allow-same-origin allow-scripts\"\n              allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\"\n            />\n          </div>\n        </Resizable>\n \n      </div>\n    );\n  }\n\n  setIframeDisabled(status) {\n    this.setState({ iframeDisabled: status });\n  }\n\n  copyAndOpt(isOpt = false) {\n    if (this.props.isCss || this.props.isHtml) {\n      return;\n    }\n\n    var data = this.getData();\n\n    var updateName = false,\n      updatePosition = false,\n      setIframeDisabled = false;\n    if (isOpt) {\n      setIframeDisabled = true;\n    } else {\n      updateName = true;\n      updatePosition = true;\n    }\n\n    var callback = (id) => this.props.requestCompile(id)\n    if(isOpt){\n      callback = (id) => {this.cristalRef.current.changeZIndex(); \n        this.props.requestCompile(id)}\n    }\n\n    var newName = this.props.addStamp(\n      data,\n           callback,\n      updateName,\n      updatePosition,\n      setIframeDisabled,\n    );\n    if (isOpt) {\n      this.setState({ name: newName }, () => this.checkName());\n    }\n  }\n\n  getData() {\n    var data = {\n      name: this.state.name,\n      code: this.state.code,\n      args: this.state.args,\n      x: this.state.x,\n      y: this.state.y,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight,\n      iframeWidth: this.state.iframeWidth,\n      iframeHeight: this.state.iframeHeight,\n      isHtml: this.props.isHtml,\n      isCss: this.props.isCss,\n      hidden: this.state.hidden,\n      exported:true,\n      zIndex:this.state.zIndex\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff, x) {\n    var height = this.state.editorHeight + heightDiff;\n    var width = this.state.editorWidth + widthDiff;\n\n    if (height < 0 || width < 0) {\n      return true;\n    }\n\n    this.setState({\n      editorHeight: height,\n      editorWidth: width, \n      x:x\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n  getIcon() {\n    var icon = FunctionStampIcon;\n    if (this.props.isHtml) {\n      icon = HtmlStampIcon;\n    } else if (this.props.isCss) {\n      icon = CssStampIcon;\n    } else if (this.state.isSpecialFn) {\n      if(globals.specialFns[this.state.name]){\n      icon = BuiltInStampIcon;\n      }else{\n        icon = ListenerStampIcon\n      }\n\n    }\n\n    return icon;\n  }\n\n  render() {\n    var headerColor = \"bg-white\";\n    if (0 in this.state.errorLines) {\n      headerColor = \"bg-warningOrange\";\n    }\n\n    var border = \"border border-borderGrey\";\n\n    if (Object.keys(this.state.errorLines).length > 0) {\n      border = \"border border-warningOrange\";\n    }\n    if (this.state.runningBorder) {\n      border = \"border border-blue\";\n    }\n\n    // <!-- @cameron little white div thing --> scroll down to style\n\n    var bgColor = \"bg-jsArea\";\n    if (this.props.isHtml || this.props.isCss) {\n      bgColor = \"bg-htmlCssArea\";\n    }\n\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n\n    var iframeWidth = this.state.iframeWidth\n    if(this.props.isCss){\n      iframeWidth = 0\n    }\n    return (\n      <div>\n        <Cristal\n        zIndex={this.props.starterZIndex}\n                  onZChange={s => this.setState({zIndex:s.zIndex}, () => console.log(this.state.name, s.zIndex))}\n                getScale={this.props.getScale}\n          initialSize={{width:iframeWidth + this.state.editorWidth + 42, \n            height:this.state.editorHeight + 150}}\n          ref={this.cristalRef}\n          isResizable={true}\n                    onStartResize={this.props.onStartMove.bind(this)}\n          onStopResize={this.props.onStopMove.bind(this)}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          closeHidden={this.props.isHtml || this.props.isCss}\n          copyHidden={this.props.isHtml || this.props.isCss}\n          initialPosition={{ x: this.state.x, y: this.state.y }}\n          className={\n            \"stamp shadow-sm \" + bgColor + \" \" + border + \" vertex\" + this.props.id \n          }\n          onResize={this.resizeEditor.bind(this)}\n          onStartResize={this.props.onStartMove}\n          onStopResize={this.props.onStopMove}\n          onMove={s => this.setState({ x: s.x, y: s.y })}\n          icon={this.getIcon()}\n          parentID = {this.props.id}\n        >\n          <div onMouseLeave={this.compileCallback.bind(this)}>\n            <div\n              class={headerColor}\n              style={{\n                position: \"absolute\",\n                top: globals.headerHeight,\n                left: 0,\n                width: \"100%\",\n                height: globals.fnTitleHeight,\n                color: \"transparent\"\n              }}\n            >\n              {\" \"}\n            </div>\n\n            <div class=\"p-2\">\n              {this.renderFunctionName()}\n\n              <div class=\"row m-0 \">\n                {this.renderEditor()}\n\n                {this.renderIframe()}\n              </div>\n            </div>\n          </div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import pf, { globals, p5Lib } from \"./globals.js\";\n\nvar asciiArt = \"   ____    __    ____      ____    ______ ______           ____    ____    ____       \\n  /\\\\  _\\\\  _\\\\ \\\\ _/\\\\__ \\\\    /\\\\  _`\\\\ /\\\\__  _/\\\\  _  \\\\  /'\\\\_/`\\\\/\\\\  _`\\\\ /\\\\  _`\\\\ /\\\\  _`\\\\     \\n  \\\\ \\\\ \\\\/ /\\\\_` ' \\\\/_/\\\\ \\\\   \\\\ \\\\,\\\\L\\\\_\\\\/_/\\\\ \\\\\\\\ \\\\ \\\\L\\\\ \\\\/\\\\      \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\L\\\\_\\\\ \\\\ \\\\L\\\\ \\\\   \\n   \\\\ \\\\ \\\\ \\\\/_>   <_ \\\\ \\\\ \\\\   \\\\/_\\\\__ \\\\  \\\\ \\\\ \\\\\\\\ \\\\  __ \\\\ \\\\ \\\\__\\\\ \\\\ \\\\ ,__/\\\\ \\\\  _\\\\L\\\\ \\\\ ,  /   \\n    \\\\ \\\\ \\\\_ /\\\\_, ,_\\\\ \\\\_\\\\ \\\\    /\\\\ \\\\L\\\\ \\\\ \\\\ \\\\ \\\\\\\\ \\\\ \\\\/\\\\ \\\\ \\\\ \\\\_/\\\\ \\\\ \\\\ \\\\/  \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\\\\\ \\\\  \\n     \\\\ \\\\___\\\\/_/\\\\_\\\\/ /\\\\___\\\\   \\\\ `\\\\____\\\\ \\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\   \\\\ \\\\____/\\\\ \\\\_\\\\ \\\\_\\\\\\n      \\\\/___/  \\\\/_/  \\\\/___/    \\\\/_____/  \\\\/_/ \\\\/_/\\\\/_/\\\\/_/ \\\\/_/\\\\/_/    \\\\/___/  \\\\/_/\\\\/ /\"\n\nexport const stamperHeader = \n`/*\n${asciiArt}\n\n\nHello and welcome to your Stamper metadata file! \nThis file keeps track of all of the info Stamper needs about your stamps. \n\nDon't worry, it won't affect your sketch if you run it on any other IDE.\n\nPlease DON'T MODIFY ANY OF THE INFORMATION BELOW or else your project may behave unexpectantly in Stamper.\nHowever, if your project is acting strangely, delete this file and reopen your project. \nYou'll lose your stamps' formatting but keep all of the code.\n\nHappy Stamping :)\n\n*/\n\n`\n\nexport const builtInFns = [\n  {\n    name: \"draw\",\n    args: \"\",\n    code: `colorMode(RGB, 255, 255, 255, 1);\nbackground(0, 0, 0, .01);\nstroke(255);\nstrokeWeight(1)\n\nif (mouseIsPressed) {\n  line(mouseX, mouseY, pmouseX, pmouseY);\n}`\n  },\n  {\n    name: \"setup\",\n    args: \"\",\n    code: `createCanvas(${globals.defaultIframeWidth},${globals.defaultEditorHeight})\nbackground(100);`\n  },\n  { name: \"preload\", args: \"\", code: \"\" }\n];\n\nvar keyPressCode =\n`fill(\"black\")\ntextSize(50);\n\n// display last key pressed.\ntext(key + ' ' + keyCode, 20, 70);`\n\nvar mousePressCode =\n`fill('black')\n\n// display last clicked location\ntext(mouseX + ', ' + mouseY, mouseX + 10, mouseY - 10)\nrectMode(CENTER)\nrect(mouseX, mouseY, 1, 20)\nrect(mouseX, mouseY, 20, 1)`\n\nexport const listenerFns = [\n  {\n    name: \"keyPressed\",\n    args: \"\",\n    code: `background('yellow')\\n` +keyPressCode\n  },\n   {\n    name: \"keyReleased\",\n    args: \"\",\n    code: `background('springgreen')\\n`  + keyPressCode\n  },\n   {\n    name: \"keyTyped\",\n    args: \"\",\n    code: `background('cyan')\\n`  + keyPressCode\n  },\n  {},\n  {\n    name: \"mousePressed\",\n    args: \"\",\n    code: `background('yellow')\\n` +mousePressCode\n  },\n  {\n    name: \"mouseReleased\",\n    args: \"\",\n    code: `background('springgreen')\\n`  + mousePressCode\n  },\n  {\n    name: \"mouseClicked\",\n    args: \"\",\n    code: `background('cyan')\\n`  + mousePressCode\n  },\n    {\n    name: \"doubleClicked\",\n    args: \"\",\n    code: `background('cyan')\\n`  + mousePressCode\n  },\n    {},\n  {\n    name: \"mouseMoved\",\n    args: \"\",\n    code: `background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)`\n  },\n\n   {\n    name: \"mouseDragged\",\n    args: \"\",\n    code: `background(0, 10)\nstrokeWeight(0)\nfill(255)\nsize = 2*random(0, width)/3\nellipse(width/2,height/2,size, size)`\n  },\n  {},\n  {\n    name: \"mouseWheel\",\n    args: \"\",\n    code: `background('yellow')\nstrokeWeight(1)\nstroke(\"black\")\nvar y = random(0, height)\nline(0, y, width, y)`\n  }\n];\n\nexport const normalFn = {\n  name: \"blueCircle\",\n  args: \"posX=mouseX, posY=mouseY\",\n  code: \n `strokeWeight(1)\nstroke(\"black\")\nfill('lightblue')\nellipse(posX, posY, 30, 30)`\n};\n\nexport const commentBlob = {\n  code: `/*\\n  comment here\\n*/`,\n  codeSize: globals.bigCodeSize\n};\n\nexport const varBlob = { code: \"var global1 = 1\" };\n\nexport default function DefaultExportPlaceholder() {\n  return null;\n}\n\nvar empty = {\"fns\":[{\"name\":\"style.css\",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"args\":\" \",\"x\":268.53419986245996,\"y\":177.7984650004281,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":true,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"index.html\",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"args\":\" \",\"x\":309.13872819066705,\"y\":148.12237211435783,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":true,\"isCss\":false,\"hidden\":true,\"exported\":true,\"zIndex\":-1}],\"blobs\":[],\"scale\":1,\"console\":{\"x\":303.0271580940204,\"y\":206.71662152101146,\"consoleWidth\":225,\"consoleHeight\":200,\"hidden\":true,\"zIndex\":-1},\"originX\":0,\"originY\":0,\"compressedJs\":\"\"}\n\nvar starter1 = {\"fns\":[{\"name\":\"style.css\",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"args\":\" \",\"x\":1214.0152913777786,\"y\":-177.38952700122098,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":true,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"index.html\",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"args\":\" \",\"x\":717.7235737149142,\"y\":-174.70178004670035,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":true,\"isCss\":false,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"keyPressed\",\"code\":\"\\nbackground(255)\\nfill(117,250,151)\\ntextSize(50);\\n\\n// display last key pressed.\\ntext(dotSize + ' ' + keyCode, 20, 70)\\n\\nif (keyCode == 187) { // keyCode for '+'\\n  dotSize++\\n} else if (keyCode == 189) { // keyCode for '-'\\n  dotSize--\\n}\\n\",\"args\":\"\",\"x\":2368.480604262091,\"y\":833.4887820007216,\"editorWidth\":367.4416035868834,\"editorHeight\":236.03934381388729,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":false,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"draw\",\"code\":\"\\ncolorMode(RGB, 255, 255, 255, 1);\\nbackground(151, 97, 246, .01);\\nstroke(255);\\nstrokeWeight(1)\\n\\nif (mouseIsPressed) {\\n  line(mouseX, mouseY, pmouseX, pmouseY);\\n}\\n\",\"args\":\"\",\"x\":1165.4509496828648,\"y\":742.6970514094569,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":102},{\"name\":\"setup\",\"code\":\"\\ncreateCanvas(200, 200)\\n\",\"args\":\"\",\"x\":670.8836830009536,\"y\":744.080110275419,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":103},{\"name\":\"dotPattern\",\"code\":\"\\nbackground(255, 10)\\nfor(var i = 0; i < 10; i++){\\n  basicDot(mouseX, i*20 )\\n}\\n\\n\",\"args\":\"\",\"x\":3330.0227123737986,\"y\":834.9322956589234,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":279,\"iframeHeight\":257,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":104},{\"name\":\"basicDot\",\"code\":\"\\nnoStroke()\\nbackground(255, 10)\\nfill(117,250,151)\\nellipse(x, y, dotSize, dotSize)\\n\",\"args\":\"x=mouseX, y=mouseY\",\"x\":1877.4903434233374,\"y\":837.7006059839921,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":105},{\"name\":\"sizeDot\",\"code\":\"\\n// generate a random size\\nnoStroke()\\nvar size = random(0, 20)\\n\\n// use it to draw the dot\\nfill(86,220,248, size*.05 *255);\\nellipse(x,y,size, size);\\n\",\"args\":\"x=mouseX, y=mouseY\",\"x\":3895.5198057448943,\"y\":835.3288232987358,\"editorWidth\":225,\"editorHeight\":175,\"iframeWidth\":200,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":106}],\"blobs\":[{\"code\":\"/* and comments!\\n \\n  click the 'T' to\\n  toggle text-size\\n  \\n*/\",\"editorWidth\":348.3514917659609,\"editorHeight\":195.5945895797871,\"x\":2369.39170216625,\"y\":566.2162988773974,\"hidden\":false,\"codeSize\":28,\"zIndex\":107},{\"code\":\"/*\\n READ ME\\n   ____    __    ____      ____    ______ ______           ____    ____    ____       \\n  /\\\\  _\\\\  _\\\\ \\\\ _/\\\\__ \\\\    /\\\\  _`\\\\ /\\\\__  _/\\\\  _  \\\\  /'\\\\_/`\\\\/\\\\  _`\\\\ /\\\\  _`\\\\ /\\\\  _`\\\\     \\n  \\\\ \\\\ \\\\/ /\\\\_` ' \\\\/_/\\\\ \\\\   \\\\ \\\\,\\\\L\\\\_\\\\/_/\\\\ \\\\\\\\ \\\\ \\\\L\\\\ \\\\/\\\\      \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\L\\\\_\\\\ \\\\ \\\\L\\\\ \\\\   \\n   \\\\ \\\\ \\\\ \\\\/_>   <_ \\\\ \\\\ \\\\   \\\\/_\\\\__ \\\\  \\\\ \\\\ \\\\\\\\ \\\\  __ \\\\ \\\\ \\\\__\\\\ \\\\ \\\\ ,__/\\\\ \\\\  _\\\\L\\\\ \\\\ ,  /   \\n    \\\\ \\\\ \\\\_ /\\\\_, ,_\\\\ \\\\_\\\\ \\\\    /\\\\ \\\\L\\\\ \\\\ \\\\ \\\\ \\\\\\\\ \\\\ \\\\/\\\\ \\\\ \\\\ \\\\_/\\\\ \\\\ \\\\ \\\\/  \\\\ \\\\ \\\\L\\\\ \\\\ \\\\ \\\\\\\\ \\\\  \\n     \\\\ \\\\___\\\\/_/\\\\_\\\\/ /\\\\___\\\\   \\\\ `\\\\____\\\\ \\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\ \\\\_\\\\\\\\ \\\\_\\\\ \\\\_\\\\   \\\\ \\\\____/\\\\ \\\\_\\\\ \\\\_\\\\\\n      \\\\/___/  \\\\/_/  \\\\/___/    \\\\/_____/  \\\\/_/ \\\\/_/\\\\/_/\\\\/_/ \\\\/_/\\\\/_/    \\\\/___/  \\\\/_/\\\\/ / \\n\\n     An Artbord-Oriented Programming Enviroment for the p5.js Library.\\n     \\n     In Stamper, your code is structured into \\\"Stamps\\\", there are 5 types:\\n     \\n     1. Function for Setup(), Draw(), keyPressed(), yourFavFunc(), etc.\\n     \\n     2. Anything for everything else: Global Variables, Comments (like this one), Classes, etc.\\n     \\n     3. Console for printing messages\\n        \\n     4. HTML for updating the webpage which holds your sketch\\n     \\n     5. CSS for updating global style of that webpage\\n*/\",\"editorWidth\":712,\"editorHeight\":309,\"x\":231.105803149567,\"y\":175.00967117636048,\"hidden\":false,\"codeSize\":14,\"zIndex\":114},{\"code\":\"//This is an \\\"Anything\\\" Stamp\\n// Which can be used for global variables\\n\\nvar dotSize = 20;\",\"editorWidth\":235.27929098049674,\"editorHeight\":101.6125006152455,\"x\":2090.1232297229144,\"y\":661.2246291643922,\"hidden\":false,\"codeSize\":14,\"zIndex\":109},{\"code\":\"/*\\n  Stamps can call one another. Try switching out the 'basicDot' for the 'sizeDot'\\n*/\",\"editorWidth\":276.296346723557,\"editorHeight\":109.39558738280925,\"x\":3577.074740971314,\"y\":656.1956771244991,\"hidden\":false,\"codeSize\":14,\"zIndex\":110},{\"code\":\"/*\\n  A Stamper project is ~= to one p5 sketch, this means:\\n    \\n    1. Everything is in global scope and you can call functions freely\\n    2. When you're export, the Stamp named \\\"draw\\\" will act as the draw() function, if you import this code into the p5 web editor.\\n*/\",\"editorWidth\":451.14440157092827,\"editorHeight\":151.54048537765823,\"x\":752.0874271415859,\"y\":1086.0441248123698,\"hidden\":false,\"codeSize\":14,\"zIndex\":111},{\"code\":\"/*\\n\\n  Duplicate a Stamp to try a new idea\\n  \\n  1. Click on Stamp titlebar\\n  2. Hold Option (⌥) and drag to new position\\n  3. Release Mouse\\n\\n*/\",\"editorWidth\":225,\"editorHeight\":168.28845558398316,\"x\":3892.7486139641014,\"y\":599.7783058248328,\"hidden\":false,\"codeSize\":14,\"zIndex\":112},{\"code\":\"/*Stamps can be hidden by clicking their eye-cons in the layer list\\n\\n*/\",\"editorWidth\":291.0811563031933,\"editorHeight\":200,\"x\":987.2292727588588,\"y\":178.52248092290748,\"hidden\":false,\"codeSize\":28,\"zIndex\":113}],\"scale\":0.6854017092287545,\"console\":{\"x\":67.20990314036078,\"y\":559.9352212006518,\"consoleWidth\":225,\"consoleHeight\":200,\"hidden\":false,\"zIndex\":101},\"originX\":209.47972499070545,\"originY\":14.546644181615989,\"compressedJs\":\"ផ࠘ⷌ䈆᭻㖵䫜瑳ႅࠂ䐄ض捋ඬ䃨桥ဓ唉搎䛰儁Ǒ廎杬㊐ᴙ⼎䋗ᭋ榔ᑀ ᔗ䊂䗥₢ʒᔅࡀ䵅Ԑࠈ௫痵礆ᐣ఍䘈昌ㅂ壠粠๡̸痈ឮࠈ௸恅愂粽㢾张⹢۱⌌ׂب䬐㉀ ၢۋ擫䗲笂猨䆜ࣇ⯢᎗׸䏦āᲁ㡟䑁戎圈அ䗄拢缜▊❌戕熎壇ుะ⎔ĭ䘐披熆ᢊϢāó䠁ⳇⰗ培怗㱑ᘨ圔₸⁜⿣ᆈ֋籗✠γતⰠဗ燕磥Ṁցむ妈ヅᩳBᣅ沕䜠ʳ౟䠉៷䀮ᢧ㱕㸳羘ǜ忦㤀ᇘ䆆ؠ⼕䲸忄ᥤᵳƹЌ⭖ᡓಯ搀砯埱༅籰㘨㬜ᖔ᫅㳣䄲↺Ў 悀ᖌ奁㜐ၜ二⛷ጡ㔽擒敮㨲夈਎⛶㮓ֵ嫒湧ဢ宝䴮⛾‖䂁䳞狥Ťᰍ◍✲ɣ▉擂特ᝣᇱ䃉ᛢʛ内嫠敲ᘐṛ溮∆᭻ᆔ䃒猠㦺ᲝⱮ䝗ጫႁ勜瑯ထㅉ湤⋌⊋䦔䃂牥ယ䠝༮ٗ᧖ㅄ扜⁆㪷ᣝഭ盬⯺䶕棪瀨ᒖࠑ์᝼⁃ⶕ犠牥㦹奙ᢁ汇∳כࡧ䐏㊺᣻–猢焂ֹ狨棤lㄓ䲮晗ᘸ㶕壦攺ဣ嬛汌ᛂʳ׉勂扬㊹䬈ࡼ瀼愁↱勖攠㨴ᩜ損盦⥉めۘ慳㧢ࣴೆ㋢ț㶹曞汥抲尜䴭杌⌛㖕曦慧㊹熉夥獂焂⅑᪙䔬㪸ᤘ㢥乀଻嶕䓠慧㊐ᷚബ㚂̓㶱䣧昁⪹嫙⺌㚌掙咸䂆卓朡姹䀙䜷⏋㆔䃞映㨴ᡝᤊ习⍱㵓䠁乩㦐ᡛ䐄⺀ࣉ஘΄ਯថᗱ⼬㘖焃ঔ䃪獥㉢塱欎満ठ⠩泂爠㈷崔洯♒ǩÈ恷昄散ቜ碨ᘶୣ㎐ɰ⁡㜷礀㹅戅⎓撁曮楴㇢ᵈ෮坎〩ඉ䋦楣∷崉素⛢㼠ᒋࠥ椅ᆐၱ䭬幀૫㶩䫆瓤b徏␎䛼⬣䃗丂⏤įᩜ損噖୷ᰉ⾊Աᜐᅺ䀿⹀ࠛ㮤ɜ捯㡲)Ⲝ䀖坐˩䷎ʄ㦐ᦜ䲬囇个᳈局坨㊷ㄊ䓮♒̫懁廤瓄㦲禀Ꮴۦ୫ᖐ䁄摲セ䢈໭ᛆ愃֍桀慳抑焅䔅Ვ兡ƥ䶊瑩㛢ᇹ䀗Ṡ᧷ဌ憈㉰᫲o搌噆䮣㷈巐ĎԐࠑຮۆ䬛ב䩀懇㵢ಜ伤ؒͳᗜ䃒摥ヲƘ岠ྔἨᨹ忎Ψ်ᩝඌ嘦ஐ⮔ƞ䡯㘲ࠓ渜倶煇ਲ䩓攁ԲᲘ⳸䔬≣䆽曓䐟ղ䂹橌囆⬋䶔䂚潵㦲䊹怒⺰ླঔ䃐楤㈲守౏Ṡ㡇ᰋ㣒爠㊼奋ⱼ䀕ፋ㬐⑀污㲲岈ඍ᜷☲➠ȳ洃焽䊂䱌ᘶ嬻䦽櫜搨ᤚ䵊⅌暖捡⃄扮ⰲ᪘ଌ⚦ነ圠ᵟ䠅న᪘੹Q㋲̣◍惘慹ံᡜ溘䔂Ά᥄嶊Ⱘ琁⼊搄爂㤁⼐䒆潤㊖ࠌ䘅䈃㦁␨ᓒ映ᑣ䖈ާ刃ু岤䃶 ៤ૹ⁕割夸⢃倆फᖅό₊幀ໆ㣰玨㰭斞ୋ⅏催‟␄ৌȭ㶅ʘ淭䛷ቫ㶑䩐則№ࠌ䚦峀⦉⓯堂‱᪘䬈ܦ狂Ƒ僘塀⸰戏峝ํ皶⼨ӯယ坥㒳娝ԆṰ݃㞐Κ䥳玀崊␏アăㆥ峋䘙Ⱆ࠱ℋዂΆ⁇ఒ天᷸-湼恚眠ˡ擊慴㊡塛仌ᜲ䆑䃃䠂峤¬猋䲍睅̋凑䫤滳ô䬈ئʐ匳㷈凈Ѯ㒐཈؇㈆䤁炀授ࠫᖔ礀ᓽC潈ʭ剔㈰န焙妭Ⲓ䏁眠哳䘊Ⳣẛ䷪㹠ऱ⟘ċ焂㤲嬛മܶ⥃悰䃲⳨ã㉂㷠๾㠦㽝硞⼠㎲宙⹜怼玓ֹ䣞淅᧶%岀ြ₡÷ไ⣥¨䩱⟮幀Ꭳ厐ݣ搂᭳ě෮习ֱ惘塤㈰ᘙഎ֘吒共䃔䁕昂۵1⼥䱁昱ஐڄ紊耂老\"}\n\n\nvar particles = {\"fns\":[{\"name\":\"style.css\",\"code\":\"\\nhtml, body {\\n  margin: 0;\\n  padding: 0;\\n}\",\"args\":\" \",\"x\":2487.723154997192,\"y\":454.1828386163433,\"editorWidth\":155.2851590781397,\"editorHeight\":108.88644457518404,\"iframeWidth\":225,\"iframeHeight\":200,\"isHtml\":false,\"isCss\":true,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"index.html\",\"code\":\"<html>\\n  <head>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js\\\"></script>\\n    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.sound.min.js\\\"></script>\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"style.css\\\">\\n  </head>\\n  <body>\\n    <script src='sketch.js'></script>\\n  </body>\\n</html>\\n\",\"args\":\" \",\"x\":2926.0613195853425,\"y\":460.660255253893,\"editorWidth\":331.9915568373324,\"editorHeight\":267.30348833629085,\"iframeWidth\":225,\"iframeHeight\":200,\"isHtml\":true,\"isCss\":false,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"setup\",\"code\":\"// nothing much to see here\\ncreateCanvas(300,300) // this won't alter the window size\\nbackground(backgroundFade)\\nnoStroke()\",\"args\":\"\",\"x\":1922.4727804881593,\"y\":-28.839556505847952,\"editorWidth\":300,\"editorHeight\":95.77622017221594,\"iframeWidth\":229.2823664771775,\"iframeHeight\":125.05858664939339,\"isHtml\":false,\"isCss\":false,\"hidden\":true,\"exported\":true,\"zIndex\":-1},{\"name\":\"basicDot\",\"code\":\"fill(255);\\nellipse(x, y, 10, 10)\",\"args\":\"x=mouseX, y=mouseY\",\"x\":-59.00091994708015,\"y\":619.609814794894,\"editorWidth\":181.2419711791158,\"editorHeight\":111.52588114745845,\"iframeWidth\":134.907702273812,\"iframeHeight\":130.38322448430927,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":101},{\"name\":\"speedColorDot\",\"code\":\"if(!speed){\\n  speed = random(0, .01)\\n}\\n\\n// set the opacity and color based on the speed the dots are moving\\nvar opacity = max(100, speed *100 * 255)\\nvar colorOff = speed *100\\nfill(150 - colorOff*40, 100+ colorOff*80, 255, opacity);\\nellipse(x,y,5, 5);\\n\",\"args\":\"x = mouseX, y=mouseY\",\"x\":329.9599253794122,\"y\":976.0473944121347,\"editorWidth\":296.7340422149467,\"editorHeight\":176.59932474664424,\"iframeWidth\":169.71609003165736,\"iframeHeight\":195.90489555790055,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":102},{\"name\":\"getPosition\",\"code\":\"\\n if(angle === 0){\\n  lastFaderX = faderX\\n  faderX = faderX*.97 + .03* mouseX / width;\\n  speed = abs(faderX - lastFaderX)\\n  randomSeed(actRandomSeed); \\n }\\n var randomX = random(0,width);\\n  var randomY = random(0,height);\\n  var circleX = width / 2 + cos(angle) * 100;\\n  var circleY = height / 2 + sin(angle) * 100;\\n  var x = lerp(randomX,circleX,faderX);\\n  var y = lerp(randomY,circleY,faderX);\\n  if(mouseIsPressed){\\n     background(backgroundFade, 10)\\n  var angle = map(mouseX, 0, width, 0,7)\\n  var circleX = width / 2 + cos(angle) * 100;\\n  var circleY = height / 2 + sin(angle) * 100;\\n  basicDot(circleX, circleY) \\n  }\\n\\n  \\n  return {x:x, y:y}\\n  \",\"args\":\"angle\",\"x\":1307.5816569518977,\"y\":677.5063472275517,\"editorWidth\":379.21463817319534,\"editorHeight\":376.8484971084752,\"iframeWidth\":289.3981629416132,\"iframeHeight\":292.2735384641079,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":103},{\"name\":\"drawFadedParticles\",\"code\":\"background(backgroundFade, 20);\\n\\nfor (var i = 0; i < count; i++) {\\n  var angle = i*360/count\\n  \\n  // mix and match dot functions here!\\n  pos = getPosition(angle)\\n  basicDot(pos.x, pos.y)\\n}\",\"args\":\"\",\"x\":655.2944910006604,\"y\":-49.9258150353464,\"editorWidth\":309.7943589626219,\"editorHeight\":146.47663811577075,\"iframeWidth\":297.3456070084918,\"iframeHeight\":298.4895813984271,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":104},{\"name\":\"speedDot\",\"code\":\"\\nif(!speed){\\n  speed = random(0, .01)\\n}\\n\\n// set the opacity based on the speed the dots are moving\\nvar opacity = max(100, speed *100 * 255)\\nfill(150, 100, 255,opacity);\\nellipse(x,y,10, 10);\\n\\n\",\"args\":\"x = mouseX, y=mouseY\",\"x\":-159.95756973196586,\"y\":906.1192916260952,\"editorWidth\":308.7544796011597,\"editorHeight\":185.16405770099925,\"iframeWidth\":116.75259491582909,\"iframeHeight\":204.18278884948927,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":105},{\"name\":\"sizeDot\",\"code\":\"// generate a random size\\nnoStroke()\\nvar size = random(0, 10)\\n\\n// use it to draw the dot\\nfill(86,186,255, size*.1 *255);\\nellipse(x,y,size, size);\",\"args\":\"x = mouseX, y=mouseY\",\"x\":327.8196574329079,\"y\":620.3268102451857,\"editorWidth\":199.66994116856335,\"editorHeight\":179.9979040763115,\"iframeWidth\":91.90910563176772,\"iframeHeight\":206.14265666314918,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":106},{\"name\":\"drawParticles\",\"code\":\"\\nbackground(40);\\n\\nfor (var i = 0; i < count; i++) {\\n  var angle = i*360/count\\n  pos = getPosition(angle)\\n  \\n  // mix and match dot functions here!\\n  sizeDot(pos.x, pos.y)\\n  speedColorDot(pos.x, pos.y)\\n}\",\"args\":\"\",\"x\":-6.737551201596916,\"y\":-46.19936428968789,\"editorWidth\":300,\"editorHeight\":193.4799063003186,\"iframeWidth\":303.3009633960733,\"iframeHeight\":302.15825303488214,\"isHtml\":false,\"isCss\":false,\"hidden\":false,\"exported\":true,\"zIndex\":107}],\"blobs\":[{\"code\":\"// globals\\n\\nvar actRandomSeed = 0;\\nvar count = 300;\\nvar faderX = 0\\nvar backgroundFade = 40\\nvar lastFaderX\\nvar speed\\nvar angleUnit = (360 / count);\",\"editorWidth\":200,\"editorHeight\":201.84709943153263,\"x\":1670.5811271907414,\"y\":-31.050619448774135,\"hidden\":true,\"codeSize\":12,\"zIndex\":-1},{\"code\":\"// a helper function to get the particle pattern, mouse over the canvas while pressing your mouse down to visualize what it does\",\"editorWidth\":864.7567589687693,\"editorHeight\":56.38414040982718,\"x\":1082.4240330014338,\"y\":553.2565203857729,\"hidden\":false,\"codeSize\":24,\"zIndex\":108},{\"code\":\"// setup stuff\",\"editorWidth\":355.59623103433,\"editorHeight\":37.85493935071861,\"x\":1753.6850108693698,\"y\":-135.0995569860125,\"hidden\":true,\"codeSize\":24,\"zIndex\":-1},{\"code\":\"// the particle pattern\",\"editorWidth\":612.8513837941782,\"editorHeight\":38.73195511379262,\"x\":-155.73357031076716,\"y\":-150.3640165446208,\"hidden\":false,\"codeSize\":24,\"zIndex\":109},{\"code\":\"// different types of dots, mouse over the canvases to see them\",\"editorWidth\":850.4735375344712,\"editorHeight\":34.487326158190314,\"x\":-327.7333275664664,\"y\":509.4890524416247,\"hidden\":false,\"codeSize\":24,\"zIndex\":110}],\"scale\":0.48753207296132967,\"console\":{\"x\":2406.431838044327,\"y\":726.7041236433164,\"consoleWidth\":398.5547609288658,\"consoleHeight\":312.41625580738497,\"hidden\":true,\"zIndex\":-1},\"originX\":435.55907755431997,\"originY\":175.31588208790083,\"compressedJs\":\"ភ䠙涍瘦ୣ䰨ᓬ慲ူ壝ੌᛦ⍻㕍䫊搠Ẑఎ碢瘶箫㧐䁺″ᡣ䑙䰬䙗዆ႇਞ扡ㆵ姜䷮囦∳֑䩀㴠ᩣ؛మ㝌ₓ䥣ਞ獰㊲失䴍晶挪喹厈唨ᦛఈ׸時䧘⠨幞⁡ဴᥛฌ圢̳喹䛨楯㜐ᴛ搌癗℃冡䩀灡㤺ᩘ涘䂗⎣ᗉ屘⁭㞺峙␍睦⮖ᒅ䛂湶ス䠝洍᱂⮓ᗍ曒湧ြ寝⹘犦⍻引⓬楳㪰嬚⽌切㭃א䃒琠㈷奜粠ࠧᬫ凕恀獴㪳ᦱ√䞜⣋ᆥ䳌敲㊷ᴈຏᜆ⮙ƽ䱀摯㨹緀ኬ圼⏃䶕䮈ᑭԅ㩀ᰘ圂䅋漑⛜潴㑲,䶮嘶䙁㶡䫤攊ㆹᥘ⺌吼⩑⃌恠ⰳ᠘ੈᲠ০䮙ǝ廜❴ူ嬝ᣮ❶䭳ᆽ湀獩㴲䊺䀴ኌ偟ဆ㑒੮㞩崜䷭㙒䅈⧷嘁ᅢス婘梍睂䏁瞔Ɣ堬ြ熂䬥ឰ匳▱塐㈵᪔仂䲭䛆䮃䶔僰Ⱐ㲖ࠌ☘䁌牟ᐇ溆潬㞹ㅔЇ幠ࣦ㥉勌⠡抔䩞慄ౣᤁ璁旊ʍᐘଈ׆̜⪷᠆㧊á㞸ᡘ洮䞒̋㦐䃇䑟爀ⵙⲄเᅻ↗ຉ䐊爀摈మ♒ͫ㷙勜查Ł㈏➤ۖு⃄恠ⳇᢕౌ؄ʢܠͷ੓䕚➳ᦈ޹㈞〈ӄ橠‭撐䪍Რ࿃Ş⡈灠Ⳅ⒖㈛嶠ዷ䥡咰䇈ł皀䭙沮䔆箛✐ᡑ攃ጔ廂䅄ږ㘰㒀空㴠ᡲ䁈絀㗂ǯᰎ—⃇Ӥ䒊䗇፲ř¸恦⫧º䠋搎皖⎣⃯嘂晡ㄹ䨱朥岵䅈⢃七Ǥȇ਻₃䊓夀⢁稔⃤ㆉᢎ屠允䂳૆⧄㉥ࡖ㦄ᚆ⭋ᶣ䠇濆ᄱ婜䱭䙜∞ᓨ䁞′ၲR๼瀐℁⮐ʵ丮戨㆑磥眶佀ӏᱟ搂㤶ᥜ丅౧狁㌝屙昀穴䀡㲀⃜奂朜傳䰨㒳ਹ җ᪇ထ㏎ʯတ㫁⁽瀶ᜰృ೅朁成᭘⸘摵䅡À姌ô戅ෲԿ瀑߸у瘂ჩǫ燘䖙ϒ䤀⢀䃺ਊၢȜ䲮䝗፱ǭ灵搃欝ṟ㢂绀ᔳᇉ䋯搀溲ᐹ悢䜾‥珬Ȉ㈰爁㩙䷮∂䜠ˉ及ٜဴ䠏᳀徃夃⒬噒⃤¦㬀┍ኣᦱ䂿੅昀䲗䯈තណ⠟䦵䋨捨爁盺⃄圾⠩ᢄᑀ⁰㞹䠏㹠㒾怈ׁ廦⹸ᙢો似䁅垈ዋ瘉ⷿɗ㽁ᗟ灊⟸ና搉ⓨɅ㥁ྜ恆羰ᆻ下ᬻշĜ㲀戏堇⾐၄敮㊹ᡝತ؞㠇ଔ様ع犃睹éເࠧဋ澈㿤΃婝ᲀ沞‑宠Ǜ昀尜උا͢木ᒓࢂ⨮ᢐ઼Ëޒ映漘䉒㯱ń㭀偽䀨↧簉槾ɴ犁ᴾ恉⿰ᑿⰊῐţ省᳹恇ຐ㣎㡻䠅ᄀ耀\"}\nexport const starter = starter1\n\nexport const worlds = [\n  {name:\"starter\" , data:starter1},\n  { name: \"empty\", data: empty },\n  {name:\"particles\", data:particles}\n];\n","import \"./App.scss\";\nimport $ from \"jquery\"\nimport React, { Component, useState } from \"react\";\nimport { saveAs } from \"file-saver\";\nimport parser from \"./parser.js\";\nimport LZUTF8 from \"lzutf8\";\nimport JSZip from \"jszip\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\n\n\nimport pf1, {\n  normalFn,\n  commentBlob,\n  varBlob,\n  listenerFns,\n  builtInFns,\n  worlds, stamperHeader\n} from \"./starterStamps.js\";\n\nconst { detect } = require(\"detect-browser\");\nvar deepEqual = require('deep-equal')\nconst browser = detect();\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\n\n\nexport default class ModalManager extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalButtons:[],\n      modalVisible: !ipc && browser && browser.name != \"chrome\",\n      modalHeader: \"Use Chrome please!\",\n      modalContent:\n        \"Right now, the web version of Stamper is only supported in Google Chrome.\",\n      saveInterval:null\n    };\n    this.inputElem = null\n    this.uploadProject = this.uploadProject.bind(this)\n    this.hideModal = this.hideModal.bind(this)\n\n  }\n\n\n\n  componentDidMount() {\n    let saveInterval = setInterval(this.sendSaveData.bind(this), 180000);\n    this.setState({saveInterval:saveInterval})\n    ipc &&\n      ipc.on(\"openFiles\", (event, files) => {\n\n        this.openFiles(\n          files.html,\n          files.js,\n          files.css,\n          files.stamper,\n          files.path\n        );\n      });\n\n    ipc &&\n      ipc.on(\"requestSave\", (event, rawCode) => {\n        this.sendSaveData();\n      });\n\n      var inputElem = document.createElement('input', {id:\"projectInput\", type:\"file\", \n        webkitdirectory:\"true\", multiple:\"true\"} )\n\n      var idAttr = document.createAttribute(\"id\");\n      idAttr.value = \"projectInput\"; \n      inputElem.setAttributeNode(idAttr)\n\n      var typeAttr = document.createAttribute(\"type\");\n      typeAttr.value = \"file\"; \n      inputElem.setAttributeNode(typeAttr)\n\n      var multipleAttr = document.createAttribute(\"multiple\");\n      multipleAttr.value = \"true\"; \n      inputElem.setAttributeNode(multipleAttr)\n\n      var directoryAttr = document.createAttribute(\"webkitdirectory\");\n      directoryAttr.value = \"true\"; \n      inputElem.setAttributeNode(directoryAttr)\n\n      var styleAttr = document.createAttribute(\"hidden\");\n      styleAttr.value = \"true\"; \n      inputElem.setAttributeNode(styleAttr)\n\n      inputElem.addEventListener(\"change\", this.uploadProject)\n      document.getElementById(\"root\").appendChild(inputElem)\n            this.inputElem = inputElem\n\n  }\n\n  componentWillUnmout(){\n    this.inputElem.removeEventListener(\"change\", this.uploadProject)\n    clearInterval(this.state.saveInterval)\n    this.setState({saveInterval:null})\n  }\n\n  requestUpload() {\n    document.getElementById(\"projectInput\").click()\n  }\n\n  attemptToReadFile(files, name, key, readDict, callback){\n\n    for(var i = 0; i < files.length; i++){\n      if(files[i].name === name){\n        var reader = new FileReader()\n        reader.onload = function(e){\n          readDict[key] = e.target.result\n          callback()\n        }\n        try{\n        reader.readAsText(files[i])\n        return \n        }catch{\n          this.setState({modalVisible:true, modalHeader:\"Oh no! It looks like we had trouble reading one of your files.\",\n            modalContent:\"Check that your index.html, sketch.js, and style.css are properly configured.\",\n                          modalButtons:[{text:\"ok\", color:\"outline-secondary\", callback:this.hideModal}]})\n        }  \n      }\n    }\n        \n        callback()\n\n  }\n\n  uploadProject(e){\n\n    var files = e.target.files\n    var readDict = {}\n    this.attemptToReadFile(files, \"sketch.js\", \"js\", readDict, () => {\n      this.attemptToReadFile(files, \"index.html\", \"html\", readDict, ()=>{\n        this.attemptToReadFile(files, \"style.css\", \"css\", readDict, () =>{\n          this.attemptToReadFile(files, \"stamper.js\", \"stamper\", readDict, () =>{\n            this.openFiles(readDict.html, readDict.js, readDict.css, readDict.stamper)\n          })\n        })\n      })\n    })\n  }\n\ncurIsAWorld(){\n  var curStamper = this.props.getAllData()\n\n  for(var i = 0; i < worlds.length; i++){\n    var worldStamper = worlds[i].data\n\n    curStamper.scale = worldStamper.scale\n    curStamper.originX = worldStamper.originX \n    curStamper.originY = worldStamper.originY\n    curStamper.compressedJs = worldStamper.compressedJs\n    if(deepEqual(curStamper, worldStamper)){\n      return true\n    }\n  } \n\n  return false \n}\n\nrequestWorldLoad(newWorldStamper){\n\n  var buttons = []\n  buttons.push({text:\"cancel\", color:\"outline-secondary\", callback:this.hideModal})\n  buttons.push(        {text:\"yes\", color:\"outline-primary\", callback:() => {\n         this.props.loadStamperFile(newWorldStamper); this.hideModal()  \n       }})\n  if(!ipc){\n    buttons.push({text:\"download first\", color:\"outline-primary\", callback:() => {\n         this.requestDownload(); this.props.loadStamperFile(newWorldStamper); this.hideModal()  \n       }})\n  }\n\n\n  if(this.curIsAWorld()){\n    this.props.loadStamperFile(newWorldStamper)\n  }else{\n    this.setState({\n      modalVisible:true, \n      modalHeader:\"This will overwrite your current work\",\n      modalContent:\"Would you like to load the example anyways?\",\n      modalButtons:buttons\n      })\n  }\n\n}\n\n\n  sendSaveData() {\n    console.log(\"SAVING\")\n    var fileData = this.props.getFileData();\n    if (fileData) {\n      ipc && ipc.send(\"save\", fileData);\n    }\n  }\n\n  requestDownload(){\n    var data = this.props.getFileData();\n\n\nvar zip = new JSZip();\nzip.file(\"sketch.js\", data.js);\nzip.file(\"index.html\", data.html);\nzip.file(\"style.css\", data.css);\nzip.file(\"stamper.js\", data.stamper);\nzip.generateAsync({type:\"blob\"})\n.then(function(content) {\n    // see FileSaver.js\n    saveAs(content, \"stamper_project.zip\");\n});\n\nthis.setState({lastDownloaded:data.stamper})\n  }\n\n  updateStamperJs(js, stamper) {\n  \n    if (stamper === undefined) {\n      var oldJs = \"\";\n\n    } else {\n            console.log(stamper.compressedJs)\n\n      var oldJs = LZUTF8.decompress(stamper.compressedJs, {\n        inputEncoding: \"StorageBinaryString\"\n      });\n    }\n\n\n    if (oldJs === js) {\n      return stamper;\n    }\n\n    try {\n      var newStamper = parser.jsToStamps(js);\n    } catch (e) {\n      throw \"Syntax error in Javascript\";\n    }\n\n    newStamper.fns.push({\n      name: \"style.css\",\n      args: \" \",\n      code: \"\",\n      isCss: true\n    });\n    newStamper.fns.push({\n      name: \"index.html\",\n      args: \" \",\n      code: \"\",\n      isHtml: true\n    });\n    newStamper.console = {};\n    newStamper.scale = 1;\n    newStamper.originX = 0\n    newStamper.originY = 0\n\n    return newStamper;\n  }\n\n  openFiles(html, js, css = \"\", stamper, path) {\n\n    if(stamper){\n    stamper = JSON.parse(stamper.substring(stamperHeader.length, stamper.length))\n    }\n\n   \n    if (html === undefined || js === undefined) {\n\n      this.setState({\n        modalVisible: true,\n        modalHeader: \"Oh no! It looks like you're missing some files.\",\n        modalContent:\n          \"Stamper projects must have an 'index.html' file and a 'sketch.js' file.\",\n                modalButtons:[{text:\"ok\", color:\"outline-secondary\", callback:this.hideModal}],\n      });\n      return;\n    }\n\n    try {\n      var newStamper = this.updateStamperJs(js, stamper);\n    } catch (e) {\n      this.setState({\n        modalVisible: true,\n        modalHeader:\n          \"Oh no! It looks like your sketch file has a few syntax errors.\",\n        modalContent:\n          \"We can't parse javascript with syntax errors into Stamper land :(\",\n                modalButtons:[{text:\"ok\", color:\"outline-secondary\", callback:this.hideModal}],\n      });\n      return;\n    }\n\n    newStamper.fns.map(stamp => {\n      if (stamp.isHtml) {\n        stamp.code = html;\n      }\n    });\n    newStamper.fns.map(stamp => {\n      if (stamp.isCss) {\n        stamp.code = css;\n      }\n    });\n\n    this.props.loadStamperFile(newStamper);\n    ipc && ipc.send(\"updatePath\", { path: path });\n  }\n\n  hideModal(){\n    this.setState({modalVisible:false})\n  }\n\n  render() {\n\n\n\n    var buttonElems = this.state.modalButtons.map((btnData) => (\n      <Button variant={btnData.color} size=\"sm\" onClick={btnData.callback}>{btnData.text}</Button>))\n    return (\n      <div>\n\n        <Modal\n          show={this.state.modalVisible}\n          style={{ zIndex: 2000000000000000001 }}\n          centered\n          onHide={this.hideModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title className=\"name\">{this.state.modalHeader}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"picker\">{this.state.modalContent} </Modal.Body>\n  <Modal.Footer hidden={buttonElems.length === 0}>\n    {buttonElems}\n  </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport { Hook, Console, Decode } from \"console-feed\";\nimport ConsoleStampIcon from \"./icons/printer.svg\";\n\nvar _ = require(\"lodash\");\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class ConsoleStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logs: [],\n      consoleHeight: this.props.starterConsoleHeight,\n      consoleWidth: this.props.starterConsoleWidth,\n      lastFreq: 0,\n      hidden: this.props.initialHidden,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y,\n      zIndex:-1\n    };\n\n    this.cristalRef = React.createRef();\n    this.limit = 100\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"message\", e => {\n      if(e.data.type != \"error\"){\n        return\n      }\n      this.logToConsole(e.data.message);\n\n      var lineNum = e.data.lineno;\n      var message = e.data.message;\n      var id = e.data.id;\n\n      this.props.addErrorLine(lineNum, id);\n    });\n  }\n\n  clearConsole() {\n    this.setState({ logs: [], lastFreq: 0 });\n  }\n\n  getIcon() {\n    return ConsoleStampIcon;\n  }\n\n  toggleHide(callback) {\n    ipc && ipc.send(\"edited\");\n    if (this.state.hidden) {\n      this.setState({ hidden: false, savedIframeHeight:this.state.iframeHeight, iframeHeight:0 }, \n        () => this.setState({iframeHeight:this.state.savedIframeHeight}, callback)\n\n      )\n\n    } else {\n      this.setState(\n        { hidden: true},\n        callback\n      );\n    }\n  }\n  setEditorScrolling(isScrolling) {\n    this.props.disablePan(isScrolling);\n  }\n\n  addNewIframeConsole(newConsole) {\n    var p5LogError = `Did you just try to use p5.js's loop() function? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup`\n    Hook(newConsole, newLogs => {\n      newLogs.map(log => {\n        if (log.method === \"log\" && log.data[0] != p5LogError) {\n          this.checkLastLog(log);\n        }\n      });\n    });\n  }\n\n  checkLastLog(log) {\n \n\n\n    var logs = this.state.logs;\n    if (logs.length < 1) {\n      this.setState({ logs: [log], lastFreq: 0 });\n      var consoleContainer = document.getElementById(\"consoleContainer\");\n      if(consoleContainer){\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n  \n    } else {\n      var lastLog = logs[logs.length - 1];\n\n      if (_.isEqual(lastLog.data, log.data)) {\n        if(this.state.lastFreq >= this.limit){\n          return\n        }\n        this.setState({ lastFreq: this.state.lastFreq + 1 });\n      } else {\n        if (this.state.lastFreq > 1) {\n                var freqString = this.state.lastFreq.toString() \n      if(this.state.lastFreq >= this.limit){\n        freqString += \"+\"\n      }\n          logs.push({\n            method: \"command\",\n            data: [\"(\" + freqString + \")\"]\n          });\n        }\n        logs.push(log);\n        this.setState({ logs: logs, lastFreq: 1 });\n        var consoleContainer = document.getElementById(\"consoleContainer\");\n        if(consoleContainer){\n          consoleContainer.scrollTop = consoleContainer.scrollHeight;\n        }\n\n      }\n    }\n  }\n\n  logToConsole(message, method = \"error\") {\n\n    this.checkLastLog({ method: method, data: [message] });\n  }\n\n  getData() {\n    var data = {\n      x: this.state.x,\n      y: this.state.y,\n      consoleWidth: this.state.consoleWidth,\n      consoleHeight: this.state.consoleHeight,\n      hidden: this.state.hidden,\n      zIndex:this.state.zIndex\n    };\n\n    return data;\n  }\n\n  resizeConsole(widthDiff, heightDiff) {\n    var height = this.state.consoleHeight;\n    var width = this.state.consoleWidth;\n    this.setState({\n      consoleHeight: height + heightDiff,\n      consoleWidth: width + widthDiff\n    });\n      var consoleContainer = document.getElementById(\"consoleContainer\");\n      if(consoleContainer){\n        consoleContainer.scrollTop = consoleContainer.scrollHeight;\n      }\n  }\n\n    resizeConsole(widthDiff, heightDiff, x) {\n    var height = this.state.consoleHeight + heightDiff;\n    var width = this.state.consoleWidth + widthDiff;\n\n    if (height < 0 || width < 0) {\n      return true;\n    }\n\n    this.setState({\n      consoleHeight: height,\n      consoleWidth: width, \n      x:x\n    });\n    // this.editorRef.current.editor.resize();\n  }\n\n  render() {\n    var renderedLogs = _.cloneDeep(this.state.logs);\n    if (this.state.lastFreq > 1) {\n      var freqString = this.state.lastFreq.toString() \n      if(this.state.lastFreq >= this.limit){\n        freqString += \"+\"\n      }\n\n      renderedLogs.push({\n        method: \"command\",\n        data: [\"(\" + freqString + \")\"]\n      });\n\n        var consoleContainer = document.getElementById(\"consoleContainer\");\n        if(consoleContainer){\n          consoleContainer.scrollTop = consoleContainer.scrollHeight;\n        }      \n    }\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n\n    return (\n      <Cristal\n           zIndex={this.props.starterZIndex}\n        getScale={this.props.getScale}\n       parentID = {this.props.id}\n        ref={this.cristalRef}\n        closeHidden={true}\n        copyHidden={true}\n        onResize={this.resizeConsole.bind(this)}\n        initialPosition={{ x: this.state.x, y: this.state.y }}\n        onMove={s => this.setState({ x: s.x, y: s.y })}\n                  onStartResize={this.props.onStartMove.bind(this)}\n          onStopResize={this.props.onStopMove.bind(this)}\n        className=\"stamp bg-lightGrey border border-borderGrey shadow-sm\"\n        icon={this.getIcon()}\n        showClear\n                  onZChange={s => this.setState({zIndex:s.zIndex})}\n        onClear={this.clearConsole.bind(this)}\n        onResize={this.resizeConsole.bind(this)}\n                  initialSize={{width:this.state.consoleWidth + 22, height:this.state.consoleHeight + 50 }}\n      >\n        <div\n          id=\"consoleContainer\"\n          onMouseOver={() => this.setEditorScrolling(true)}\n          onMouseOut={() => this.setEditorScrolling(false)}\n          style={{\n            width: this.state.consoleWidth,\n            height: this.state.consoleHeight,\n            overflow: \"hidden\",\n            \"overflow-y\": \"scroll\",\n            \"white-space\": \"nowrap\"\n          }}\n        >\n          <Console\n            styles={{\n              LOG_COLOR: \"black\",\n              LOG_ERROR_BACKGROUND: \"rgba(255, 184, 0, .5)\",\n              LOG_ERROR_BORDER: \"transparent\",\n              LOG_ERROR_COLOR: \"rgba(102,102,102)\",\n              BASE_FONT_FAMILY: \"Inconsolata\",\n              BASE_FONT_SIZE: 10,\n              LOG_COMMAND_COLOR: \"rgba(150,150,150)\",\n              BASE_BACKGROUND_COLOR: \"transparent\",\n              LOG_BORDER: \"rgb(225,225,225)\",\n              LOG_COMMAND_ICON: \"\"\n            }}\n            logs={renderedLogs}\n            variant=\"light\"\n          />\n        </div>\n      </Cristal>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport \"ace-builds/webpack-resolver\";\nimport AceEditor from \"react-ace\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport BlobStampIcon from \"./icons/code.svg\";\n\n// import \"ace-builds/src-noconflict/mode-javascript\";\n// import \"ace-builds/src-noconflict/theme-tomorrow\";\n// import \"ace-builds/src-min-noconflict/ext-language_tools\";\n// import \"ace-builds/src-noconflict/snippets/javascript\";\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class BlobStamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: this.props.starterCode,\n      editorScrolling: false,\n      editorHeight: this.props.starterEditorHeight,\n      editorWidth: this.props.starterEditorWidth,\n      errorLines: this.props.errorLines,\n      exportableCode: \"\",\n      editsMade: \"\",\n      runningBorder: false,\n      x: this.props.initialPosition.x,\n      y: this.props.initialPosition.y,\n      hidden: this.props.initialHidden,\n      codeSize:this.props.starterCodeSize,\n      zIndex:-1\n    };\n\n    this.cristalRef = React.createRef();\n    this.editorRef = React.createRef();\n  }\n\n  componentDidMount() {\n    // this.loadp5Lib()\n    this.setState({ exportableCode: \"\" }\n    );\n  }\n  setEditorScrolling(isScrolling) {\n    if (isScrolling && this.state.editorScrolling == false) {\n      this.setState({ editorScrolling: true });\n      this.props.disablePan(true);\n    } else if (isScrolling === false && this.state.editorScrolling) {\n      this.setState({ editorScrolling: false });\n      this.props.disablePan(false);\n    }\n  }\n\n  mouseOutCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => this.setState({ runningBorder: false }), 100)\n      );\n    }\n  }\n\n\n  toggleHide(callback) {\n    ipc && ipc.send(\"edited\");\n    if (this.state.hidden) {\n\n      this.setState({ hidden: false, savedIframeHeight:this.state.iframeHeight, iframeHeight:0 }, \n        () => {\n              this.editorRef.current.editor.resize();\n                      this.setState({iframeHeight:this.state.savedIframeHeight}, callback)\n        }\n\n\n\n      )\n\n    } else {\n\n      this.setState(\n        { hidden: true},\n        callback\n      );\n    }\n  }\n\n  renderEditor() {\n    var markers = [];\n    for (var i in this.state.errorLines) {\n      if (i != 0) {\n        markers.push({\n          startRow: i - 1,\n          endRow: i,\n          type: \"background\",\n          className: \"bg-warningOrange marker\"\n        });\n      }\n    }\n  \n    return (\n      <div\n        onMouseOut={() => {\n          this.setEditorScrolling(false);\n        }}\n\n     \n      >\n        <AceEditor\n          style={{\n            width: this.state.editorWidth,\n            height: this.state.editorHeight,\n            fontFamily: 'Inconsolata',\n          }}\n          mode=\"javascript\"\n          theme=\"p5\"\n          onChange={value => {\n            this.setState({ code: value });\n            ipc && ipc.send(\"edited\");\n            this.setState({ editsMade: true });\n          }}\n          markers={markers}\n          name={\"name\" + this.props.id.toString()}\n          fontSize={this.state.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          onScroll={() => this.setEditorScrolling(true)}\n          highlightActiveLine={false}\n          value={this.state.code}\n          ref={this.editorRef}\n          className=\"bg-jsArea\"\n          setOptions={{\n            enableBasicAutocompletion: false,\n            enableLiveAutocompletion: false,\n            enableSnippets: false,\n            showLineNumbers: false,\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  copyAndOpt(isOpt = false) {\n    var data = this.getData();\n\n    var updatePosition = false;\n    if (isOpt === false) {\n      updatePosition = true;\n    }\n\n    var callback = (id) => this.props.requestCompile(id)\n    if(isOpt){\n      callback = (id) => {this.cristalRef.current.changeZIndex(); \n        this.props.requestCompile(id)}\n    }\n\n    this.props.addStamp(data, callback,updatePosition);\n  }\n\n  addErrorLine(lineNum) {\n    var errorLines = this.state.errorLines;\n    errorLines[lineNum] = \"\";\n    this.setState({ errorLines: errorLines });\n  }\n\n  clearErrorsAndUpdate(editsMade, newErrors = []) {\n    var newErrorLines = this.state.errorLines;\n    if (editsMade) {\n      var newErrorLines = {};\n    }\n    this.setState({ errorLines: newErrorLines }, () => {\n      this.setState({ exportableCode: this.props.getExportableCode() });\n      for (var i = 0; i < newErrors.length; i++) {\n        this.addErrorLine(newErrors[i]);\n      }\n    });\n  }\n\n  getData() {\n    var data = {\n      code: this.state.code,\n      editorWidth: this.state.editorWidth,\n      editorHeight: this.state.editorHeight,\n      x: this.state.x,\n      y: this.state.y,\n      hidden: this.state.hidden,\n      codeSize:this.state.codeSize,\n      zIndex:this.state.zIndex\n    };\n\n    return data;\n  }\n\n  resizeEditor(widthDiff, heightDiff, x) {\n    var height = this.state.editorHeight;\n    var width = this.state.editorWidth;\n    this.setState({\n      editorHeight: height + heightDiff,\n      editorWidth: width + widthDiff,\n      x:x\n    });\n    this.editorRef.current.editor.resize();\n  }\n\n  getIcon() {\n    return BlobStampIcon;\n  }\n\n    loadp5Lib() {\n        this.editorRef.current &&\n    this.editorRef.current.editor.completers.push({\n      getCompletions: function(editor, session, pos, prefix, callback) {\n        var completions = [];\n        p5Lib.forEach(function(w) {\n          completions.push({\n            value: w,\n            meta: \"p5.js\"\n          });\n        });\n        callback(null, completions);\n      }\n    });\n  }\n\n    compileCallback() {\n    if (this.state.editsMade) {\n      this.props.requestCompile(this.props.id);\n      this.setState({ editsMade: false, runningBorder: true }, () =>\n        setTimeout(() => {\n          this.setState({ runningBorder: false })\n        }\n      , 300)\n      );\n    }\n  }\n\n  render() {\n    var border = \"border border-borderGrey\";\n    if (Object.keys(this.state.errorLines).length > 0) {\n      border = \"border border-warningOrange\";\n    }\n\n    if (this.state.runningBorder) {\n      border = \"border border-blue\";\n    }\n\n    if (this.state.hidden) {\n      return <div></div>;\n    }\n    return (\n      <div>\n        <Cristal\n             zIndex={this.props.starterZIndex}\n          getScale={this.props.getScale}\n         parentID = {this.props.id}\n          ref={this.cristalRef}\n          onResize={this.resizeEditor.bind(this)}\n          onStartResize={this.props.onStartMove.bind(this)}\n          onStopResize={this.props.onStopMove.bind(this)}\n          isResizable={true}\n          onStartMove={this.props.onStartMove}\n          onStopMove={this.props.onStopMove}\n          onClose={() => this.props.onDelete(this.props.id)}\n          onCopy={() => this.copyAndOpt()}\n          onOptMove={() => this.copyAndOpt(true)}\n          initialPosition={{ x: this.state.x, y: this.state.y }}\n          onMove={s => this.setState({ x: s.x, y: s.y })}\n          initialSize={{width:this.state.editorWidth + 22, height:this.state.editorHeight + 50 }}\n          onZChange={s => this.setState({zIndex:s.zIndex}, () => console.log(this.state.code, s.zIndex))}\n          className={\n            \"stamp shadow-sm bg-jsArea \" + border + \" vertex\" + this.props.id\n          }\n          title=\"Anything\"\n          icon={this.getIcon()}\n\n          showMakeBig\n          onMakeBig ={() => {\n            if(this.state.codeSize === globals.codeSize){\n              this.setState({codeSize:globals.bigCodeSize})\n            }else{\n              this.setState({codeSize:globals.codeSize})\n            }\n          }}\n\n        >\n          <div class=\"row m-0\" onMouseLeave={this.compileCallback.bind(this)}>\n            {this.renderEditor()}\n          </div>\n        </Cristal>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport FunctionStamp from \"./FunctionStamp.js\";\nimport ConsoleStamp from \"./ConsoleStamp.js\";\nimport BlobStamp from \"./BlobStamp.js\";\nimport { Mutex } from \"async-mutex\";\nimport { Line } from \"react-lineto\";\nimport cheerio from \"cheerio\";\nimport { SteppedLineTo } from \"react-lineto\";\nimport parser from \"./parser.js\";\nimport anim from \"css-animation\";\nimport { Resizable, ResizableBox } from \"react-resizable\";\nimport styled from \"styled-components\";\nimport VisibilityIcon from \"./icons/eye.svg\";\nimport VisibilityOffIcon from \"./icons/eye-off.svg\";\n\nimport FunctionStampIcon from \"./icons/box.svg\";\nimport BuiltInStampIcon from \"./icons/tool.svg\";\nimport ListenerStampIcon from \"./icons/bell.svg\";\nimport BlobStampIcon from \"./icons/code.svg\";\nimport ExpandMoreIcon from \"./icons/chevron-down.svg\";\nimport DownloadIcon from \"./icons/download.svg\";\nimport WorldsIcon from \"./icons/archive.svg\";\nimport GlobalVarIcon from \"./icons/globe.svg\";\nimport CommentIcon from \"./icons/message-square.svg\";\n\nimport Overlay from \"react-bootstrap/Overlay\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\nimport Modal from 'react-bootstrap/Modal'\n\nimport pf1, {\n  normalFn,\n  commentBlob,\n  varBlob,\n  listenerFns,\n  builtInFns,\n  worlds\n} from \"./starterStamps.js\";\n\nvar _ = require(\"lodash\");\n\nvar esprima = require(\"esprima\");\n\n\nexport default class ControlBar extends Component {\n  constructor(props) {\n    super(props);\n    this.editorRef = React.createRef();\n    this.minPickerHeight = 30;\n    this.minJsImporterHeight = 30;\n    this.topBarHeight = 60;\n    this.minWidth = 150;\n    this.minNonSideBarWidth = 30\n    this.editorRef = React.createRef();\n    this.importButtonHeight = 50;\n    this.state = {\n      jsImporterHeight:110,\n      sideBarWidth: 200,\n      pickerHeight:\n        window.innerHeight -\n        (this.topBarHeight + this.importButtonHeight + 110),\n      pickerScrollEnabled: true,\n      codeHasError: false,\n      code: `\\n// import unstructured Javascript code or individual functions\n\n// like the below, feel free to delete: \nfunction noiseWave() {\n  let noiseScale=0.02;\n  background(0);\n  for (let x=0; x < width; x++) {\n    let noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\n    stroke(noiseVal*255);\n    line(x, mouseY+noiseVal*80, x, height);\n  }\n}`\n    };\n  }\n\n  componentDidMount() {\n    this.props.updateControlBarDimensions(this.state.sideBarWidth, this.topBarHeight)\n    window.addEventListener('resize', this.onWindowResize.bind(this));\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.onWindowResize)\n  }\n\n  onWindowResize(e){\n    this.setState({pickerHeight: window.innerHeight - (this.topBarHeight + this.importButtonHeight + this.state.jsImporterHeight)})\n    if(this.state.sideBarWidth > window.innerWidth - this.minNonSideBarWidth){\n      this.setState({sideBarWidth: window.innerWidth - this.minNonSideBarWidth})\n    }\n  }\n\n  renderSideBar() {\n    return (\n      <div\n        class=\"bg-white border border-borderGrey shadow-sm\"\n        onMouseOver={() => {\n          this.props.disablePan(true);\n          this.props.disableZoom(true);\n        }}\n        onMouseOut={() => {\n          this.props.disablePan(false);\n          this.props.disableZoom(false);\n        }}\n        style={{\n          position: \"absolute\",\n          top: this.topBarHeight,\n          left: 0,\n          height: window.innerHeight - this.topBarHeight,\n\n          zIndex: 1000000000000000000\n        }}\n      >\n        <Resizable\n          width={this.state.sideBarWidth}\n          onResize={e => {\n            var newWidth = this.state.sideBarWidth + e.movementX;\n            if (newWidth > this.minWidth && newWidth <= window.innerWidth - this.minNonSideBarWidth) {\n              this.setState({ sideBarWidth: newWidth }, () =>\n                this.editorRef.current.editor.resize()\n              );\n            }\n          }}\n          onResizeStop={e => this.props.updateControlBarDimensions(this.state.sideBarWidth, this.topBarHeight)}\n          height={window.innerHeight - this.topBarHeight}\n          axis=\"x\"\n          handle={this.renderSideBarResizeHandle()}\n        >\n          <div>\n            {this.renderLayerPicker()}\n            {this.renderJsImporter()}\n            {this.renderImportButton()}\n          </div>\n        </Resizable>\n      </div>\n    );\n  }\n\n  parseCode() {\n    try {\n      var stamps = parser.jsToStamps(this.state.code);\n      var curNumStamps = this.props.getNumStamps()\n\n\n            var callback = () => {\nconsole.log(curNumStamps)\n\n                this.props.recompileIfEnoughStamps(stamps.fns.length + curNumStamps.fns, \n              stamps.blobs.length + curNumStamps.blobs)\n\n            }\n\n\n\n      stamps.fns.map(data => {\n        this.props.addFnStamp(data, callback);\n      });\n      stamps.blobs.map(data => {\n        this.props.addBlobStamp(data, callback);\n      });\n\n      this.setState({ code: \"\" });\n    } catch (e) {\n      this.setState({ codeHasError: true });\n    }\n  }\n  renderJsImporter() {\n    return (\n      <div\n        class=\"bg-jsArea\"\n        style={{\n          width: this.state.sideBarWidth,\n          height:\n            window.innerHeight - (this.state.pickerHeight + this.topBarHeight)\n        }}\n      >\n        <AceEditor\n          style={{\n            width: this.state.sideBarWidth,\n            height:\n              window.innerHeight -\n              (this.state.pickerHeight +\n                this.topBarHeight +\n                this.importButtonHeight),\n            background: \"transparent\",\n            fontFamily: 'Inconsolata',\n          }}\n          mode=\"javascript\"\n          theme=\"p5\"\n          onChange={value =>\n            this.setState({ code: value, codeHasError: false })\n          }\n          name={\"jsImporter\"}\n          fontSize={globals.codeSize}\n          showPrintMargin={false}\n          wrapEnabled={true}\n          showGutter={false}\n          highlightActiveLine={false}\n          onMouseOver={() => this.props.disablePan(true)}\n          onMouseOut={() => this.props.disablePan(false)}\n          value={this.state.code}\n          ref={this.editorRef}\n          setOptions={{\n            tabSize: 2,\n            hasCssTransforms: true\n          }}\n        />\n      </div>\n    );\n  }\n\n  renderImportButton() {\n    var text = \"import javascript\";\n    var color = \"grey\";\n    if (this.state.codeHasError) {\n      text = \"syntax error\";\n      color = \"warningOrangeDark\";\n    }\n\n    return (\n      <div\n        class=\"p-2\"\n        style={{ position: \"absolute\", bottom: -2, left: -5, width: \"100%\" }}\n      >\n        <button\n          class={\n            \"btn btn-block shadow-sm m-1 bg-\" + color + \" border-borderGrey\"\n          }\n          style={{\n            fontSize: globals.buttonTextSize\n          }}\n          onClick={this.parseCode.bind(this)}\n          disabled={this.state.codeHasError}\n        >\n          {text}\n        </button>\n      </div>\n    );\n  }\n\n  renderLayerPicker() {\n    var pickers = [];\n\n    this.props.pickerData.map(item => {\n      if (item.status) {\n        var iconType = VisibilityIcon;\n        var iconNameCallback =                   () =>\n                    centerCallback(this.state.sideBarWidth, this.topBarHeight)\n             \n      } else {\n        var iconType = VisibilityOffIcon;\n        var iconNameCallback = null\n      }\n\n\n      var overalOpacity = 1;\n      var centerCallback = item.centerCallback;\n\n      if (item.status === false) {\n        overalOpacity = 0.5;\n        centerCallback = () => null;\n      }\n      if (item.name) {\n        pickers.push(\n          <div class=\"border-bottom border-borderGrey\">\n            <div\n              style={{ opacity: overalOpacity }}\n              class=\"d-flex justify-content-between p-1 pl-2 pr-3\"\n            >\n              <div clas=\"row border-bottom\" style={{ overflow: \"hidden\" }}\n                                onClick={() =>\n                    centerCallback(this.state.sideBarWidth, this.topBarHeight)\n                  }>\n                {this.createIcon(\n                  \"type\" + item.id.toString(),\n                  item.icon,\n                  iconNameCallback,\n                         item.name\n                )}\n\n              </div>\n\n              {this.createIcon(\n                \"hide\" + item.id.toString(),\n                iconType,\n                item.hideCallback,\n              )}\n            </div>\n          </div>\n        );\n      } else {\n        pickers.push(<br />);\n      }\n    });\n\n    var overflowY = \"hidden\";\n    if (this.state.pickerScrollEnabled) {\n      overflowY = \"scroll\";\n    }\n    return (\n      <Resizable\n        width={this.state.sideBarWidth}\n        onResize={e => {\n          var newHeight = this.state.pickerHeight + e.movementY;\n          if (\n            newHeight > this.minPickerHeight &&\n            newHeight <\n              window.innerHeight -\n                (this.topBarHeight +\n                  this.minJsImporterHeight +\n                  +this.importButtonHeight)\n          ) {\n            this.setState(\n              { pickerHeight: this.state.pickerHeight + e.movementY, jsImporterHeight:this.state.jsImporterHeight - e.movementY },\n              () => this.editorRef.current.editor.resize()\n            );\n          }\n        }}\n        onResizeStart={() => this.setState({ pickerScrollEnabled: false })}\n        onResizeStop={() => this.setState({ pickerScrollEnabled: true })}\n        height={this.state.pickerHeight}\n        axis=\"y\"\n        handle={this.renderPickerResizeHandle()}\n      >\n        <div>\n          <div\n            className=\" bg-white\"\n            style={{\n              overflow: \"hidden\",\n              \"overflow-y\": overflowY,\n              width: this.state.sideBarWidth,\n              height: this.state.pickerHeight\n            }}\n          >\n            {pickers}\n            <br/>\n            <br/>\n          </div>\n        </div>\n      </Resizable>\n    );\n  }\n\n  createIcon(\n    uniqueClass,\n    iconType,\n    hideCallback = null,\n    text\n  ) {\n   \n    var mouseOverCallback = () => {\n      $(\".\" + uniqueClass + \"Icon\").css({ opacity: \"1\" });\n      $(\".\" + uniqueClass + \"Text\").removeClass(\"text-greyText\").addClass(\"text-greyIcon\");\n    };\n\n    var mouseOutCallback = () => {\n      $(\".\" + uniqueClass + \"Icon\").css({ opacity:globals.iconOpacity });\n      $(\".\" + uniqueClass + \"Text\").addClass(\"text-greyText\").removeClass(\"text-greyIcon\");\n    };\n    if (!hideCallback) {\n      mouseOverCallback = () => {};\n      mouseOutCallback = () => {};\n    }\n    if(text){\nreturn (\n<div onMouseOver={mouseOverCallback} onMouseOut={mouseOutCallback}>\n      {React.createElement(\"img\", {\n      style: { height: globals.iconSize, opacity:globals.iconOpacity, width: globals.iconSize },\n      className: \" m-1 text-greyIcon \" + uniqueClass + \"Icon\",\n      onClick: hideCallback,\n      src: iconType\n    })}\n        <b class={\"text-greyText picker ml-1 \" + uniqueClass + \"Text\"}>\n          {text}\n        </b>\n      </div>)\n    }\n\n    return React.createElement(\"img\", {\n      style: { height: globals.iconSize, opacity:globals.iconOpacity, width: globals.iconSize },\n      className: \" m-1 text-greyIcon \" + uniqueClass + \"Icon\",\n      onClick: hideCallback,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback,\n      src: iconType\n    });\n  }\n\n  renderSideBarResizeHandle() {\n    return (\n      <div\n        style={{\n          width: 10,\n          cursor: \"ew-resize\",\n          height: \"100%\",\n          right: 0,\n          top: 0,\n          position: \"absolute\",\n          background: \"transparent\",\n          color: \"transparent\"\n        }}\n      >\n        hi\n      </div>\n    );\n  }\n\n  renderPickerResizeHandle() {\n    return (\n      <div\n        className=\"border-bottom border-borderGrey border-top bg-grey\"\n        style={{\n          width: \"100%\",\n          cursor: \"ns-resize\",\n          height: 15,\n          right: 0,\n          bottom: 0,\n          position: \"absolute\",\n          background: \"transparent\",\n          color: \"transparent\"\n        }}\n      >\n        hi\n      </div>\n    );\n  }\n\n  renderTopBar() {\n    return (\n      <div\n        class=\"bg-white border border-borderGrey shadow-sm row justify-content-between\"\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 15,\n          height: this.topBarHeight + 2,\n          width: \"100%\",\n          zIndex: 1000000000000000001\n        }}\n      >\n\n\n\n        <TopButton\n          iconType={DownloadIcon}\n          uniqueClass=\"download\"\n          iconCallback={() => {\n            this.props.modalManagerRef.current.requestUpload()\n          }}\n          tooltipText=\"download javascript\"\n          alignLeft\n        />\n\n\n                 \n        <div class=\"row\">\n          <TopButton\n            iconType={FunctionStampIcon}\n            uniqueClass=\"basic\"\n            iconCallback={() =>\n              this.props.addFnStamp(normalFn, (id) => this.props.requestCompile(id))\n            }\n            dropDownData={builtInFns.map(data => ({\n              name: data.name,\n              callback: () =>\n                this.props.addFnStamp(data, (id) => this.props.requestCompile(id))\n            }))}\n            tooltipText=\"function\"\n          />\n          <span style={{width:50}}/>\n\n\n          <TopButton\n            iconType={ListenerStampIcon}\n            uniqueClass=\"listenerFns\"\n            iconCallback={null}\n            dropDownData={listenerFns.map(data => ({\n              name: data.name,\n              callback: () =>\n                this.props.addFnStamp(data, (id) => this.props.requestCompile(id))\n            }))}\n            tooltipText=\"listener\"\n          />\n\n                  <span style={{width:50}}/>\n\n          <TopButton\n            iconType={ BlobStampIcon}\n            uniqueClass=\"varStamp\"\n            iconCallback={() =>\n              this.props.addBlobStamp(varBlob, (id) => this.props.requestCompile(id))\n            }\n            tooltipText=\"global variable\"\n          />\n        <span style={{width:50}}/>\n          <TopButton\n            iconType={BlobStampIcon}\n            uniqueClass=\"commentStamp\"\n            iconCallback={() =>\n              this.props.addBlobStamp(commentBlob, (id) => this.props.requestCompile(id))\n            }\n            tooltipText=\"comment\"\n          />\n\n\n        </div>\n\n        <TopButton\n          iconType={WorldsIcon}\n          uniqueClass=\"worlds\"\n          iconCallback={null}\n          dropDownData={worlds.map(world => ({\n            name: world.name,\n            callback: () => this.props.modalManagerRef.current.requestWorldLoad(world.data)\n          }))}\n          tooltipText=\"overwrite with example\"\n          alignRight\n        />\n\n\n\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSideBar()}\n        {this.renderTopBar()}\n      </div>\n    );\n  }\n}\n\nclass TopButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { down: false, mouseOverDropDown: false };\n  }\n\n  onMouseDown() {\n    if (this.state.mouseOverDropDown === false) {\n      this.setState({ down: false });\n    }\n  }\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onMouseDown);\n  }\n\n  createIcon(iconType, callback, givenUniqueClass, size) {\n    var uniqueClass = givenUniqueClass;\n    var mouseOverCallback = () => {\n\n        this.setState({ mouseOverDropDown: true }, () =>\n          $(\".\" + uniqueClass).css({ opacity: \"1\" })\n        );\n\n    };\n\n    var mouseOutCallback = () => {\n\n        this.setState(\n          { mouseOverDropDown: false },\n\n          () => {\n            if (this.state.down === false || (iconType != ExpandMoreIcon && this.props.iconCallback) ) {\n              $(\".\" + uniqueClass).css({ opacity: globals.iconOpacity });\n            }\n          }\n        );\n\n    };\n\n    if (!callback) {\n      callback = () => this.setState({ down: !this.state.down });\n      uniqueClass += \"expand\";\n    }\n\n    return React.createElement(\"img\", {\n      style: { opacity: globals.iconOpacity, height: size, width: size },\n      className: \" text-greyIcon \" + uniqueClass,\n      onClick: callback,\n      onMouseOver: mouseOverCallback,\n      onMouseOut: mouseOutCallback,\n      src: iconType\n    });\n  }\n\n  renderDropDowns() {\n    if (this.state.down === false) {\n      return null;\n    }\n\n    var dropDowns = this.props.dropDownData.map(data => (\n\n      <div\n        class={\n          this.props.uniqueClass +\n          data.name +\n          \" picker text-greyText p-2 pl-3 pr-3\"\n        }\n        onMouseOver={() => { if(!data.name){return}\n          this.setState({ mouseOverDropDown: true });\n          $(\".\" + this.props.uniqueClass + data.name).css({\n            background: \"rgb(240, 240, 240)\"\n          });\n        }}\n        onMouseOut={() => {if(!data.name){return}\n          this.setState({ mouseOverDropDown: false });\n          $(\".\" + this.props.uniqueClass + data.name).css({\n            background: \"transparent\"\n          });\n        }}\n        onClick={() => {if(!data.name){return}\n          data.callback();\n          this.setState({ down: false });\n        }}\n      >\n        {data.name}\n      </div>\n    ));\n\n    var right = \"default\";\n    if (this.props.alignRight) {\n      right = 0;\n    }\n    return (\n      <div\n        class=\"bg-white border border-borderGrey rounded mt-2\"\n        style={{ position: \"absolute\", right: right }}\n      >\n        {dropDowns}\n      </div>\n    );\n  }\n\n\n  renderTooltip(){\n    if(this.props.alignRight){\n      return(\n\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", position:\"absolute\", right:15, top:5,\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n\n        )\n    }\n\n    if(this.props.alignLeft){\n      return(\n\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", position:\"absolute\", left:15, top:5,\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n\n        )\n    }\n\n    var offset = \"-138px\"\n    if(this.props.dropDownData){\n      var offset = \"-133px\"\n    }\n    return(\n      <div style = {{position:\"absolute\", top:5}}>\n      <div style={{position:\"absolute\", width:300, left:offset}} >\n      <div class={\"picker text-greyText tooltip\" + this.props.uniqueClass}\n      style={{opacity:\"1\", textAlign:\"center\",\n      transition:\"all .2s ease-out\"}}\n      >\n      {this.props.tooltipText}</div>\n      </div>\n      </div>\n     \n  \n    )\n\n  }\n  render() {\n    if (this.state.down) {\n      $(\".\" + this.props.uniqueClass + \"expand\").css({\n        opacity: \"1\"\n      });\n    } else {\n      $(\".\" + this.props.uniqueClass + \"expand\").css({\n        opacity: \".5\"\n      });\n    }\n\n    var expandButton = null;\n    if (this.props.dropDownData) {\n      expandButton = this.createIcon(\n        ExpandMoreIcon,\n        () => this.setState({ down: !this.state.down }),\n        this.props.uniqueClass + \"expand\",\n        16\n      );\n    }\n\n          // onMouseOver={() => $(\".tooltip\" + this.props.uniqueClass).css({opacity: \"1\"})}\n      // onMouseOut={() => $(\".tooltip\" + this.props.uniqueClass).css({opacity: \"0\"})}\n\n    return (\n      <div class=\"m-3 mt-4\"\n\n      >\n\n            {this.renderTooltip()}\n              <div\n\n\n              >\n\n            {this.createIcon(\n              this.props.iconType,\n              this.props.iconCallback,\n              this.props.uniqueClass,\n              20\n            )}\n\n            {expandButton}\n          </div>\n     \n\n        {this.renderDropDowns()}\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Cristal from \"./react-cristal/dist/es2015/index.js\";\nimport $ from \"jquery\";\nimport { saveAs } from \"file-saver\";\nimport pf, { globals, p5Lib } from \"./globals.js\";\nimport FunctionStamp from \"./FunctionStamp.js\";\nimport ModalManager from \"./ModalManager.js\";\nimport ConsoleStamp from \"./ConsoleStamp.js\";\nimport ControlBar from \"./ControlBar.js\";\nimport BlobStamp from \"./BlobStamp.js\";\nimport { Mutex } from \"async-mutex\";\nimport { Line } from \"react-lineto\";\nimport cheerio from \"cheerio\";\nimport { SteppedLineTo } from \"react-lineto\";\nimport parser from \"./parser.js\";\nimport anim from \"css-animation\";\nimport { Resizable, ResizableBox } from \"react-resizable\";\nimport styled from \"styled-components\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport LZUTF8 from \"lzutf8\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\nimport pf1, {\n  starter,\n  stamperHeader\n} from \"./starterStamps.js\";\n\nvar _ = require(\"lodash\");\n\nvar esprima = require(\"esprima\");\n\nvar userAgent = navigator.userAgent.toLowerCase();\nif (userAgent.indexOf(\" electron/\") > -1) {\n  const electron = window.require(\"electron\");\n  var ipc = electron.ipcRenderer;\n} else {\n  var ipc = false;\n}\n\nexport default class View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      compiledBefore: false,\n      fnStamps: {},\n      scale: 1,\n      counter: 0,\n      blobStamps: {},\n      htmlID: -1,\n      cssID: -1,\n      consoleStamp: null,\n      setupExists: true,\n      htmlAsksForCss: true,\n      htmlAsksForJs: true,\n      lines: [],\n      lineData: [],\n      traversalGraph: {},\n      consoleId: -1,\n      numToggles: 0,\n      originX: 0,\n      originY: 0,\n      scale: 1,\n      pickerData: [],\n      sideBarWidth: 0,\n      topBarHeight: 0,\n      zoomDisabled:false,\n            mouseWheelTimeout: null,\n            mouseIsDown:false,\n            downKey:-1,\n            panDisabled:false\n    };\n    this.counterMutex = new Mutex();\n    this.modalManagerRef = React.createRef();\n    this.onWheel = this.onWheel.bind(this)\n    this.onKeyDown = this.onKeyDown.bind(this)\n    this.onKeyUp = this.onKeyUp.bind(this)\n    this.onMouseDown = this.onMouseDown.bind(this)\n    this.onMouseUp = this.onMouseUp.bind(this)\n    this.onMouseMove = this.onMouseMove.bind(this)\n\n    this.newStampMarginVariance = 100;\n    this.newStampMargin = 20;\n    this.space = 32;\n    this.cmd = 91\n    this.ctrl = 17\n    this.plus = 187\n    this.minus = 189\n    this.zero = 48\n\n    ipc &&\n      ipc.on(\"writeToView\", (event, files) =>\n        this.loadStamperFile(files.stamper)\n      );\n\n    ipc &&\n      ipc.on(\"resetView\", event =>\n        this.loadStamperFile(starter)\n      );\n  }\n\n  componentDidMount() {\n    this.loadStamperFile(starter);\n  \n    document.addEventListener(\"wheel\", this.onWheel )\n    document.addEventListener(\"keydown\", this.onKeyDown )\n    document.addEventListener(\"keyup\", this.onKeyUp )\n    document.addEventListener(\"mousedown\", this.onMouseDown )\n        document.addEventListener(\"mouseup\", this.onMouseUp )\n       document.addEventListener(\"mousemove\", this.onMouseMove )\n\n    var centerX = window.innerWidth/2 + this.state.topBarHeight\n    var centerY = window.innerHeight/2  + this.state.sideBarWidth\n\n    ipc &&\n      ipc.on(\"zoomIn\", () => {\n        this.zoom(centerX, \n          window.innerHeight/2,\n          true)\n      })\n\n    ipc &&\n      ipc.on(\"zoomOut\", () => {\n        this.zoom(this.state.scale * .5,centerX, centerY,\n          true)\n      })\n\n      ipc &&\n      ipc.on(\"zoomActual\", () => {\n        this.zoom(1, centerX, centerY,\n          true)\n      })\n  }\n\n  componentWillUnmount(){\n      document.removeEventListener(\"wheel\", this.onWheel )  \n      document.removeEventListener(\"keydown\", this.onKeyDown )\n      document.removeEventListener(\"keyup\", this.onKeyUp )\n          document.removeEventListener(\"mousedown\", this.onMouseDown )\n        document.removeEventListener(\"mouseup\", this.onMouseUp )\n           document.removeEventListener(\"mousemove\", this.onMouseMove )\n  }\n\n  onKeyDown(e){\n        if (e.keyCode === this.space) {\n        document.body.style.cursor = \"grab\";\n      }\n\n    var centerX = window.innerWidth/2 + this.state.topBarHeight\n    var centerY = window.innerHeight/2  + this.state.sideBarWidth\n      if(this.state.downKey === this.cmd || this.state.downKey === this.ctrl){\n  \n        if(e.keyCode === this.zero){\n           e.preventDefault()\n          this.zoom(1, centerX, centerY, true)\n        }else if(e.keyCode === this.plus){\n           e.preventDefault()\n          this.zoom(this.state.scale * 2, centerX, centerY, true)\n        }else if(e.keyCode === this.minus){\n           e.preventDefault()\n          this.zoom(this.state.scale * .5, centerX, centerY, true)\n        }\n      }else{\n        this.setState({ downKey: e.keyCode });\n\n      }\n  \n  }\n\n  onKeyUp(e){\n\n      document.body.style.cursor = \"auto\";\n      if(e.keyCode === this.state.downKey){\n      this.setState({ downKey: -1 });\n      }\n  }\n  onMouseDown(){\n    this.setState({mouseIsDown:true})\n  }\n\n  onMouseUp(){\n    this.setState({mouseIsDown:false})\n  }\n\n  onMouseMove(e){\n\n    if(this.state.mouseIsDown && this.state.downKey == this.space){\n\n      this.pan(e.movementX, e.movementY)\n    }\n  }\n\n\n\n  onWheel(e){\n      if (this.state.mouseWheelTimeout) {\n        clearTimeout(this.state.mouseWheelTimeout);\n      }else{\n        this.onStartMove()\n      }\n      var newTimeOut = setTimeout(this.onStopMove.bind(this), 250);\n      this.setState({ mouseWheelTimeout: newTimeOut });\n\n    if(e.ctrlKey){\n      this.zoom(this.state.scale-e.deltaY *0.01, e.clientX, e.clientY)\n \n    }else{\n      this.pan(-e.deltaX, -e.deltaY)\n    }\n  }\n\n  pan(changeX, changeY){\n\n      if (this.state.panDisabled) {\n        return;\n      }\n            ipc && ipc.send(\"edited\");\n      var a = this.state,\n        currentX = a.originX,\n        currentY = a.originY;\n      var newX = currentX + changeX;\n      var newY = currentY + changeY;\n      this.setState({ originX: newX, originY: newY });\n    };\n\n  zoom(\n      newScale,\n      mouseX,\n      mouseY\n    ) {\n      if(this.state.zoomDisabled){\n        return\n      }\n\n      ipc && ipc.send(\"edited\");\n\n      var scale = this.state.scale,\n        x = this.state.originX,\n        y = this.state.originY\n\n      if (newScale < 0.1) {\n        return;\n      }\n\n      var curDistX = mouseX - x,\n        curDistY = mouseY - y;\n\n      var unScaledDistX = curDistX / scale,\n        unScaledDistY = curDistY / scale;\n\n      var scaledDistX = unScaledDistX * newScale,\n        scaledDistY = unScaledDistY * newScale;\n\n        var newOriginX = mouseX,\n          newOriginY = mouseY;\n\n      var newX = newOriginX - scaledDistX,\n        newY = newOriginY - scaledDistY;\n\n    \n        this.setState({ scale: newScale }, () =>\n          this.setState({ originX: newX, originY: newY })\n        );\n \n    };\n\n  updateControlBarDimensions(sideBarWidth, topBarHeight) {\n\n    this.setState({ sideBarWidth: sideBarWidth, topBarHeight: topBarHeight });\n  }\n\n  recompileIfEnoughStamps(numFns, numBlobs){\n              if(Object.keys(this.state.fnStamps).length === numFns &&\n                Object.keys(this.state.blobStamps).length === numBlobs){\n                this.requestCompile()\n              }\n            \n  }\n\n  loadStamperFile(stamperFile) {\n    this.setState(\n      {\n        fnStamps: {},\n        blobStamps: {},\n        counter: 0,\n        htmlID: -1,\n        cssID: -1,\n        scale: 1,\n        consoleStamp: null,\n        consoleId: -1,\n        originX: 0,\n        originY: 0,\n        compiledBefore:false\n      },\n      () => {\n        this.setState(\n          {\n            scale: stamperFile.scale,\n            originX: stamperFile.originX,\n            originY: stamperFile.originY\n          },\n          () => {\n\n            var callback = () => this.recompileIfEnoughStamps(stamperFile.fns.length, \n              stamperFile.blobs.length)\n            this.addConsoleStamp(stamperFile.console);\n            stamperFile.fns.map(data => this.addFnStamp(data, callback));\n            stamperFile.blobs.map(data => this.addBlobStamp(data, callback));\n\n \n          }\n        );\n      }\n    );\n  }\n\n  getIframeErrorCallBack(ranges, offset = 0) {\n    var strRanges = JSON.stringify(ranges);\n    return `\n  // window.addEventListener('error', function(e) { \n  //   console.log(\"addEventListener\")\n  //     logToConsole(e.message, e.lineno)\n  //   }, false);\n\nwindow.onerror = function (message, url, lineno, colno) {\n\n  logToConsole(message, lineno)\n}\n\nfunction logToConsole(message, lineno){\n\n      var adjLineNum = -1\n      var stampId = -1\n      var ranges = ${strRanges}\n\n      ranges.map(range => {\n        var start = range.start\n        var end = range.end\n        var id = range.id\n        var isFN = range.isFN\n        var isInRange = start + ${offset} < lineno + 1 && lineno -1 < end + ${offset}\n\n        \n        if(isInRange){\n          adjLineNum = lineno - start - ${offset} + 1\n          stampId = id\n          if(range.isFn){\n            adjLineNum -= 1\n          }\n        }\n      })\n      if(stampId > 0){\n      window.parent.postMessage({type:\"error\", message:message, lineno:adjLineNum, id:stampId}, '*')\n      }\n\n    }`;\n  }\n\n  getHTML(id) {\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return \"\";\n    }\n\n    if (id === this.state.htmlID || id === this.state.cssID) {\n      var runnableCode = \"\";\n      var ranges = [];\n    } else {\n      var codeData = this.getRunnableCode(id);\n      var runnableCode = codeData.runnableCode;\n      var ranges = codeData.ranges;\n    }\n\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var html = htmlStamp.ref.current.state.code;\n\n    const parser = cheerio.load(html, { withStartIndices: true });\n    var jsBlockStr =\n      \"<script type='text/javascript'>\" + runnableCode + \"</script>\";\n    var cssBlockStr =\n      \"<style>\" + cssStamp.ref.current.state.runnableInnerCode + \"</style>\";\n    var jsSelector = '[src=\"sketch.js\"]';\n    var cssSelector = '[href=\"style.css\"]';\n\n    var jsBlock = parser(jsBlockStr);\n    var cssBlock = parser(cssBlockStr);\n\n    // const start = parser(jsSelector).get(0).startIndex;\n\n    var htmlAsksForCss = parser(cssSelector).length > 0;\n    if (htmlAsksForCss === false && this.state.htmlAsksForCss === true) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: Your index.html is missing a div for style.css. Make sure you're linking to style.css and not another stylesheet.`\n      );\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1);\n      this.setState({ htmlAsksForCss: htmlAsksForCss });\n    } else if (htmlAsksForCss === true && this.state.htmlAsksForCss === false) {\n      this.setState({ htmlAsksForCss: htmlAsksForCss });\n    }\n\n    var htmlAsksForJs = parser(jsSelector).length > 0;\n    if (htmlAsksForJs === false && this.state.htmlAsksForJs === true) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: Your index.html is missing a div for sketch.js. Make sure you're linking to sketch.js and not another sketch file.`\n      );\n      this.state.fnStamps[this.state.htmlID].ref.current.addErrorLine(-1);\n      this.setState({ htmlAsksForJs: htmlAsksForJs });\n    } else if (htmlAsksForJs === true && this.state.htmlAsksForJs === false) {\n      this.setState({ htmlAsksForJs: htmlAsksForJs });\n    }\n\n    parser(cssSelector).replaceWith(cssBlock);\n\n    parser(\"head\").prepend(\n      \"<script class='errorListener' >\" +\n        this.getIframeErrorCallBack(ranges) +\n        \"</script>\"\n    );\n\n    var htmlStr = parser.html();\n    var linesToJs = 0;\n    for (var i = 0; i < htmlStr.length; i++) {\n      if (htmlStr[i] === \"\\n\") {\n        linesToJs += 1;\n      }\n      if (htmlStr.substr(i, \"sketch.js\".length) === \"sketch.js\") {\n        break;\n      }\n    }\n\n    parser(\".errorListener\").replaceWith(\n      \"<script class='errorListener' >\" +\n        this.getIframeErrorCallBack(ranges, linesToJs) +\n        \"</script>\"\n    );\n    parser(jsSelector).replaceWith(jsBlock);\n    return parser.html();\n  }\n\n  addErrorLine(lineNum, id) {\n    if (id in this.state.fnStamps) {\n      this.state.fnStamps[id].ref.current.addErrorLine(lineNum);\n    } else if (id in this.state.blobStamps) {\n      this.state.blobStamps[id].ref.current.addErrorLine(lineNum);\n    }\n  }\n\n  setInitialPosition(dimension) {\n    if (dimension === \"x\") {\n      return ( (-this.state.originX + this.state.sideBarWidth \n        )/this.state.scale +    50   + Math.random() * this.newStampMarginVariance\n   \n      );\n    } else if (dimension === \"y\") {\n\n      // Math.random() * this.newStampMarginVariance ) * this.state.scale\n      return ((-this.state.originY + this.state.topBarHeight \n\n        )/this.state.scale +  50   +    Math.random() * this.newStampMarginVariance\n      \n      );\n    }\n  }\n\n  addConsoleStamp(data) {\n    var defaults = {\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      consoleWidth: globals.defaultEditorWidth,\n      consoleHeight: globals.defaultVarEditorHeight,\n      hidden: false,\n      zIndex:undefined\n    };\n\n    Object.keys(defaults).map(setting => {\n      if (setting in data) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults;\n\n    this.createConsoleStamp(data);\n  }\n\n  async createConsoleStamp(data) {\n    var x = data.x,\n      y = data.y,\n      consoleWidth = data.consoleWidth,\n      consoleHeight = data.consoleHeight;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var ref = React.createRef();\n\n    var elem = (\n      <ConsoleStamp\n        ref={ref}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        starterConsoleWidth={consoleWidth}\n        starterConsoleHeight={consoleHeight}\n        addErrorLine={this.addErrorLine.bind(this)}\n        initialHidden={data.hidden}\n        getScale={this.getScale.bind(this)}\n        starterZIndex={data.zIndex}\n      />\n    );\n\n    var consoleStamp = { elem: elem, ref: ref };\n    this.setState({ consoleStamp: consoleStamp, consoleId: counter });\n  }\n\n  addFnStamp(\n    data,\n    callback,\n    updateName = false,\n    updatePosition = false,\n    setIframeDisabled = false,\n  ) {\n    var defaults = {\n      name: \"sketch\",\n      code: \"rect(50, 50, 50, 50)\",\n      args: \"x=mouseX, y=mouseY\",\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      iframeDisabled: false,\n      editorWidth: globals.defaultEditorWidth,\n      editorHeight: globals.defaultEditorHeight - globals.brHeight,\n      iframeWidth: globals.defaultIframeWidth,\n      iframeHeight: globals.defaultEditorHeight,\n      isHtml: false,\n      isCss: false,\n      hidden: false,\n      zIndex:undefined\n    };\n\n    Object.keys(defaults).map(setting => {\n      if (setting in data) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults;\n\n    if (updatePosition) {\n      data.x += globals.copyOffset * 2 * this.state.scale;\n      data.y += globals.copyOffset * 2 * this.state.scale;\n    }\n\n    var newName = data.name + (this.state.counter + 1).toString();\n\n    if (updateName) {\n      data.name = newName;\n    }\n\n    data.iframeDisabled = setIframeDisabled;\n\n    this.createFnStamp(data, callback);\n    this.refreshBlobStamps(this.state.blobStamps);\n    return newName;\n  }\n\n  async createFnStamp(data, callback = () => null) {\n    var name = data.name,\n      code = data.code,\n      args = data.args,\n      args = data.args,\n      x = data.x,\n      y = data.y,\n      iframeDisabled = data.iframeDisabled,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      iframeWidth = data.iframeWidth,\n      iframeHeight = data.iframeHeight,\n      isHtml = data.isHtml,\n      isCss = data.isCss,\n      hidden = data.hidden;\n\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var fnStamps = this.state.fnStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <FunctionStamp\n        ref={ref}\n        isHtml={isHtml}\n        isCss={isCss}\n        starterZIndex={data.zIndex}\n        starterCode={code}\n        starterArgs={args}\n        starterName={name}\n        errorLines={{}}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        deleteFrame={this.deleteFrame}\n        initialHidden={hidden}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addFnStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        starterIframeWidth={iframeWidth}\n        starterIframeHeight={iframeHeight}\n        checkAllNames={this.checkAllNames.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        iframeDisabled={iframeDisabled}\n        requestCompile={this.requestCompile.bind(this)}\n        getHTML={this.getHTML.bind(this)}\n        addNewIframeConsole={this.addNewIframeConsole.bind(this)}\n                getScale={this.getScale.bind(this)}\n      />\n    );\n\n    fnStamps[counter] = { elem: elem, ref: ref };\n\n    this.setState({ fnStamps: fnStamps }, (counter) => callback(counter));\n\n    if (isHtml) {\n      this.setState({ htmlID: counter });\n    } else if (isCss) {\n      this.setState({ cssID: counter });\n    }\n  }\n\n  addNewIframeConsole(newConsole) {\n    if (this.state.consoleStamp === null) {\n      return;\n    }\n    this.state.consoleStamp.ref.current.addNewIframeConsole(newConsole);\n  }\n\n  addBlobStamp(data, callback, updatePosition = false) {\n    var defaults = {\n      code: \"var z = 10\",\n      x: this.setInitialPosition(\"x\"),\n      y: this.setInitialPosition(\"y\"),\n      editorWidth: globals.defaultEditorWidth,\n      editorHeight: globals.defaultVarEditorHeight,\n      hidden: false,\n      codeSize: globals.codeSize,\n      zIndex:undefined\n    };\n\n    Object.keys(defaults).map(setting => {\n      if (setting in data) {\n        defaults[setting] = data[setting];\n      }\n    });\n    data = defaults;\n\n    if (updatePosition) {\n      data.x += globals.copyOffset * 2 * this.state.scale;\n      data.y += globals.copyOffset * 2 * this.state.scale;\n    }\n\n    this.createBlobStamp(data, callback);\n  }\n\n  async createBlobStamp(data, callback = () => null) {\n    var x = data.x,\n      y = data.y,\n      code = data.code,\n      editorWidth = data.editorWidth,\n      editorHeight = data.editorHeight,\n      errorLines = data.errorLines,\n      hidden = data.hidden;\n    const release = await this.counterMutex.acquire();\n    var counter = this.state.counter;\n    this.setState({ counter: counter + 1 }, release());\n\n    var blobStamps = this.state.blobStamps;\n    var ref = React.createRef();\n\n    var elem = (\n      <BlobStamp\n        ref={ref}\n        starterCode={code}\n        errorLines={{}}\n        initialPosition={{ x: x, y: y }}\n        id={counter}\n        starterCodeSize={data.codeSize}\n        deleteFrame={this.deleteFrame}\n        initialHidden={hidden}\nstarterZIndex={data.zIndex}\n        onStartMove={this.onStartMove.bind(this)}\n        onStopMove={this.onStopMove.bind(this)}\n        addStamp={this.addBlobStamp.bind(this)}\n        onDelete={this.onDelete.bind(this)}\n        disablePan={this.disablePan.bind(this)}\n        starterEditorWidth={editorWidth}\n        starterEditorHeight={editorHeight}\n        requestCompile={this.requestCompile.bind(this)}\n        getExportableCode={this.getExportableCode.bind(this)}\n        getScale={this.getScale.bind(this)}\n      />\n    );\n\n    blobStamps[counter] = { elem: elem, ref: ref };\n    this.setState({ blobStamps: blobStamps }, (counter) => callback(counter));\n  }\n\n  checkForSetup() {\n    var newSetupExists = false;\n    var fnStamps = Object.values(this.state.fnStamps);\n    for (var i = 0; i < fnStamps.length; i++) {\n      var fnStampRef = fnStamps[i].ref.current;\n\n      if (fnStampRef.state.name === \"setup\") {\n        newSetupExists = true;\n      }\n    }\n\n    if (this.state.setupExists && newSetupExists === false) {\n      this.state.consoleStamp.ref.current.logToConsole(\n        `Stamper Error: You don't have a setup. This will constrain your canvas to a default width and height.`\n      );\n    }\n\n    this.setState({ setupExists: newSetupExists });\n\n    return newSetupExists;\n  }\n\n  getFileData() {\n    if (\n      this.state.htmlID in this.state.fnStamps === false ||\n      this.state.cssID in this.state.fnStamps === false\n    ) {\n      return;\n    }\n    var htmlStamp = this.state.fnStamps[this.state.htmlID];\n    var cssStamp = this.state.fnStamps[this.state.cssID];\n\n    var fileData = {\n      html: htmlStamp.ref.current.state.code,\n      css: cssStamp.ref.current.state.code,\n      js: this.getExportableCode()\n    };\n\n    var stamper = this.getAllData()\n\n    stamper.compressedJs = LZUTF8.compress(fileData.js, {\n      outputEncoding: \"StorageBinaryString\"\n    });\n\n    fileData.stamper = stamperHeader + JSON.stringify(stamper)\n\n    return fileData;\n  }\n\n  requestCompile(id) {\n\n    // var newTraversalGraph = this.setLineData()\n    // var oldTravarsalGraph = this.state.traversalGraph\n    // this.setState({traversalGraph:newTraversalGraph})\n    this.state.consoleStamp.ref.current.logToConsole(\"Updated code\", \"debug\");\n\n    this.setLayerPicker();\n\n    var duplicateNamedStamps = this.checkAllNames();\n\n    this.checkForSetup();\n\n    if(this.state.compiledBefore === false){\n      this.setState({compiledBefore:true})\n    }else{\n    ipc && ipc.send(\"edited\");\n    }\n\n    // this.recursiveCompileStamp(id, {}, newTraversalGraph, duplicateNamedStamps)\n\n    // this.recursiveCompileStamp(id, {}, oldTravarsalGraph, duplicateNamedStamps)\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      var stampRef = stamp.ref.current;\n      if (stampRef) {\n        var newErrors = [];\n        if (\n          stampRef.props.id in duplicateNamedStamps &&\n          stampRef.props.isCss === false &&\n          stampRef.props.isHtml === false\n        ) {\n          newErrors.push(0);\n        }\n\n        stampRef.clearErrorsAndUpdate(newErrors);\n      }\n    });\n\n    Object.values(this.state.blobStamps).map(stamp => {\n      var stampRef = stamp.ref.current;\n      if (stampRef) {\n        var newErrors = [];\n\n        if (\n          stampRef.props.id in duplicateNamedStamps &&\n          stampRef.props.isCss === false &&\n          stampRef.props.isHtml === false\n        ) {\n          newErrors.push(0);\n        }\n\n        stampRef.clearErrorsAndUpdate(newErrors);\n      }\n    });\n  }\n\n  recursiveCompileStamp(id, seen, traversalGraph, duplicateNamedStamps) {\n    if (id in seen) {\n      return;\n    } else {\n      seen[id] = \"\";\n    }\n\n    if (id in this.state.fnStamps) {\n      var stampRef = this.state.fnStamps[id].ref.current;\n    } else if (id in this.state.blobStamps) {\n      var stampRef = this.state.blobStamps[id].ref.current;\n    } else {\n      return;\n    }\n\n    if (stampRef) {\n      var newErrors = [];\n\n      if (\n        stampRef.props.id in duplicateNamedStamps &&\n        stampRef.props.isCss === false &&\n        stampRef.props.isHtml === false\n      ) {\n        newErrors.push(0);\n      }\n\n      stampRef.clearErrorsAndUpdate(newErrors);\n\n      if (id in traversalGraph === false) {\n        return;\n      }\n      traversalGraph[id].map(id =>\n        this.recursiveCompileStamp(id, seen, traversalGraph, duplicateNamedStamps)\n      );\n    }\n  }\n\n\n  disablePan(status) {\n    this.setState({panDisabled:status})\n  }\n\n  disableZoom(status) {\n    this.setState({zoomDisabled:status})\n  }\n\n  checkAllNames() {\n    var nameDict = {};\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var name = stamp.ref.current.state.name;\n        if (!(name in nameDict)) {\n          nameDict[name] = 0;\n        }\n        nameDict[name] += 1;\n      }\n    });\n\n    var duplicateNamedStamps = {};\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (stamp.ref.current) {\n        var stampRef = stamp.ref.current;\n        var name = stamp.ref.current.state.name;\n        if (nameDict[name] > 1) {\n          duplicateNamedStamps[stamp.ref.current.props.id] = \"\";\n\n          this.state.consoleStamp.ref.current.logToConsole(\n            `Stamper Error: Multiple functions shouldn't have the same name. Consider channging one of your ${name}s to something else.`\n          );\n        }\n      }\n    });\n\n    return duplicateNamedStamps;\n  }\n\n  getExportableCode() {\n    var runnableCode = [];\n    var ranges = [];\n    var curLine = 1;\n    var code;\n\n    Object.values(this.state.blobStamps).map(blobStamp => {\n      code = blobStamp.ref.current.state.code;\n      curLine = this.addCodeBlock(\n        code,\n        blobStamp.ref.current.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    });\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (\n        stamp.ref.current.props.isCss === false &&\n        stamp.ref.current.props.isHtml === false\n      ) {\n        var state = stamp.ref.current.state;\n        code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n        curLine = this.addCodeBlock(\n          code,\n          stamp.ref.current.props.id,\n          runnableCode,\n          ranges,\n          curLine,\n          true\n        );\n      }\n    });\n\n    return runnableCode.join(\"\\n\");\n  }\n\n  getNumLines(code) {\n    var numLines = 0;\n    for (var i = 0; i < code.length; i++) {\n      if (code[i] === \"\\n\") {\n        numLines += 1;\n      }\n    }\n\n    return numLines;\n  }\n\n  addCodeBlock(code, id, runnableCode, ranges, curLine, isFn) {\n    code = code.trim() + \"\\n\";\n    var start = curLine;\n    var end = curLine + this.getNumLines(code) - 1;\n    runnableCode.push(code);\n    ranges.push({ start: start, end: end, id: id, isFn: isFn });\n    return end + 1;\n  }\n\n  setLines() {\n    var lines = [];\n    var borderColorInt = 205 + 15 - 15 * this.state.scale;\n    var style = {\n      borderColor: `rgb(${borderColorInt}, ${borderColorInt}, ${borderColorInt})`,\n      borderWidth: 1\n    };\n\n    this.state.lineData.map(singleLineData => {\n      lines.push(\n        <SteppedLineTo\n          {...style}\n          from={\"vertex\" + singleLineData[0]}\n          to={\"vertex\" + singleLineData[1]}\n          orientation=\"v\"\n        />\n      );\n    });\n\n    this.setState({ lines: lines });\n  }\n\n  setLineData() {\n    var declaredDict = {};\n    var undeclaredArr = [];\n    var lineData = [];\n    var setupID = -1;\n    var traversalGraph = {};\n\n    Object.keys(this.state.blobStamps).map(id => {\n      var stampRef = this.state.blobStamps[id].ref.current;\n      var code = stampRef.state.code;\n      var identifiers = parser.getIdentifiers(code);\n\n      if (identifiers) {\n        identifiers.declared.map(identifier => (declaredDict[identifier] = id));\n        identifiers.undeclared.map(identifier =>\n          undeclaredArr.push([identifier, id])\n        );\n      }\n    });\n\n    Object.keys(this.state.fnStamps).map(id => {\n      var stampRef = this.state.fnStamps[id].ref.current;\n\n      if (stampRef.state.name === \"setup\") {\n        setupID = id;\n      }\n      var state = stampRef.state;\n      var code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n      var identifiers = parser.getIdentifiers(code);\n      if (identifiers) {\n        identifiers.declared.map(identifier => (declaredDict[identifier] = id));\n        identifiers.undeclared.map(identifier =>\n          undeclaredArr.push([identifier, id])\n        );\n      }\n    });\n\n    undeclaredArr.map(undeclaredItem => {\n      var identifier = undeclaredItem[0];\n      var usingFn = undeclaredItem[1];\n      var declaringFn = declaredDict[identifier];\n      if (declaringFn && usingFn) {\n        lineData.push([usingFn, declaringFn]);\n        if (declaringFn in traversalGraph === false) {\n          traversalGraph[declaringFn] = [];\n        }\n        traversalGraph[declaringFn].push(usingFn);\n      }\n    });\n\n    Object.keys(this.state.fnStamps).map(id => {\n      if (id != this.state.htmlID && id != this.state.cssID && id != setupID) {\n        lineData.push([id, setupID]);\n        if (setupID in traversalGraph === false) {\n          traversalGraph[setupID] = [];\n        }\n        traversalGraph[setupID].push(id);\n      }\n    });\n\n    this.setState({ lineData: lineData }, () => this.setLines());\n\n    Object.keys(this.state.fnStamps).map(id => {\n      if (id != this.state.htmlID && id != this.state.cssID) {\n        if (this.state.htmlID in traversalGraph === false) {\n          traversalGraph[this.state.htmlID] = [];\n        }\n        traversalGraph[this.state.htmlID].push(id);\n      }\n    });\n\n    traversalGraph[this.state.cssID] = [this.state.htmlID];\n\n    return traversalGraph;\n  }\n\n  getRunnableCode(id) {\n    var runnableCode = [];\n    var ranges = [];\n    var curLine = 1;\n    var code;\n\n    Object.values(this.state.blobStamps).map(blobStamp => {\n      code = blobStamp.ref.current.state.code;\n      curLine = this.addCodeBlock(\n        code,\n        blobStamp.ref.current.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    });\n\n    Object.values(this.state.fnStamps).map(stamp => {\n      if (\n        stamp.ref.current.state.name != \"draw\" &&\n        stamp.ref.current.props.isCss === false &&\n        stamp.ref.current.props.isHtml === false &&\n        (this.isListener(stamp.ref.current.state.name) === false ||\n          this.isListener(this.state.fnStamps[id].ref.current.state.name) ===\n            false)\n      ) {\n        var state = stamp.ref.current.state;\n        code = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n        curLine = this.addCodeBlock(\n          code,\n          stamp.ref.current.props.id,\n          runnableCode,\n          ranges,\n          curLine,\n          true\n        );\n      }\n    });\n\n    if (\n      id in this.state.fnStamps == false ||\n      this.state.fnStamps[id].ref.current === null\n    ) {\n      return runnableCode.join(\"\");\n    }\n\n    var fnStampRef = this.state.fnStamps[id].ref.current;\n    var state = fnStampRef.state;\n    if (state.name === \"draw\" || this.isListener(state.name)) {\n      var fullFun = `function ${state.name}(${state.args}){\\n${state.code}\\n}`;\n      curLine = this.addCodeBlock(\n        fullFun,\n        fnStampRef.props.id,\n        runnableCode,\n        ranges,\n        curLine,\n        true\n      );\n    } else if (state.name === \"setup\") {\n      // do nothing\n    } else {\n      code = `function draw(){\\n${state.name}()\\n}`;\n      curLine = this.addCodeBlock(\n        code,\n        -1,\n        runnableCode,\n        ranges,\n        curLine,\n        false\n      );\n    }\n\n    runnableCode = this.setLoopingControl(\n      id,\n      runnableCode.join(\"\"),\n      state.name\n    );\n\n    return { ranges: ranges, runnableCode: runnableCode };\n  }\n\n  setLoopingControl(id, runnableCode) {\n    var loopingVar = \"_isLooping\";\n\n    var loopingCallbacks = `\\n\nvar _isLooping = true\\n\nwindow.parent.postMessage({type:\"loop\", message:\"stop\", id:${id}}, '*')\nvar _userSetLoop = true\nvar _stopLooping = setTimeout(() => {\n noLoop() \n}, 1000)\n\ndocument.addEventListener('mouseenter', () => {\nclearTimeout(_stopLooping)\nwindow.parent.postMessage({type:\"loop\", message:\"start\", id:${id}}, '*')\nif(_isLooping){\n\nloop()\n}\n\n});\n\ndocument.addEventListener('mouseleave', () => {\n  window.parent.postMessage({type:\"loop\", message:\"stop\", id:${id}}, '*')\n_stopLooping =setTimeout(() => {\n noLoop() \n}, 1000)\n});\n\n`;\n\n    runnableCode = runnableCode.replace(\n      \"noLoop()\",\n      `noLoop(); _isLooping = false`\n    );\n    runnableCode = runnableCode.replace(\"loop()\", `loop(); _isLooping = true`);\n    runnableCode = runnableCode + loopingCallbacks;\n\n    return runnableCode;\n  }\n\n  isListener(name) {\n    return name in globals.specialFns && globals.specialFns[name] === false;\n  }\n\n  onDelete(id) {\n    var fnStamps = this.state.fnStamps;\n    var blobStamps = this.state.blobStamps;\n\n    if (id in fnStamps) {\n      ipc && ipc.send(\"edited\");\n      delete fnStamps[id];\n    } else if (id in blobStamps) {\n      ipc && ipc.send(\"edited\");\n      delete blobStamps[id];\n    }\n\n\n\n    this.refreshFnStamps(fnStamps, () => this.requestCompile(id));\n    this.refreshBlobStamps(blobStamps, () => this.requestCompile(id));\n\n\n    // this.refreshConsoleStamp(this.state.consoleStamp)\n  }\n\n  refreshConsoleStamp(consoleStamp) {\n    var data = consoleStamp.ref.current.getData();\n    this.setState({ consoleStamp: null }, () => this.addConsoleStamp(data));\n  }\n\n  getAllData() {\n    var data = {\n      fns: [],\n      blobs: [],\n      scale: this.state.scale,\n      console: this.state.consoleStamp.ref.current.getData(),\n      originX: this.state.originX,\n      originY: this.state.originY\n    };\n    Object.values(this.state.fnStamps).map(stamp =>\n      data.fns.push(stamp.ref.current.getData())\n    );\n\n    Object.values(this.state.blobStamps).map(stamp =>\n      data.blobs.push(stamp.ref.current.getData())\n    );\n\n    return data;\n  }\n\n  refreshFnStamps(fnStamps,callback) {\n    var data = []\n    Object.values(fnStamps).map( item => {\n\n      data.push( item.ref.current.getData())\n    } )\n\n    this.setState({fnStamps:{}}, ()=>{\n\n      data.map(stampData => {\n        this.addFnStamp(stampData)\n      })\n\n    })\n\n  }\n\n  refreshBlobStamps(blobStamps,callback) {\n\n    var data = []\n    Object.values(blobStamps).map( item => {\n\n      data.push( item.ref.current.getData())\n    } )\n\n    this.setState({blobStamps:{}}, ()=>{\n\n      data.map(stampData => {\n        this.addBlobStamp(stampData)\n      })\n\n    })\n\n\n  }\n\n  onStartMove() {\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n\n      fnStamp.setIframeDisabled(true);\n    }\n\n    this.setState({ lines: [] });\n  }\n\n  onStopMove(s) {\n    this.setState({mouseWheelTimeout:null})\n    var fnStamps = this.state.fnStamps;\n    for (var i in fnStamps) {\n      var fnStamp = fnStamps[i].ref.current;\n      fnStamp.setIframeDisabled(false);\n    }\n\n    this.setLines();\n  }\n\n  centerOnStamp(id, xOff, yOff) {\n    var stampRef;\n\n    if (id in this.state.fnStamps) {\n      stampRef = this.state.fnStamps[id].ref.current;\n    } else if (id in this.state.blobStamps) {\n      stampRef = this.state.blobStamps[id].ref.current;\n    } else if (\n      this.state.consoleStamp.ref.current &&\n      id === this.state.consoleStamp.ref.current.props.id\n    ) {\n      stampRef = this.state.consoleStamp.ref.current;\n    }\n\n    if (stampRef) {\n      var cristalRef = stampRef.cristalRef.current;\n      if (cristalRef) {\n    \n        var x = this.state.originX +cristalRef.state.x *this.state.scale,\n          y = this.state.originY + cristalRef.state.y*this.state.scale ,\n          width = cristalRef.state.width,\n          height = cristalRef.state.height;\n\n        var newX =\n          (window.innerWidth - xOff) / 2 +\n          xOff -\n          (width / 2) *this.state.scale\n        var newY =\n          (window.innerHeight - yOff) / 2 +\n          yOff -\n          (height / 2) *this.state.scale\n\n        this.manualPan(newX - x, newY - y);\n        cristalRef.changeZIndex();\n      }\n    }\n  }\n\n  manualPan(xDiff, yDiff) {\n\n    $(\".allStamps\").css({ transition: \"all .5s ease\" });\n    setTimeout(() => $(\".allStamps\").css({ transition: \"\" }), 500);\n    ipc && ipc.send(\"edited\");\n    this.setState(\n      {\n        originX: this.state.originX + xDiff,\n        originY: this.state.originY + yDiff,\n      });\n  }\n\n  toggleHide(stampRef) {\n    stampRef.toggleHide(\n      () => this.setLayerPicker()\n    );\n  }\n\n  getFirstLine(text) {\n    var firstN = text.length\n\n    for (var i = 0; i < text.length; i++) {\n      if (text[i] === \"\\n\") {\n        if(firstN === text.length){\n        firstN = i\n        }\n      }\n    }\n\n    if(firstN === 0){\n      return \" \"\n    }\n\n    return text.substr(0, Math.min(firstN, 15));\n  }\n\n  getScale(){\n    return this.state.scale\n  }\n\n  setLayerPicker() {\n    var pickerData = [];\n\n    if (this.state.consoleStamp && this.state.consoleStamp.ref.current) {\n      var consoleRef = this.state.consoleStamp.ref.current;\n      pickerData.push({\n        name: \"console\",\n        status: !consoleRef.state.hidden,\n        icon: consoleRef.getIcon(),\n        centerCallback: (xOff, yOff) =>\n          this.centerOnStamp(consoleRef.props.id, xOff, yOff),\n        hideCallback: () => this.toggleHide(consoleRef),\n        id: consoleRef.props.id\n      });\n    }\n\n    var fnIds = Object.keys(this.state.fnStamps);\n    var blobIds = Object.keys(this.state.blobStamps);\n    var allIds = fnIds.concat(blobIds);\n    allIds.map(id => {\n      if (id in this.state.fnStamps) {\n        var stampRef = this.state.fnStamps[id].ref.current;\n        if (!stampRef) {\n          return;\n        }\n        var name = stampRef.state.name;\n      } else if (id in this.state.blobStamps) {\n        var stampRef = this.state.blobStamps[id].ref.current;\n        if (!stampRef) {\n          return;\n        }\n        var name = this.getFirstLine(stampRef.state.code);\n      }\n\n      pickerData.push({\n        name: name,\n        icon: stampRef.getIcon(),\n        status: !stampRef.state.hidden,\n        centerCallback: (xOff, yOff) =>\n          this.centerOnStamp(stampRef.props.id, xOff, yOff),\n        hideCallback: () => this.toggleHide(stampRef),\n        id: stampRef.props.id\n      });\n    });\n\n    this.setState({ pickerData: pickerData });\n  }\n\n\n  getNumStamps(){\n    return {\n      fns: Object.keys(this.state.fnStamps).length,\n      blobs:Object.keys(this.state.blobStamps).length\n    }\n  }\n\n  render() {\n    if (this.state.consoleStamp) {\n      var consoleElem = this.state.consoleStamp.elem;\n    } else {\n      var consoleElem = null;\n    }\n\n    var elems = [];\n\n    Object.values(this.state.fnStamps).map(stamp => elems.push(stamp.elem));\n    Object.values(this.state.blobStamps).map(stamp => elems.push(stamp.elem));\n\n    return (\n      <div>\n        <div class=\"row bg-grey\" style={{ height: \"100vh\"}}>\n        <div className=\"allStamps\"\n        style={{position:\"absolute\", left:this.state.originX, top:this.state.originY, \n        transform:\"scale(\" + this.state.scale+\")\"}}>\n          {elems}\n          {consoleElem}\n        </div>\n        </div>\n\n        <ControlBar\n        getNumStamps={this.getNumStamps.bind(this)}\n        requestCompile = {this.requestCompile.bind(this)}\n          pickerData={this.state.pickerData}\n          addBlobStamp={this.addBlobStamp.bind(this)}\n          addFnStamp={this.addFnStamp.bind(this)}\n          disablePan={this.disablePan.bind(this)}\n          disableZoom={this.disableZoom.bind(this)}\n          loadStamperFile={this.loadStamperFile.bind(this)}\n          updateControlBarDimensions={this.updateControlBarDimensions.bind(\n            this\n          )}\n          modalManagerRef={this.modalManagerRef}\n          recompileIfEnoughStamps={this.recompileIfEnoughStamps.bind(this)}\n        />\n\n        <ModalManager\n          loadStamperFile={this.loadStamperFile.bind(this)}\n          ref={this.modalManagerRef}\n          loadStamperFile={this.loadStamperFile.bind(this)}\n          getAllData={this.getAllData.bind(this)}\n          getFileData={this.getFileData.bind(this)}\n        />\n      </div>\n    );\n  }\n}\n","import \"./App.scss\";\n\nimport React, { Component, useState } from \"react\";\n\nimport View from \"./View.js\";\n\n\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      <div>\n        <View />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/box.310d8273.svg\";","module.exports = __webpack_public_path__ + \"static/media/bell.86facacc.svg\";","module.exports = __webpack_public_path__ + \"static/media/tool.d68b9b61.svg\";","module.exports = __webpack_public_path__ + \"static/media/chevron-down.c66b213d.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.e6887622.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy.745449c2.svg\";","module.exports = __webpack_public_path__ + \"static/media/slash.c6f7141b.svg\";","module.exports = __webpack_public_path__ + \"static/media/type.3950b751.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen-tool.e6eb6671.svg\";","module.exports = __webpack_public_path__ + \"static/media/layout.8a437d55.svg\";","module.exports = __webpack_public_path__ + \"static/media/printer.cb409233.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye.62517b9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/eye-off.c68b9e9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/download.ce2002cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/archive.97582ec6.svg\";","var esprima = require(\"esprima\");\nvar _ = require(\"lodash\");\nconst log = require(\"electron-log\");\n\n\n\n\n// function printQ(q){\n//   var str = \"\"\n//   q.map(data => {\n//     if(data[0] === null){\n//       str +=  \"null\" + \",\"\n//     }else{\n//       str +=  data[0].toString() + \",\"\n//     }\n\n//   })\n// }\n\n//////////////////////////////////// jsToStamps\n\nfunction jsToStamps(rawCode) {\n  try{\n    var program = esprima.parseScript(rawCode, {\n      range: true,\n      comment: true,\n      tolerant: true,\n      loc: true\n    });\n  }catch(error){\n    console.log(error)\n    return null\n  }\n\n  var body = _.cloneDeep(program.body);\n  insertComments(body, program.comments);\n  var stamps = { fns: [], blobs: [] };\n  fillStampArrays(body, stamps.blobs, stamps.fns, rawCode);\n\n  return stamps;\n}\n\nfunction fillStampArrays(body, blobStamps, fnStamps, rawCode) {\n  var lastBlobLine = 0;\n  var tempBlobStamps = [];\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.type === \"FunctionDeclaration\") {\n      addFn(fnStamps, item, rawCode);\n    } else if (item.type === \"Block\" || item.type === \"Line\") {\n      lastBlobLine = addBlob(tempBlobStamps, item, rawCode, lastBlobLine, true);\n    } else {\n      lastBlobLine = addBlob(\n        tempBlobStamps,\n        item,\n        rawCode,\n        lastBlobLine,\n        false\n      );\n    }\n  }\n\n  for (var i = 0; i < tempBlobStamps.length; i++) {\n    var blobStamp = tempBlobStamps[i];\n    if (blobStamp.code != \"\") {\n      blobStamps.push(blobStamp);\n    }\n  }\n}\n\nfunction insertComments(body, comments) {\n  for (var i = 0; i < comments.length; i++) {\n    var comment = comments[i];\n    var pos = getPos(body, comment);\n\n    if (pos >= 0) {\n      body.splice(pos, 0, comment);\n    }\n  }\n}\n\nfunction getPos(body, comment) {\n  for (var i = 0; i < body.length; i++) {\n    var item = body[i];\n    if (item.range[0] < comment.range[0] && comment.range[1] < item.range[1]) {\n      return -1;\n    }\n    if (comment.range[1] < item.range[0]) {\n      return i;\n    }\n  }\n  return body.length;\n}\n\nfunction addBlob(blobStamps, item, rawCode, lastBlobLine, isComment) {\n  if (isComment) {\n    if ((item.type === \"Block\")) {\n      var code = \"/*\" + item.value + \"*/\";\n    } else {\n      var code = \"// \" + item.value;\n    }\n  } else {\n    var code = rawCode.substr(item.range[0], item.range[1] - item.range[0]);\n  }\n\n  if (blobStamps.length === 0) {\n    blobStamps.push({ code: \"\" });\n  }\n\n  var lastStamp = blobStamps[blobStamps.length - 1];\n\n  var lineDiff = item.loc.start.line - lastBlobLine;\n  if (lineDiff == 0) {\n    lastStamp.code += code;\n  } else if (lineDiff === 1) {\n    lastStamp.code += \"\\n\" + code;\n  } else {\n    blobStamps.push({ code: code });\n  }\n\n  return item.loc.end.line;\n}\n\nfunction addFn(fnStamps, item, rawCode) {\n  var range = item.range;\n  var name = item.id.name;\n\n  var args = \"\";\n  if (item.params.length >= 1) {\n    var argStart = item.params[0].range[0];\n    var argEnd = item.params[item.params.length - 1].range[1];\n    var args = rawCode.substr(argStart, argEnd - argStart);\n  }\n\n  var start = item.body.range[0] + 1;\n  var end = item.body.range[1] - 1;\n  var code = rawCode.substr(start, end - start);\n  fnStamps.push({ code: code, name: name, args: args });\n}\n\nexports.jsToStamps = jsToStamps;\n\n//////////////////////////////////// getIdentifiers\n\nfunction isDeclaration(typeName){\n  return typeName.includes(\"Declaration\") || typeName.includes(\"Declarator\")\n}\n\nfunction getIdentifiers(rawCode) {\n\n\n  try {\n    var fullDict = esprima.parseScript(rawCode);\n  } catch (error) {\n    // throw error i guess\n  }\n\n\n  var declared = {};\n  var undeclared = {};\n\n  var q = [[null, fullDict, 0, null]];\n\n  while (q.length > 0) {\n\n    var cur = q.shift();\n  \n  \n    var key = cur[0];\n    var val = cur[1];\n    var pVal = cur[3];\n    var lvl = cur[2];\n\n\n\n\n    if (val === null) {\n      continue;\n    }\n\n    if (key && val && pVal) {\n\n      if (\n        key === \"id\" &&\n        val.type === \"Identifier\" &&\n        isDeclaration(pVal.type) &&\n        val.name in declared === false\n      ) {\n  \n        declared[val.name] = [pVal.type, lvl];\n      }\n    }\n   \n    if (key && key === \"name\") {\n      if (val in declared === false) {\n        undeclared[val] = lvl;\n      }\n    }\n\n\n    if (val instanceof Array) {\n\n      val.map(newVal => q.push([null, newVal, lvl + 1, val]));\n    } else if (val instanceof Object) {\n  \n      Object.keys(val).map(newKey => {\n        q.push([newKey, val[newKey], lvl + 1, val]);\n      });\n\n    } else {\n      // let it die\n    }\n    \n  }\n\n\n  var result = {declared:[], undeclared:[]}\n  Object.keys(declared).map(name => {\n    if (declared[name][1] === 3 && declared[name][0].includes(\"Declaration\") ) {\n      result.declared.push(name)\n    }else if(declared[name][1] === 5 && declared[name][0].includes(\"Declarator\")){\n    result.declared.push(name)\n    }\n  });\n\n  var relevantUndeclared = {}\n  Object.keys(undeclared).map(name => {\n    result.undeclared.push(name)\n  })\n\n  return result\n}\n\n\nexports.getIdentifiers = getIdentifiers;\n","import ace from \"ace-builds\"\nace.define(\"ace/theme/p5\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\nexports.isDark = false;\nexports.cssClass = \"ace-p5\";\nexports.cssText = \".ace-p5 .ace_gutter {\\\n\tbackground: #F5F8FC;\\\n\tcolor: #333 !important;\\\n}\\\n\\\n.ace-p5 .ace_identifier {\\\n\tcolor: #000000;\\\n}\\\n.ace-p5 .ace_print-margin {\\\n\twidth: 1px;\\\n\tbackground: #F5F8FC;\\\n}\\\n\\\n.ace-p5 {\\\n\tbackground-color: #F5F8FC;\\\n\tcolor: #586E75\\\n}\\\n\\\n.ace-p5 .ace_cursor {\\\n\tcolor: #000000\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_selection {\\\n\tbackground: rgb(181, 213, 255)\\\n}\\\n\\\n.ace-p5.ace_multiselect .ace_selection.ace_start {\\\n\tbox-shadow: 0 0 3px 0px #FDF6E3;\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_step {\\\n\tbackground: rgb(255, 255, 0)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_bracket {\\\n\tmargin: -1px 0 0 -1px;\\\n\tborder: 1px solid rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_marker-layer .ace_active-line {\\\n\tbackground: #EEE8D5\\\n}\\\n\\\n.ace-p5 .ace_gutter-active-line {\\\n\tbackground-color : #EDE5C1\\\n}\\\n.ace-p5 .ace_marker-layer .ace_selected-word {\\\n\tborder: 1px solid #7f9390\\\n}\\\n\\\n.ace-p5 .ace_invisible {\\\n\tcolor: rgba(147, 161, 161, 0.50)\\\n}\\\n\\\n.ace-p5 .ace_keyword  {\\\n\tcolor: #00A1D3\\\n}\\\n\\\n.ace-p5 .ace_keyword.ace_operator {\\\n\tcolor: #A67F59\\\n}\\\n.ace-p5 .ace_meta,\\\n.ace-p5 .ace_support.ace_class,\\\n.ace-p5 .ace_support.ace_type {\\\n\tcolor: #859900\\\n}\\\n\\\n.ace-p5 .ace_paren{\\\n\tcolor: #666\\\n}\\\n.ace-p5 .ace_constant.ace_character,\\\n.ace-p5 .ace_constant.ace_other {\\\n\tcolor: #CB4B16\\\n}\\\n.ace-p5 .ace_constant.ace_language {\\\n\tcolor: #B58900\\\n}\\\n.ace-p5 .ace_constant.ace_numeric {\\\n\tcolor: #dc3787\\\n}\\\n.ace-p5 .ace_fold {\\\n\tbackground-color: #268BD2;\\\n\tborder-color: #586E75\\\n}\\\n.ace-p5 .ace_function, {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_entity.ace_name.ace_function,\\\n.ace-p5 .ace_entity.ace_name.ace_tag,\\\n.ace-p5 .ace_support.ace_function,\\\n.ace-p5 .ace_variable,\\\n.ace-p5 .ace_variable.ace_language {\\\n\tcolor: #00a1d3 !important\\\n}\\\n.ace-p5 .ace_storage {\\\n\tcolor: #704f21 !important\\\n}\\\n.ace-p5 .ace_string {\\\ncolor: #00a1d3 !important;\\\n}\\\n.ace-p5 .ace_string.ace_regexp {\\\ncolor: #D30102\\\n}\\\n.ace-p5 .ace_comment,\\\n.ace-p5 .ace_entity.ace_other.ace_attribute-name {\\\ncolor: #a0a0a0\\\n}\\\n.ace-p5 .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y\\\n}\"\n;\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});                (function() {\n                    ace.require([\"ace/theme/p5\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","module.exports = __webpack_public_path__ + \"static/media/code.d7ef8adb.svg\";"],"sourceRoot":""}